function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var App={};!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(_e.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==n})}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function i(e){var t={};return fe.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function o(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(o(),fe.ready())}function c(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(Me,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:je.test(n)?fe.parseJSON(n):n)}catch(e){}fe.data(e,t,n)}else n=undefined}return n}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,r){if(Pe(e)){var a,i,o=fe.expando,s=e.nodeType,c=s?fe.cache:e,l=s?e[o]:e[o]&&o;if(l&&c[l]&&(r||c[l].data)||n!==undefined||"string"!=typeof t)return l||(l=s?e[o]=ne.pop()||fe.guid++:o),c[l]||(c[l]=s?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?c[l]=fe.extend(c[l],t):c[l].data=fe.extend(c[l].data,t)),i=c[l],r||(i.data||(i.data={}),i=i.data),n!==undefined&&(i[fe.camelCase(t)]=n),"string"==typeof t?null==(a=i[t])&&(a=i[fe.camelCase(t)]):a=i,a}}function d(e,t,n){if(Pe(e)){var r,a,i=e.nodeType,o=i?fe.cache:e,s=i?e[fe.expando]:fe.expando;if(o[s]){if(t&&(r=n?o[s]:o[s].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in r?t=[t]:(t=fe.camelCase(t),t=t in r?[t]:t.split(" ")),a=t.length;for(;a--;)delete r[t[a]];if(n?!l(r):!fe.isEmptyObject(r))return}(n||(delete o[s].data,l(o[s])))&&(i?fe.cleanData([e],!0):de.deleteExpando||o!=o.window?delete o[s]:o[s]=undefined)}}}function p(e,t,n,r){var a,i=1,o=20,s=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},c=s(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==l&&+c)&&Ae.exec(fe.css(e,t));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do{i=i||".5",u/=i,fe.style(e,t,u+l)}while(i!==(i=s()/c)&&1!==i&&--o)}return n&&(u=+u||+c||0,a=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=a)),a}function f(e){var t=ze.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,a=0,i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[a]);a++)!t||fe.nodeName(r,t)?i.push(r):fe.merge(i,m(r,t));return t===undefined||t&&fe.nodeName(e,t)?fe.merge([e],i):i}function h(e,t){for(var n,r=0;null!=(n=e[r]);r++)fe._data(n,"globalEval",!t||fe._data(t[r],"globalEval"))}function y(e){Ue.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,a){for(var i,o,s,c,l,u,d,p=e.length,v=f(t),g=[],b=0;b<p;b++)if((o=e[b])||0===o)if("object"===fe.type(o))fe.merge(g,o.nodeType?[o]:o);else if(He.test(o)){for(c=c||v.appendChild(t.createElement("div")),l=(Fe.exec(o)||["",""])[1].toLowerCase(),d=qe[l]||qe._default,c.innerHTML=d[1]+fe.htmlPrefilter(o)+d[2],i=d[0];i--;)c=c.lastChild;if(!de.leadingWhitespace&&Ge.test(o)&&g.push(t.createTextNode(Ge.exec(o)[0])),!de.tbody)for(o="table"!==l||We.test(o)?"<table>"!==d[1]||We.test(o)?0:c:c.firstChild,i=o&&o.childNodes.length;i--;)fe.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(fe.merge(g,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=v.lastChild}else g.push(t.createTextNode(o));for(c&&v.removeChild(c),de.appendChecked||fe.grep(m(g,"input"),y),b=0;o=g[b++];)if(r&&fe.inArray(o,r)>-1)a&&a.push(o);else if(s=fe.contains(o.ownerDocument,o),c=m(v.appendChild(o),"script"),s&&h(c),n)for(i=0;o=c[i++];)$e.test(o.type||"")&&n.push(o);return c=null,v}function g(){return!0}function b(){return!1}function E(){try{return re.activeElement}catch(e){}}function w(e,t,n,r,a,i){var o,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=undefined);for(s in t)w(e,s,n,r,t[s],i);return e}if(null==r&&null==a?(a=n,r=n=undefined):null==a&&("string"==typeof n?(a=r,r=undefined):(a=r,r=n,n=undefined)),!1===a)a=b;else if(!a)return e;return 1===i&&(o=a,a=function(e){return fe().off(e),o.apply(this,arguments)},a.guid=o.guid||(o.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,a,r,n)})}function R(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function k(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,r,a,i=fe._data(e),o=fe._data(t,i),s=i.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,a=s[n].length;r<a;r++)fe.event.add(t,n,s[n][r])}o.data&&(o.data=fe.extend({},o.data))}}function x(e,t){var n,r,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.noCloneEvent&&t[fe.expando]){a=fe._data(t);for(r in a.events)fe.removeEvent(t,r,a.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(_(t).text=e.text,k(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ue.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function O(e,t,n,r){t=ie.apply([],t);var a,i,o,s,c,l,u=0,d=e.length,p=d-1,f=t[0],h=fe.isFunction(f);if(h||d>1&&"string"==typeof f&&!de.checkClone&&nt.test(f))return e.each(function(a){var i=e.eq(a);h&&(t[0]=f.call(this,a,i.html())),O(i,t,n,r)});if(d&&(l=v(t,e[0].ownerDocument,!1,e,r),a=l.firstChild,1===l.childNodes.length&&(l=a),a||r)){for(s=fe.map(m(l,"script"),_),o=s.length;u<d;u++)i=l,u!==p&&(i=fe.clone(i,!0,!0),o&&fe.merge(s,m(i,"script"))),n.call(e[u],i,u);if(o)for(c=s[s.length-1].ownerDocument,fe.map(s,k),u=0;u<o;u++)i=s[u],$e.test(i.type||"")&&!fe._data(i,"globalEval")&&fe.contains(c,i)&&(i.src?fe._evalUrl&&fe._evalUrl(i.src):fe.globalEval((i.text||i.textContent||i.innerHTML||"").replace(at,"")));l=a=null}return e}function S(e,t,n){for(var r,a=t?fe.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||fe.cleanData(m(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&h(m(r,"script")),r.parentNode.removeChild(r));return e}function T(e,t){var n=fe(t.createElement(e)).appendTo(t.body),r=fe.css(n[0],"display");return n.detach(),r}function N(e){var t=re,n=ct[e];return n||(n=T(e,t),"none"!==n&&n||(st=(st||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(st[0].contentWindow||st[0].contentDocument).document,t.write(),t.close(),n=T(e,t),st.detach()),ct[e]=n),n}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e){if(e in _t)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Rt.length;n--;)if((e=Rt[n]+t)in _t)return e}function M(e,t){for(var n,r,a,i=[],o=0,s=e.length;o<s;o++)r=e[o],r.style&&(i[o]=fe._data(r,"olddisplay"),n=r.style.display,t?(i[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Be(r)&&(i[o]=fe._data(r,"olddisplay",N(r.nodeName)))):(a=Be(r),(n&&"none"!==n||!a)&&fe._data(r,"olddisplay",a?n:fe.css(r,"display"))));for(o=0;o<s;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[o]||"":"none"));return e}function D(e,t,n){var r=bt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,a){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;i<4;i+=2)"margin"===n&&(o+=fe.css(e,n+Ie[i],!0,a)),r?("content"===n&&(o-=fe.css(e,"padding"+Ie[i],!0,a)),"margin"!==n&&(o-=fe.css(e,"border"+Ie[i]+"Width",!0,a))):(o+=fe.css(e,"padding"+Ie[i],!0,a),"padding"!==n&&(o+=fe.css(e,"border"+Ie[i]+"Width",!0,a)));return o}function I(e,t,n){var r=!0,a="width"===t?e.offsetWidth:e.offsetHeight,i=ft(e),o=de.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,i);if(a<=0||null==a){if(a=mt(e,t,i),(a<0||null==a)&&(a=e.style[t]),ut.test(a))return a;r=o&&(de.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+A(e,t,n||(o?"border":"content"),r,i)+"px"}function B(e,t,n,r,a){return new B.prototype.init(e,t,n,r,a)}function L(){return e.setTimeout(function(){kt=undefined}),kt=fe.now()}function U(e,t){var n,r={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)n=Ie[a],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,a=(z.tweeners[t]||[]).concat(z.tweeners["*"]),i=0,o=a.length;i<o;i++)if(r=a[i].call(n,t,e))return r}function $(e,t,n){var r,a,i,o,s,c,l,u=this,d={},p=e.style,f=e.nodeType&&Be(e),m=fe._data(e,"fxshow");n.queue||(s=fe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=fe.css(e,"display"),"inline"===("none"===l?fe._data(e,"olddisplay")||N(e.nodeName):l)&&"none"===fe.css(e,"float")&&(de.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",de.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],xt.exec(a)){if(delete t[r],i=i||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||m[r]===undefined)continue;f=!0}d[r]=m&&m[r]||fe.style(e,r)}else l=undefined;if(fe.isEmptyObject(d))"inline"===("none"===l?N(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(f=m.hidden):m=fe._data(e,"fxshow",{}),i&&(m.hidden=!f),f?fe(e).show():u.done(function(){fe(e).hide()}),u.done(function(){var t;fe._removeData(e,"fxshow");for(t in d)fe.style(e,t,d[t])});for(r in d)o=F(f?m[r]:0,r,u),r in m||(m[r]=o.start,f&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function G(e,t){var n,r,a,i,o;for(n in e)if(r=fe.camelCase(n),a=t[r],i=e[n],fe.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(o=fe.cssHooks[r])&&"expand"in o){i=o.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=a)}else t[r]=a}function z(e,t,n){var r,a,i=0,o=z.prefilters.length,s=fe.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var t=kt||L(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,c=l.tweens.length;o<c;o++)l.tweens[o].run(i);return s.notifyWith(e,[l,i,n]),i<1&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:kt||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(G(u,l.opts.specialEasing);i<o;i++)if(r=z.prefilters[i].call(l,e,u,l.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(u,F,l),fe.isFunction(l.opts.start)&&l.opts.start.call(e,l),fe.fx.timer(fe.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(e){return fe.attr(e,"class")||""}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(Se)||[];if(fe.isFunction(n))for(;r=i[a++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function W(e,t,n,r){function a(s){var c;return i[s]=!0,fe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),c}var i={},o=e===Kt;return a(t.dataTypes[0])||!i["*"]&&a("*")}function V(e,t){var n,r,a=fe.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((a[r]?e:n||(n={}))[r]=t[r]);return n&&fe.extend(!0,e,n),e}function J(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===undefined&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}r||(r=o)}i=i||r}if(i)return i!==c[0]&&c.unshift(i),n[i]}function Y(e,t,n,r){var a,i,o,s,c,l={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=u.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=l[c+" "+i]||l["* "+i]))for(a in l)if(s=a.split(" "),s[1]===i&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[a]:!0!==l[a]&&(i=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||fe.css(e,"display")}function K(e){if(!fe.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,n,r){var a;if(fe.isArray(t))fe.each(t,function(t,a){n||nn.test(e)?r(e,a):Q(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(a in t)Q(e+"["+a+"]",t[a],n,r)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=e.document,ae=ne.slice,ie=ne.concat,oe=ne.push,se=ne.indexOf,ce={},le=ce.toString,ue=ce.hasOwnProperty,de={},pe="1.12.4",fe=function(e,t){return new fe.fn.init(e,t)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,ye=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:pe,constructor:fe,selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ae.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||fe.isFunction(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(a=arguments[s]))for(r in a)e=o[r],n=a[r],o!==n&&(l&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,i=e&&fe.isArray(e)?e:[]):i=e&&fe.isPlainObject(e)?e:{},o[r]=fe.extend(l,i,n)):n!==undefined&&(o[r]=n));return o},fe.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!de.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return t===undefined||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ce[le.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(he,"ms-").replace(ye,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,a=0;if(n(e))for(r=e.length;a<r&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?fe.merge(r,"string"==typeof e?[e]:e):oe.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;)e[a++]=t[r++];if(n!==n)for(;t[r]!==undefined;)e[a++]=t[r++];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(e,t,r){var a,i,o=0,s=[];if(n(e))for(a=e.length;o<a;o++)null!=(i=t(e[o],o,r))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&s.push(i);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,a;return"string"==typeof t&&(a=e[t],t=e,e=a),fe.isFunction(e)?(n=ae.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ae.call(arguments)))},r.guid=e.guid=e.guid||fe.guid++,r):undefined},now:function(){return+new Date},support:de}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ce["[object "+t+"]"]=t.toLowerCase()});var ge=function(e){function t(e,t,n,r){var a,i,o,s,c,l,d,f,m=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:F)!==j&&P(t),t=t||j,D)){if(11!==h&&(l=ve.exec(e)))if(a=l[1]){if(9===h){if(!(o=t.getElementById(a)))return n;if(o.id===a)return n.push(o),n}else if(m&&(o=m.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&!H[e+" "]&&(!A||!A.test(e))){if(1!==h)m=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=U),d=C(e),i=d.length,c=pe.test(s)?"#"+s:"[id='"+s+"']";i--;)d[i]=c+" "+p(d[i]);f=d.join(","),m=ge.test(e)&&u(t.parentNode)||t}if(f)try{return Q.apply(n,m.querySelectorAll(f)),n}catch(e){}finally{s===U&&t.removeAttribute("id")}}}return O(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>R.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function a(e){var t=j.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)R.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,a=n&&"parentNode"===r,i=G++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i)}:function(t,n,o){var s,c,l,u=[$,i];if(o){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||a){if(l=t[U]||(t[U]={}),c=l[t.uniqueID]||(l[t.uniqueID]={}),(s=c[r])&&s[0]===$&&s[1]===i)return u[2]=s[2];if(c[r]=u,u[2]=e(t,n,o))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var a=0,i=n.length;a<i;a++)t(e,n[a],r);return r}function y(e,t,n,r,a){for(var i,o=[],s=0,c=e.length,l=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,a)||(o.push(i),l&&t.push(s)));return o}function v(e,t,n,a,i,o){return a&&!a[U]&&(a=v(a)),i&&!i[U]&&(i=v(i,o)),r(function(r,o,s,c){var l,u,d,p=[],f=[],m=o.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?v:y(v,p,e,s,c),b=n?i||(r?e:m||a)?[]:o:g;if(n&&n(g,b,s,c),a)for(l=y(b,f),a(l,[],s,c),u=l.length;u--;)(d=l[u])&&(b[f[u]]=!(g[f[u]]=d));if(r){if(i||e){if(i){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(g[u]=d);i(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=i?ee(r,d):p[u])>-1&&(r[l]=!(o[l]=d))}}else b=y(b===o?b.splice(m,b.length):b),i?i(null,o,b,c):Q.apply(o,b)})}function g(e){for(var t,n,r,a=e.length,i=R.relative[e[0].type],o=i||R.relative[" "],s=i?1:0,c=f(function(e){return e===t},o,!0),l=f(function(e){return ee(t,e)>-1},o,!0),u=[function(e,n,r){var a=!i&&(r||n!==S)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,a}];s<a;s++)if(n=R.relative[e[s].type])u=[f(m(u),n)];else{if(n=R.filter[e[s].type].apply(null,e[s].matches),n[U]){for(r=++s;r<a&&!R.relative[e[r].type];r++);return v(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&g(e.slice(s,r)),r<a&&g(e=e.slice(r)),r<a&&p(e))}u.push(n)}return m(u)}function b(e,n){var a=n.length>0,i=e.length>0,o=function(r,o,s,c,l){var u,d,p,f=0,m="0",h=r&&[],v=[],g=S,b=r||i&&R.find.TAG("*",l),E=$+=null==g?1:Math.random()||.1,w=b.length;for(l&&(S=o===j||o||l);m!==w&&null!=(u=b[m]);m++){if(i&&u){for(d=0,o||u.ownerDocument===j||(P(u),s=!D);p=e[d++];)if(p(u,o||j,s)){c.push(u);break}l&&($=E)}a&&((u=!p&&u)&&f--,r&&h.push(u))}if(f+=m,a&&m!==f){for(d=0;p=n[d++];)p(h,v,o,s);if(r){if(f>0)for(;m--;)h[m]||v[m]||(v[m]=X.call(c));v=y(v)}Q.apply(c,v),l&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(c)}return l&&($=E,S=g),h};return a?r(o):o}var E,w,R,_,k,C,x,O,S,T,N,P,j,M,D,A,I,B,L,U="sizzle"+1*new Date,F=e.document,$=0,G=0,z=n(),q=n(),H=n(),W=function(e,t){return e===t&&(N=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],X=Y.pop,K=Y.push,Q=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ie),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,be=/'|\\/g,Ee=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Re=function(){P()};try{Q.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(e){Q={apply:Y.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,M=j.documentElement,D=!k(j),(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Re,!1):n.attachEvent&&n.attachEvent("onunload",Re)),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(j.getElementsByClassName),w.getById=a(function(e){return M.appendChild(e).id=U,!j.getElementsByName||!j.getElementsByName(U).length}),w.getById?(R.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},R.filter.ID=function(e){var t=e.replace(Ee,we);return function(e){return e.getAttribute("id")===t}}):(delete R.find.ID,R.filter.ID=function(e){var t=e.replace(Ee,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),R.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},R.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},I=[],A=[],(w.qsa=ye.test(j.querySelectorAll))&&(a(function(e){M.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&A.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||A.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||A.push("~="),e.querySelectorAll(":checked").length||A.push(":checked"),
e.querySelectorAll("a#"+U+"+*").length||A.push(".#.+[+~]")}),a(function(e){var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&A.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),(w.matchesSelector=ye.test(B=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&a(function(e){w.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),I.push("!=",ie)}),A=A.length&&new RegExp(A.join("|")),I=I.length&&new RegExp(I.join("|")),t=ye.test(M.compareDocumentPosition),L=t||ye.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===F&&L(F,e)?-1:t===j||t.ownerDocument===F&&L(F,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,s=[e],c=[t];if(!a||!i)return e===j?-1:t===j?1:a?-1:i?1:T?ee(T,e)-ee(T,t):0;if(a===i)return o(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?o(s[r],c[r]):s[r]===F?-1:c[r]===F?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&P(e),n=n.replace(ue,"='$1']"),w.matchesSelector&&D&&!H[n+" "]&&(!I||!I.test(n))&&(!A||!A.test(n)))try{var r=B.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&P(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&P(e);var n=R.attrHandle[t.toLowerCase()],r=n&&J.call(R.attrHandle,t.toLowerCase())?n(e,t,!D):undefined;return r!==undefined?r:w.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,a=0;if(N=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return T=null,e},_=t.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=_(t);return n},R=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Ee,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(a){var i=t.attr(a,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,f,m,h=i!==o?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),g=!c&&!s,b=!1;if(y){if(i){for(;h;){for(p=t;p=p[h];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[o?y.firstChild:y.lastChild],o&&g){for(p=y,d=p[U]||(p[U]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],f=l[0]===$&&l[1],b=f&&l[2],p=f&&y.childNodes[f];p=++f&&p&&p[h]||(b=f=0)||m.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[$,f,b];break}}else if(g&&(p=t,d=p[U]||(p[U]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),l=u[e]||[],f=l[0]===$&&l[1],b=f),!1===b)for(;(p=++f&&p&&p[h]||(b=f=0)||m.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(g&&(d=p[U]||(p[U]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[$,b]),p!==t)););return(b-=a)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var a,i=R.pseudos[e]||R.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[U]?i(n):i.length>1?(a=[e,e,"",n],R.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,a=i(e,n),o=a.length;o--;)r=ee(e,a[o]),e[r]=!(t[r]=a[o])}):function(e){return i(e,0,a)}):i}},pseudos:{not:r(function(e){var t=[],n=[],a=x(e.replace(se,"$1"));return a[U]?r(function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,a(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ee,we),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ee,we).toLowerCase(),function(t){var n;do{if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!R.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},R.pseudos.nth=R.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})R.pseudos[E]=c(E);return d.prototype=R.filters=R.pseudos,R.setFilters=new d,C=t.tokenize=function(e,n){var r,a,i,o,s,c,l,u=q[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=R.preFilter;s;){r&&!(a=ce.exec(s))||(a&&(s=s.slice(a[0].length)||s),c.push(i=[])),r=!1,(a=le.exec(s))&&(r=a.shift(),i.push({value:r,type:a[0].replace(se," ")}),s=s.slice(r.length));for(o in R.filter)!(a=fe[o].exec(s))||l[o]&&!(a=l[o](a))||(r=a.shift(),i.push({value:r,type:o,matches:a}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):q(e,c).slice(0)},x=t.compile=function(e,t){var n,r=[],a=[],i=H[e+" "];if(!i){for(t||(t=C(e)),n=t.length;n--;)i=g(t[n]),i[U]?r.push(i):a.push(i);i=H(e,b(a,r)),i.selector=e}return i},O=t.select=function(e,t,n,r){var a,i,o,s,c,l="function"==typeof e&&e,d=!r&&C(e=l.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(o=i[0]).type&&w.getById&&9===t.nodeType&&D&&R.relative[i[1].type]){if(!(t=(R.find.ID(o.matches[0].replace(Ee,we),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(a=fe.needsContext.test(e)?0:i.length;a--&&(o=i[a],!R.relative[s=o.type]);)if((c=R.find[s])&&(r=c(o.matches[0].replace(Ee,we),ge.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(a,1),!(e=r.length&&p(i)))return Q.apply(n,r),n;break}}return(l||x(e,d))(r,t,!D,n,!t||ge.test(e)&&u(t.parentNode)||t),n},w.sortStable=U.split("").sort(W).join("")===U,w.detectDuplicates=!!N,P(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=ge,fe.expr=ge.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ge.uniqueSort,fe.text=ge.getText,fe.isXMLDoc=ge.isXML,fe.contains=ge.contains;var be=function(e,t,n){for(var r=[],a=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&fe(e).is(n))break;r.push(e)}return r},Ee=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=fe.expr.match.needsContext,Re=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_e=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],r=this,a=r.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<a;t++)if(fe.contains(r[t],this))return!0}));for(t=0;t<a;t++)fe.find(e,r[t],n);return n=this.pushStack(a>1?fe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&we.test(e)?fe(e):e||[],!1).length}});var ke,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||ke,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Re.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((a=re.getElementById(r[2]))&&a.parentNode){if(a.id!==r[2])return ke.find(e);this.length=1,this[0]=a}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,ke=fe(re);var xe=/^(?:parents|prev(?:Until|All))/,Oe={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,a=this.length,i=[],o=we.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?fe.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return Ee((e.parentNode||{}).firstChild,e)},children:function(e){return Ee(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var a=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=fe.filter(r,a)),this.length>1&&(Oe[e]||(a=fe.uniqueSort(a)),xe.test(e)&&(a=a.reverse())),this.pushStack(a)}});var Se=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?i(e):fe.extend({},e);var t,n,r,a,o=[],s=[],c=-1,l=function(){for(a=e.once,r=t=!0;s.length;c=-1)for(n=s.shift();++c<o.length;)!1===o[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=o.length,n=!1);e.memory||(n=!1),t=!1,a&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(c=o.length-1,s.push(n)),function t(n){fe.each(n,function(n,r){fe.isFunction(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==fe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,o,n))>-1;)o.splice(n,1),n<=c&&c--}),this},has:function(e){return e?fe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return a=!0,n||u.disable(),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,i){var o=fe.isFunction(e[t])&&e[t];a[i[1]](function(){var e=o&&o.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},a={};return r.pipe=r.then,fe.each(t,function(e,i){var o=i[2],s=i[3];r[i[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+"With"](this===a?r:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,i=ae.call(arguments),o=i.length,s=1!==o||e&&fe.isFunction(e.promise)?o:0,c=1===s?e:fe.Deferred(),l=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?ae.call(arguments):a,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);a<o;a++)i[a]&&fe.isFunction(i[a].promise)?i[a].promise().progress(l(a,n,t)).done(l(a,r,i)).fail(c.reject):--s;return s||c.resolveWith(r,i),c.promise()}});var Te;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||(Te.resolveWith(re,[fe]),fe.fn.triggerHandler&&(fe(re).triggerHandler("ready"),fe(re).off("ready"))))}}),fe.ready.promise=function(t){if(!Te)if(Te=fe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(fe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!fe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}o(),fe.ready()}}()}return Te.promise(t)},fe.ready.promise();var Ne;for(Ne in fe(de))break;de.ownFirst="0"===Ne,de.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",de.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");de.deleteExpando=!0;try{delete e.test}catch(e){de.deleteExpando=!1}e=null}();var Pe=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!l(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,r,a,i=this[0],o=i&&i.attributes;if(e===undefined){if(this.length&&(a=fe.data(i),1===i.nodeType&&!fe._data(i,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=fe.camelCase(r.slice(5)),c(i,r,a[r])));fe._data(i,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):i?c(i,e,fe.data(i,e)):undefined},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=fe._data(e,t),n&&(!r||fe.isArray(n)?r=fe._data(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,a=n.shift(),i=fe._queueHooks(e,t),o=function(){fe.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,o,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):t===undefined?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=fe.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(n=fe._data(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}}),function(){var e;de.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=re.getElementsByTagName("body")[0])&&n.style?(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(re.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Le=function(e,t,n,r,a,i,o){var s=0,c=e.length,l=null==n;if("object"===fe.type(n)){a=!0;for(s in n)Le(e,t,s,n[s],!0,i,o)}else if(r!==undefined&&(a=!0,fe.isFunction(r)||(o=!0),l&&(o?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;s<c;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return a?e:l?t.call(e):c?t(e[0],n):i},Ue=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,$e=/^$|\/(?:java|ecma)script/i,Ge=/^\s+/,ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=re.createElement("div"),t=re.createDocumentFragment(),n=re.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de.leadingWhitespace=3===e.firstChild.nodeType,de.tbody=!e.getElementsByTagName("tbody").length,de.htmlSerialize=!!e.getElementsByTagName("link").length,de.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),de.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=re.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,de.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,de.attributes=!e.getAttribute(fe.expando)}();var qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td;var He=/<|&#?\w+;/,We=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(de[t]=n in e)||(r.setAttribute(n,"t"),de[t]=!1===r.attributes[n].expando);r=null}();var Ve=/^(?:input|select|textarea)$/i,Je=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Ke=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,l,u,d,p,f,m,h,y=fe._data(e);if(y){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=fe.guid++),(o=y.events)||(o=y.events={}),(u=y.handle)||(u=y.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?undefined:fe.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(Se)||[""],s=t.length;s--;)i=Ke.exec(t[s])||[],f=h=i[1],m=(i[2]||"").split(".").sort(),f&&(l=fe.event.special[f]||{},f=(a?l.delegateType:l.bindType)||f,l=fe.event.special[f]||{},d=fe.extend({type:f,origType:h,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&fe.expr.match.needsContext.test(a),namespace:m.join(".")},c),(p=o[f])||(p=o[f]=[],p.delegateCount=0,l.setup&&!1!==l.setup.call(e,r,m,u)||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,d):p.push(d),fe.event.global[f]=!0);e=null}},remove:function(e,t,n,r,a){var i,o,s,c,l,u,d,p,f,m,h,y=fe.hasData(e)&&fe._data(e);if(y&&(u=y.events)){for(t=(t||"").match(Se)||[""],l=t.length;l--;)if(s=Ke.exec(t[l])||[],f=h=s[1],m=(s[2]||"").split(".").sort(),f){for(d=fe.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=i=p.length;i--;)o=p[i],!a&&h!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(i,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));c&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,m,y.handle)||fe.removeEvent(e,f,y.handle),delete u[f])}else for(f in u)fe.event.remove(e,f+t[l],n,r,!0);fe.isEmptyObject(u)&&(delete y.handle,fe._removeData(e,"events"))}},trigger:function(t,n,r,a){var i,o,s,c,l,u,d,p=[r||re],f=ue.call(t,"type")?t.type:t,m=ue.call(t,"namespace")?t.namespace.split("."):[];if(s=u=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!Xe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),o=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),l=fe.event.special[f]||{},a||!l.trigger||!1!==l.trigger.apply(r,n))){if(!a&&!l.noBubble&&!fe.isWindow(r)){for(c=l.delegateType||f,Xe.test(c+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(r.ownerDocument||re)&&p.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?c:l.bindType||f,i=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"),i&&i.apply(s,n),(i=o&&s[o])&&i.apply&&Pe(s)&&(t.result=i.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=f,!a&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(p.pop(),n))&&Pe(r)&&o&&r[f]&&!fe.isWindow(r)){u=r[o],u&&(r[o]=null),fe.event.triggered=f;try{r[f]()}catch(e){}fe.event.triggered=undefined,u&&(r[o]=u)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,r,a,i,o=[],s=ae.call(arguments),c=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(o=fe.event.handlers.call(this,e,c),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,(r=((fe.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,a,i,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)i=t[n],a=i.selector+" ",r[a]===undefined&&(r[a]=i.needsContext?fe(a,this).index(c)>-1:fe.find(a,this,null,[c]).length),r[a]&&r.push(i);r.length&&o.push({elem:c,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[fe.expando])return e;var t,n,r,a=e.type,i=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Ye.test(a)?this.mouseHooks:Je.test(a)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new fe.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,i=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||re,a=r.documentElement,n=r.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||i===undefined||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?g:b):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=g,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=g,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=g,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,a=e.relatedTarget,i=e.handleObj;return a&&(a===r||fe.contains(r,a))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),de.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):undefined;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),de.change||(fe.event.special.change={setup:function(){if(Ve.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ve.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)
},teardown:function(){return fe.event.remove(this,"._change"),!Ve.test(this.nodeName)}}),de.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=fe._data(r,t);a||r.addEventListener(e,n,!0),fe._data(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=fe._data(r,t)-1;a?fe._data(r,t,a):(r.removeEventListener(e,n,!0),fe._removeData(r,t))}}}),fe.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=b),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}});var Qe=/ jQuery\d+="(?:null|\d+)"/g,Ze=new RegExp("<(?:"+ze+")[\\s/>]","i"),et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,it=f(re),ot=it.appendChild(re.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var r,a,i,o,s,c=fe.contains(e.ownerDocument,e);if(de.html5Clone||fe.isXMLDoc(e)||!Ze.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,ot.removeChild(i=ot.firstChild)),!(de.noCloneEvent&&de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(r=m(i),s=m(e),o=0;null!=(a=s[o]);++o)r[o]&&x(a,r[o]);if(t)if(n)for(s=s||m(e),r=r||m(i),o=0;null!=(a=s[o]);o++)C(a,r[o]);else C(e,i);return r=m(i,"script"),r.length>0&&h(r,!c&&m(e,"script")),r=s=a=null,i},cleanData:function(e,t){for(var n,r,a,i,o=0,s=fe.expando,c=fe.cache,l=de.attributes,u=fe.event.special;null!=(n=e[o]);o++)if((t||Pe(n))&&(a=n[s],i=a&&c[a])){if(i.events)for(r in i.events)u[r]?fe.event.remove(n,r):fe.removeEvent(n,r,i.handle);c[a]&&(delete c[a],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(a))}}}),fe.fn.extend({domManip:O,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Le(this,function(e){return e===undefined?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){R(this,e).appendChild(e)}})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=R(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Le(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(Qe,""):undefined;if("string"==typeof e&&!tt.test(e)&&(de.htmlSerialize||!Ze.test(e))&&(de.leadingWhitespace||!Ge.test(e))&&!qe[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return O(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=0,a=[],i=fe(e),o=i.length-1;r<=o;r++)n=r===o?this:this.clone(!0),fe(i[r])[t](n),oe.apply(a,n.get());return this.pushStack(a)}});var st,ct={HTML:"block",BODY:"block"},lt=/^margin/,ut=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,r){var a,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];a=n.apply(e,r||[]);for(i in t)e.style[i]=o[i];return a},pt=re.documentElement;!function(){function t(){var t,u,d=re.documentElement;d.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=a=s=!1,r=o=!0,e.getComputedStyle&&(u=e.getComputedStyle(l),n="1%"!==(u||{}).top,s="2px"===(u||{}).marginLeft,a="4px"===(u||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(u||{marginRight:"4px"}).marginRight,t=l.appendChild(re.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",o=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",i=0===l.getClientRects().length,i&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(i=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",i=0===t[0].offsetHeight)),d.removeChild(c)}var n,r,a,i,o,s,c=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",de.opacity="0.5"===l.style.opacity,de.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===l.style.backgroundClip,c=re.createElement("div"),c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),de.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,fe.extend(de,{reliableHiddenOffsets:function(){return null==n&&t(),i},boxSizingReliable:function(){return null==n&&t(),a},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),o},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ft,mt,ht=/^(top|right|bottom|left)$/;e.getComputedStyle?(ft=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},mt=function(e,t,n){var r,a,i,o,s=e.style;return n=n||ft(e),o=n?n.getPropertyValue(t)||n[t]:undefined,""!==o&&o!==undefined||fe.contains(e.ownerDocument,e)||(o=fe.style(e,t)),n&&!de.pixelMarginRight()&&ut.test(o)&&lt.test(t)&&(r=s.width,a=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=a,s.maxWidth=i),o===undefined?o:o+""}):pt.currentStyle&&(ft=function(e){return e.currentStyle},mt=function(e,t,n){var r,a,i,o,s=e.style;return n=n||ft(e),o=n?n[t]:undefined,null==o&&s&&s[t]&&(o=s[t]),ut.test(o)&&!ht.test(t)&&(r=s.left,a=e.runtimeStyle,i=a&&a.left,i&&(a.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=r,i&&(a.left=i)),o===undefined?o:o+""||"auto"});var yt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,gt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+De+")(.*)$","i"),Et={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"},Rt=["Webkit","O","Moz","ms"],_t=re.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=mt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=fe.camelCase(t),c=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=j(s)||s),o=fe.cssHooks[t]||fe.cssHooks[s],n===undefined)return o&&"get"in o&&(a=o.get(e,!1,r))!==undefined?a:c[t];if(i=typeof n,"string"===i&&(a=Ae.exec(n))&&a[1]&&(n=p(e,t,a),i="number"),null!=n&&n===n&&("number"===i&&(n+=a&&a[3]||(fe.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(o&&"set"in o&&(n=o.set(e,n,r))===undefined)))try{c[t]=n}catch(e){}}},css:function(e,t,n,r){var a,i,o,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=j(s)||s),o=fe.cssHooks[t]||fe.cssHooks[s],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=mt(e,t,r)),"normal"===i&&t in wt&&(i=wt[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return gt.test(fe.css(e,"display"))&&0===e.offsetWidth?dt(e,Et,function(){return I(e,t,r)}):I(e,t,r)},set:function(e,n,r){var a=r&&ft(e);return D(e,n,r?A(e,t,r,de.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,a),a):0)}}}),de.opacity||(fe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,a=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===fe.trim(i.replace(yt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=yt.test(i)?i.replace(yt,a):i+" "+a)}}),fe.cssHooks.marginRight=P(de.reliableMarginRight,function(e,t){if(t)return dt(e,{display:"inline-block"},mt,[e,"marginRight"])}),fe.cssHooks.marginLeft=P(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(mt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+Ie[r]+t]=i[r]||i[r-2]||i[0];return a}},lt.test(e)||(fe.cssHooks[e+t].set=D)}),fe.fn.extend({css:function(e,t){return Le(this,function(e,t,n){var r,a,i={},o=0;if(fe.isArray(t)){for(r=ft(e),a=t.length;o<a;o++)i[t[o]]=fe.css(e,t[o],!1,r);return i}return n!==undefined?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(fe.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=B.prototype.init,fe.fx.step={};var kt,Ct,xt=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;fe.Animation=fe.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,r=0,a=e.length;r<a;r++)n=e[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[$],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return r.duration=fe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in fe.fx.speeds?fe.fx.speeds[r.duration]:fe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=fe.isEmptyObject(e),i=fe.speed(t,n,r),o=function(){var t=z(this,fe.extend({},e),i);(a||fe._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=fe.timers,o=fe._data(this);if(a)o[a]&&o[a].stop&&r(o[a]);else for(a in o)o[a]&&o[a].stop&&Ot.test(a)&&r(o[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=fe._data(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=fe.timers,o=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(U(t,!0),e,r,a)}}),fe.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(kt=fe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),kt=undefined},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Ct||(Ct=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Ct),Ct=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}})},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),a=r.appendChild(re.createElement("option"));n=re.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",de.getSetAttribute="t"!==n.className,de.style=/top/.test(e.getAttribute("style")),de.hrefNormalized="/a"===e.getAttribute("href"),de.checkOn=!!t.value,de.optSelected=a.selected,de.enctype=!!re.createElement("form").enctype,r.disabled=!0,de.optDisabled=!a.disabled,t=re.createElement("input"),t.setAttribute("value",""),de.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),de.radioValue="t"===t.value}();var St=/\r/g,Tt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,n,r,a=this[0];{if(arguments.length)return r=fe.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=r?e.call(this,n,fe(this).val()):e,null==a?a="":"number"==typeof a?a+="":fe.isArray(a)&&(a=fe.map(a,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,a,"value")!==undefined||(this.value=a))});if(a)return(t=fe.valHooks[a.type]||fe.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(a,"value"))!==undefined?n:(n=a.value,"string"==typeof n?n.replace(St,""):null==n?"":n)}}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(Tt," ")}},select:{get:function(e){for(var t,n,r=e.options,a=e.selectedIndex,i="select-one"===e.type||a<0,o=i?null:[],s=i?a+1:r.length,c=a<0?s:i?a:0;c<s;c++)if(n=r[c],(n.selected||c===a)&&(de.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),i)return t;o.push(t)}return o},set:function(e,t){for(var n,r,a=e.options,i=fe.makeArray(t),o=a.length;o--;)if(r=a[o],fe.inArray(fe.valHooks.option.get(r),i)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),a}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},de.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nt,Pt,jt=fe.expr.attrHandle,Mt=/^(?:checked|selected)$/i,Dt=de.getSetAttribute,At=de.input;fe.fn.extend({attr:function(e,t){return Le(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===i&&fe.isXMLDoc(e)||(t=t.toLowerCase(),a=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?Pt:Nt)),n!==undefined?null===n?void fe.removeAttr(e,t):a&&"set"in a&&(r=a.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:(r=fe.find.attr(e,t),null==r?undefined:r))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,a=0,i=t&&t.match(Se);if(i&&1===e.nodeType)for(;n=i[a++];)r=fe.propFix[n]||n,fe.expr.match.bool.test(n)?At&&Dt||!Mt.test(n)?e[r]=!1:e[fe.camelCase("default-"+n)]=e[r]=!1:fe.attr(e,n,""),e.removeAttribute(Dt?n:r)}}),Pt={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):At&&Dt||!Mt.test(n)?e.setAttribute(!Dt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=jt[t]||fe.find.attr;At&&Dt||!Mt.test(t)?jt[t]=function(e,t,r){var a,i;return r||(i=jt[t],jt[t]=a,a=null!=n(e,t,r)?t.toLowerCase():null,jt[t]=i),a}:jt[t]=function(e,t,n){if(!n)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&Dt||(fe.attrHooks.value={set:function(e,t,n){if(!fe.nodeName(e,"input"))return Nt&&Nt.set(e,t,n);e.defaultValue=t}}),Dt||(Nt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},jt.id=jt.name=jt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Nt.set},fe.attrHooks.contenteditable={set:function(e,t,n){Nt.set(e,""!==t&&t,n)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),de.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var It=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Le(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(e){}})}}),fe.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,a=fe.propHooks[t]),n!==undefined?a&&"set"in a&&(r=a.set(e,n,t))!==undefined?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):It.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),de.enctype||(fe.propFix.enctype="encoding");var Lt=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,r,a,i,o,s,c=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[c++];)if(a=q(n),r=1===n.nodeType&&(" "+a+" ").replace(Lt," ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=fe.trim(r),a!==s&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,a,i,o,s,c=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[c++];)if(a=q(n),r=1===n.nodeType&&(" "+a+" ").replace(Lt," ")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=fe.trim(r),a!==s&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,r,a,i;if("string"===n)for(r=0,a=fe(this),i=e.match(Se)||[];t=i[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else e!==undefined&&"boolean"!==n||(t=q(this),t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||!1===e?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(Lt," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ut=e.location,Ft=fe.now(),$t=/\?/,Gt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,a=fe.trim(t+"");return a&&!fe.trim(a.replace(Gt,function(e,t,a,i){return n&&t&&(r=0),0===r?e:(n=a||t,r+=!i-!a,"")}))?Function("return "+a)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,n=r.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var zt=/#.*$/,qt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xt={},Kt={},Qt="*/".concat("*"),Zt=Ut.href,en=Yt.exec(Zt.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt,type:"GET",isLocal:Wt.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,fe.ajaxSettings),t):V(fe.ajaxSettings,e)},ajaxPrefilter:H(Xt),ajaxTransport:H(Kt),ajax:function(t,n){function r(t,n,r,a){var i,d,g,b,w,_=n;2!==E&&(E=2,c&&e.clearTimeout(c),u=undefined,s=a||"",R.readyState=t>0?4:0,i=t>=200&&t<300||304===t,r&&(b=J(p,R,r)),b=Y(p,b,R,i),i?(p.ifModified&&(w=R.getResponseHeader("Last-Modified"),w&&(fe.lastModified[o]=w),(w=R.getResponseHeader("etag"))&&(fe.etag[o]=w)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=b.state,d=b.data,g=b.error,i=!g)):(g=_,!t&&_||(_="error",t<0&&(t=0))),R.status=t,R.statusText=(n||_)+"",i?h.resolveWith(f,[d,_,R]):h.rejectWith(f,[R,_,g]),R.statusCode(v),v=undefined,l&&m.trigger(i?"ajaxSuccess":"ajaxError",[R,p,i?d:g]),y.fireWith(f,[R,_]),l&&(m.trigger("ajaxComplete",[R,p]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var a,i,o,s,c,l,u,d,p=fe.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?fe(f):fe.event,h=fe.Deferred(),y=fe.Callbacks("once memory"),v=p.statusCode||{},g={},b={},E=0,w="canceled",R={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!d)for(d={};t=Ht.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=b[n]=b[n]||e,g[e]=t),this},overrideMimeType:function(e){return E||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)v[t]=[v[t],e[t]];else R.always(e[R.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),r(0,t),this}};if(h.promise(R).complete=y.add,R.success=R.done,R.error=R.fail,p.url=((t||p.url||Zt)+"").replace(zt,"").replace(Jt,en[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=fe.trim(p.dataType||"*").toLowerCase().match(Se)||[""],null==p.crossDomain&&(a=Yt.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===en[1]&&a[2]===en[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=fe.param(p.data,p.traditional)),W(Xt,p,n,R),2===E)return R;l=fe.event&&p.global,l&&0==fe.active++&&fe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Vt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=($t.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=qt.test(o)?o.replace(qt,"$1_="+Ft++):o+($t.test(o)?"&":"?")+"_="+Ft++)),p.ifModified&&(fe.lastModified[o]&&R.setRequestHeader("If-Modified-Since",fe.lastModified[o]),fe.etag[o]&&R.setRequestHeader("If-None-Match",fe.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&R.setRequestHeader("Content-Type",p.contentType),R.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Qt+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)R.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(f,R,p)||2===E))return R.abort();w="abort";for(i in{success:1,error:1,complete:1})R[i](p[i]);if(u=W(Kt,p,n,R)){if(R.readyState=1,l&&m.trigger("ajaxSend",[R,p]),2===E)return R;p.async&&p.timeout>0&&(c=e.setTimeout(function(){R.abort("timeout")},p.timeout));try{E=1,u.send(g,r)}catch(e){if(!(E<2))throw e;r(-1,e)}}else r(-1,"No Transport");return R},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,undefined,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,a){return fe.isFunction(n)&&(a=a||r,r=n,n=undefined),fe.ajax(fe.extend({url:e,type:t,dataType:a,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return de.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:K(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],a=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){a(this.name,this.value)});else for(n in e)Q(n,e[n],t,a);return r.join("&").replace(tn,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&on.test(this.nodeName)&&!an.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:n.replace(rn,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var sn=0,cn={},ln=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in cn)cn[e](undefined,!0)}),de.cors=!!ln&&"withCredentials"in ln,ln=de.ajax=!!ln,ln&&fe.ajaxTransport(function(t){if(!t.crossDomain||de.cors){var n;return{send:function(r,a){var i,o=t.xhr(),s=++sn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(i in r)r[i]!==undefined&&o.setRequestHeader(i,r[i]+"");o.send(t.hasContent&&t.data||null),n=function(e,r){var i,c,l;if(n&&(r||4===o.readyState))if(delete cn[s],n=undefined,o.onreadystatechange=fe.noop,r)4!==o.readyState&&o.abort();else{l={},i=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{c=o.statusText}catch(e){c=""}i||!t.isLocal||t.crossDomain?1223===i&&(i=204):i=l.text?200:404}l&&a(i,c,l,o.getAllResponseHeaders())},t.async?4===o.readyState?e.setTimeout(n):o.onreadystatechange=cn[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||fe("head")[0]||re.documentElement;return{send:function(r,a){t=re.createElement("script"),t.async=!0,
e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var un=[],dn=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=un.pop()||fe.expando+"_"+Ft++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,s=!1!==t.jsonp&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(dn,"$1"+a):!1!==t.jsonp&&(t.url+=($t.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||fe.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){i===undefined?fe(e).removeProp(a):e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,un.push(a)),o&&fe.isFunction(i)&&i(o[0]),o=i=undefined}),"script"}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=Re.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,a),a&&a.length&&fe(a).remove(),fe.merge([],r.childNodes))};var pn=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&pn)return pn.apply(this,arguments);var r,a,i,o=this,s=e.indexOf(" ");return s>-1&&(r=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(a="POST"),o.length>0&&fe.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,a,i,o,s,c,l,u=fe.css(e,"position"),d=fe(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),i=fe.css(e,"top"),c=fe.css(e,"left"),l=("absolute"===u||"fixed"===u)&&fe.inArray("auto",[i,c])>-1,l?(r=d.position(),o=r.top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(c)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):d.css(p)}},fe.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},a=this[0],i=a&&a.ownerDocument;if(i)return t=i.documentElement,fe.contains(t,a)?("undefined"!=typeof a.getBoundingClientRect&&(r=a.getBoundingClientRect()),n=te(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===fe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(r,"marginTop",!0),left:t.left-n.left-fe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||pt})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);fe.fn[e]=function(r){return Le(this,function(e,r,a){var i=te(e);if(a===undefined)return i?t in i?i[t]:i.document.documentElement[r]:e[r];i?i.scrollTo(n?fe(i).scrollLeft():a,n?a:fe(i).scrollTop()):e[r]=a},e,r,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=P(de.pixelPosition,function(e,n){if(n)return n=mt(e,t),ut.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(r,a){var i=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===a?"margin":"border");return Le(this,function(t,n,r){var a;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):r===undefined?fe.css(t,n,o):fe.style(t,n,r,o)},t,i?r:undefined,i,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var fn=e.jQuery,mn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=mn),t&&e.jQuery===fe&&(e.jQuery=fn),fe},t||(e.jQuery=e.$=fe),fe}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,r){var a=e.Event(n);return t.trigger(a,r),!1!==a.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(r){var a,i,o,s,c,l;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,c=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){a=r.data("ujs:submit-button-formmethod")||r.attr("method"),i=r.data("ujs:submit-button-formaction")||r.attr("action"),o=e(r[0]).serializeArray();var u=r.data("ujs:submit-button");u&&(o.push(u),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(n.inputChangeSelector)?(a=r.data("method"),i=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(a=r.data("method")||"get",i=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(a=r.data("method"),i=n.href(r),o=r.data("params")||null);return l={type:a||"GET",data:o,dataType:c,beforeSend:function(e,a){if(a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),!n.fire(r,"ajax:beforeSend",[e,a]))return!1;r.trigger("ajax:send",e)},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(i)},s&&(l.xhrFields={withCredentials:s}),i&&(l.url=i),n.ajax(l)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}},handleMethod:function(r){var a=n.href(r),i=r.data("method"),o=r.attr("target"),s=n.csrfToken(),c=n.csrfParam(),l=e('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+i+'" type="hidden" />';c===t||s===t||n.isCrossDomain(a)||(u+='<input name="'+c+'" value="'+s+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(u).appendTo("body"),l.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,r;n=e.is("button")?"html":"val",r=e.data("disable-with"),r!==t&&(e.data("ujs:enable-with",e[n]()),e[n](r)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,r=e.data("confirm"),a=!1;if(!r)return!0;if(n.fire(e,"confirm")){try{a=n.confirm(r)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=n.fire(e,"confirm:complete",[a])}return a&&t},blankInputs:function(t,n,r){var a,i,o,s,c=e(),l=n||"input,textarea",u=t.find(l),d={};return u.each(function(){a=e(this),a.is("input[type=radio]")?(s=a.attr("name"),d[s]||(0===t.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=t.find('input[type=radio][name="'+s+'"]'),c=c.add(o)),d[s]=s)):(i=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):!!a.val())===r&&(c=c.add(a))}),!!c.length&&c},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var r=e.data("disable-with");r!==t&&(e.data("ujs:enable-with",e.html()),e.html(r)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),r.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),r.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),r.on("click.rails",n.linkClickSelector,function(t){var r=e(this),a=r.data("method"),i=r.data("params"),o=t.metaKey||t.ctrlKey;if(!n.allowAction(r))return n.stopEverything(t);if(!o&&r.is(n.linkDisableSelector)&&n.disableElement(r),n.isRemote(r)){if(o&&(!a||"GET"===a)&&!i)return!0;var s=n.handleRemote(r);return!1===s?n.enableElement(r):s.fail(function(){n.enableElement(r)}),!1}return a?(n.handleMethod(r),!1):void 0}),r.on("click.rails",n.buttonClickSelector,function(t){var r=e(this);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(t);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var a=n.handleRemote(r);return!1===a?n.enableFormElement(r):a.fail(function(){n.enableFormElement(r)}),!1}),r.on("change.rails",n.inputChangeSelector,function(t){var r=e(this);return n.allowAction(r)&&n.isRemote(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.on("submit.rails",n.formSubmitSelector,function(r){var a,i,o=e(this),s=n.isRemote(o);if(!n.allowAction(o))return n.stopEverything(r);if(o.attr("novalidate")===t)if(o.data("ujs:formnovalidate-button")===t){if((a=n.blankInputs(o,n.requiredInputSelector,!1))&&n.fire(o,"ajax:aborted:required",[a]))return n.stopEverything(r)}else o.data("ujs:formnovalidate-button",t);if(s){if(i=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var c=n.fire(o,"ajax:aborted:file",[i]);return c||setTimeout(function(){n.enableFormElements(o)},13),c}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),r.on("click.rails",n.formInputClickSelector,function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var a=r.attr("name"),i=a?{name:a,value:r.val()}:null,o=r.closest("form");0===o.length&&(o=e("#"+r.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",r.attr("formnovalidate")),o.data("ujs:submit-button-formaction",r.attr("formaction")),o.data("ujs:submit-button-formmethod",r.attr("formmethod"))}),r.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),r.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,a,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var l in i)i[l]&&(c+="; "+l,!0!==i[l]&&(c+="="+i[l]));return document.cookie=t+"="+a+c}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var f=u[p].split("="),m=f.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=f[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===h){o=m;break}t||(o[h]=m)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})}),function(e){"use strict";e.ajaxPrefilter(function(e){if(e.iframe)return e.originalURL=e.url,"iframe"}),e.ajaxTransport("iframe",function(t,n){function r(){s.each(function(t,n){var r=e(n);r.data("clone").replaceWith(r)}),a.remove(),i.one("load",function(){i.remove()}),i.attr("src","about:blank")}var a=null,i=null,o="iframe-"+e.now(),s=e(t.files).filter(":file:enabled"),c=null;if(t.dataTypes.shift(),t.data=n.data,s.length)return a=e("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:t.originalURL,target:o}),"string"==typeof t.data&&t.data.length>0&&e.error("data must not be serialized"),e.each(t.data||{},function(t,n){e.isPlainObject(n)&&(t=n.name,n=n.value),e("<input type='hidden' />").attr({name:t,value:n}).appendTo(a)}),e("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(a),c=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", */*; q=0.01":""):t.accepts["*"],e("<input type='hidden' name='X-HTTP-Accept'>").attr("value",c).appendTo(a),s.after(function(){var t=e(this),n=t.clone().prop("disabled",!0);return t.data("clone",n),n}).next(),s.appendTo(a),{send:function(t,n){i=e("<iframe src='about:blank' name='"+o+"' id='"+o+"' style='display:none'></iframe>"),i.one("load",function(){i.one("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,a=t.getElementsByTagName("textarea")[0],i=a&&a.getAttribute("data-type")||null,o=a&&a.getAttribute("data-status")||200,s=a&&a.getAttribute("data-statusText")||"OK",c={html:t.innerHTML,text:i?a.value:t?t.textContent||t.innerText:null};r(),n(o,s,c,i?"Content-Type: "+i:null)}),a[0].submit()}),e("body").append(a,i)},abort:function(){null!==i&&(i.unbind("load").attr("src","about:blank"),r())}}})}(jQuery),function(e){var t;e.remotipart=t={setup:function(n){var r=n.data("ujs:submit-button"),a=e('meta[name="csrf-param"]').attr("content"),i=e('meta[name="csrf-token"]').attr("content"),o=n.find('input[name="'+a+'"]').length;n.one("ajax:beforeSend.remotipart",function(s,c,l){return delete l.beforeSend,l.iframe=!0,l.files=e(e.rails.fileInputSelector,n),l.data=n.serializeArray(),r&&l.data.push(r),l.files.each(function(e,t){for(var n=l.data.length-1;n>=0;n--)l.data[n].name==t.name&&l.data.splice(n,1)}),l.processData=!1,l.dataType===undefined&&(l.dataType="script *"),l.data.push({name:"remotipart_submitted",value:!0}),i&&a&&!o&&l.data.push({name:a,value:i}),e.rails.fire(n,"ajax:remotipartSubmit",[c,l])&&(e.rails.ajax(l).always(function(t){e.rails.fire(n,"ajax:remotipartComplete",[t])}),setTimeout(function(){e.rails.disableFormElements(n)},20)),t.teardown(n),!1}).data("remotipartSubmitted",!0)},teardown:function(e){e.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},e(document).on("ajax:aborted:file","form",function(){var n=e(this);return t.setup(n),e.rails.handleRemote(n),!1})}(jQuery),function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(4),a=n(23),i=n(7),o=n(9);window.React=r,window.ReactDOM=a,window.createReactClass=i,window.PropTypes=o},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,r,a,i,o,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,a,i,o,s,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e){"use strict";function t(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,o,s=t(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(s[l]=n[l]);if(r){o=r(n);for(var u=0;u<o.length;u++)i.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}},function(e,t,n){"use strict";e.exports=n(11)},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";function r(e){return e}function a(e,t,n){function a(e,t){var n=g.hasOwnProperty(t)?g[t]:null;_.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function l(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(c)&&E.mixins(e,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==c){var l=n[o],u=r.hasOwnProperty(o);if(a(u,o),E.hasOwnProperty(o))E[o](e,l);else{var d=g.hasOwnProperty(o),m="function"==typeof l,h=m&&!d&&!u&&!1!==n.autobind;if(h)i.push(o,l),r[o]=l;else if(u){var y=g[o];s(d&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,o),"DEFINE_MANY_MERGED"===y?r[o]=p(r[o],l):"DEFINE_MANY"===y&&(r[o]=f(r[o],l))}else r[o]=l}}}}function u(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var a=n in E;s(!a,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;if(i){var o=b.hasOwnProperty(n)?b[n]:null;return s("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r))}e[n]=r}}}function d(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var a={};return d(a,n),d(a,r),a}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}function h(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];e[r]=m(e,a)}}function y(e){var t=r(function(e,r,a){this.__reactAutoBindPairs.length&&h(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;s("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new k,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(l.bind(null,t)),l(t,w),l(t,e),l(t,R),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var a in g)t.prototype[a]||(t.prototype[a]=null);return t}var v=[],g={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)l(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){u(e,t)},autobind:function(){}},w={componentDidMount:function(){this.__isMounted=!0}},R={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},k=function(){};return i(k.prototype,e.prototype,_),y}var i=n(3),o=n(1),s=n(2),c="mixins";e.exports=a},function(e,t,n){"use strict";var r=n(4),a=n(6);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=a(r.Component,r.isValidElement,i)},function(e,t,n){"use strict";function r(){}var a=n(10);e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(8)()},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);g(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||j}function i(){}function o(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||j}function s(e,t,n){var r=void 0,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)A.call(t,r)&&!I.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:R,type:e,key:i,ref:o,props:a,_owner:D.current}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===R}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function u(e,t,n,r){if(L.length){var a=L.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function p(e,t,n,a){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case R:case _:o=!0}}if(o)return n(a,e,""===t?"."+f(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var c=t+f(i,s);o+=p(i,c,n,a)}else if(null===e||void 0===e?c=null:(c=P&&e[P]||e["@@iterator"],c="function"==typeof c?c:null),"function"==typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)i=i.value,c=t+f(i,s++),o+=p(i,c,n,a);else"object"===i&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function f(e,t){return"object"==typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function h(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,r,n,E.thatReturnsArgument):null!=e&&(c(e)&&(t=a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(B,"$&/")+"/")+n,e={$$typeof:R,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function y(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(B,"$&/")+"/"),t=u(t,i,r,a),null==e||p(e,"",h,t),d(t)}var v=n(3),g=n(2),b=n(1),E=n(5),w="function"==typeof Symbol&&Symbol["for"],R=w?Symbol["for"]("react.element"):60103,_=w?Symbol["for"]("react.portal"):60106,k=w?Symbol["for"]("react.fragment"):60107,C=w?Symbol["for"]("react.strict_mode"):60108,x=w?Symbol["for"]("react.profiler"):60114,O=w?Symbol["for"]("react.provider"):60109,S=w?Symbol["for"]("react.context"):60110,T=w?Symbol["for"]("react.async_mode"):60111,N=w?Symbol["for"]("react.forward_ref"):60112;w&&Symbol["for"]("react.timeout");var P="function"==typeof Symbol&&Symbol.iterator,j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=a.prototype;var M=o.prototype=new i;M.constructor=o,v(M,a.prototype),M.isPureReactComponent=!0;var D={current:null},A=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},B=/\/+/g,L=[],U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return y(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=u(null,null,t,n),null==e||p(e,"",m,t),void d(t))},count:function(e){return null==e?0:p(e,"",E.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,E.thatReturnsArgument),t},only:function(e){return c(e)||r("143"),e}},createRef:function(){return{current:null}},Component:a,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:S,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null},e.Provider={$$typeof:O,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:N,render:e}},Fragment:k,StrictMode:C,unstable_AsyncMode:T,unstable_Profiler:x,createElement:s,cloneElement:function(e,t,n){(null===e||void 0===e)&&r("267",e);var a=void 0,i=v({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=D.current),void 0!==t.key&&(o=""+t.key);var l=void 0;e.type&&e.type.defaultProps&&(l=e.type.defaultProps);for(a in t)A.call(t,a)&&!I.hasOwnProperty(a)&&(i[a]=void 0===t[a]&&void 0!==l?l[a]:t[a])}if(1===(a=arguments.length-2))i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:R,type:e.type,key:o,ref:s,props:i,_owner:c}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:D,assign:v}},F={"default":U},$=F&&U||F;e.exports=$["default"]?$["default"]:$},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!a(e)&&(a(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var a=n(18);e.exports=r},function(e){"use strict";function t(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,,function(e){"use strict";function t(e){
var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return a(e)&&3==e.nodeType}var a=n(17);e.exports=r},,function(e){"use strict";function t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function n(e,n){if(t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var a=Object.keys(e),i=Object.keys(n);if(a.length!==i.length)return!1;for(var o=0;o<a.length;o++)if(!r.call(n,a[o])||!t(e[a[o]],n[a[o]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},,function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Dr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this._hasCaughtError=!1,this._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function i(){if(zr._hasRethrowError){var e=zr._rethrowError;throw zr._rethrowError=null,zr._hasRethrowError=!1,e}}function o(){if(qr)for(var e in Hr){var t=Hr[e],n=qr.indexOf(e);if(-1<n||r("96",e),!Wr[n]){t.extractEvents||r("97",e),Wr[n]=t,n=t.eventTypes;for(var a in n){var i=void 0,o=n[a],c=t,l=a;Vr.hasOwnProperty(l)&&r("99",l),Vr[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&s(u[i],c,l);i=!0}else o.registrationName?(s(o.registrationName,c,l),i=!0):i=!1;i||r("98",a,e)}}}}function s(e,t,n){Jr[e]&&r("100",e),Jr[e]=t,Yr[e]=t.eventTypes[n].dependencies}function c(e){qr&&r("101"),qr=Array.prototype.slice.call(e),o()}function l(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var a=e[t];Hr.hasOwnProperty(t)&&Hr[t]===a||(Hr[t]&&r("102",t),Hr[t]=a,n=!0)}n&&o()}function u(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),zr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function d(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function p(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function f(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var a=0;a<n.length&&!e.isPropagationStopped();a++)u(e,t,n[a],r[a]);else n&&u(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function m(e){return f(e,!0)}function h(e){return f(e,!1)}function y(e,t){var n=e.stateNode;if(!n)return null;var a=Kr(n);if(!a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(a=!a.disabled)||(e=e.type,a=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function v(e,t){null!==e&&(ea=d(ea,e)),e=ea,ea=null,e&&(t?p(e,m):p(e,h),ea&&r("95"),zr.rethrowCaughtError())}function g(e,t,n,r){for(var a=null,i=0;i<Wr.length;i++){var o=Wr[i];o&&(o=o.extractEvents(e,t,n,r))&&(a=d(a,o))}v(a,!1)}function b(e){if(e[aa])return e[aa];for(;!e[aa];){if(!e.parentNode)return null;e=e.parentNode}return e=e[aa],5===e.tag||6===e.tag?e:null}function E(e){return 5===e.tag||6===e.tag?e.stateNode:void r("33")}function w(e){return e[ia]||null}function R(e){do{e=e["return"]}while(e&&5!==e.tag);return e||null}function _(e,t,n){for(var r=[];e;)r.push(e),e=R(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function k(e,t,n){(t=y(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function C(e){e&&e.dispatchConfig.phasedRegistrationNames&&_(e._targetInst,k,e)}function x(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?R(t):null,_(t,k,e)}}function O(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=y(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function S(e){e&&e.dispatchConfig.registrationName&&O(e._targetInst,null,e)}function T(e){p(e,C)}function N(e,t,n,r){if(n&&r)e:{for(var a=n,i=r,o=0,s=a;s;s=R(s))o++;s=0;for(var c=i;c;c=R(c))s++;for(;0<o-s;)a=R(a),o--;for(;0<s-o;)i=R(i),s--;for(;o--;){if(a===i||a===i.alternate)break e;a=R(a),i=R(i)}a=null}else a=null;for(i=a,a=[];n&&n!==i&&(null===(o=n.alternate)||o!==i);)a.push(n),n=R(n);for(n=[];r&&r!==i&&(null===(o=r.alternate)||o!==i);)n.push(r),r=R(r);for(r=0;r<a.length;r++)O(a[r],"bubbled",e);for(e=n.length;0<e--;)O(n[e],"captured",t)}function P(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function j(e){if(la[e])return la[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in ua)return la[e]=n[t];return e}function M(){return!ya&&Ir.canUseDOM&&(ya="textContent"in document.documentElement?"textContent":"innerText"),ya}function D(){if(va._fallbackText)return va._fallbackText;var e,t,n=va._startText,r=n.length,a=A(),i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return va._fallbackText=a.slice(e,1<t?1-t:void 0),va._fallbackText}function A(){return"value"in va._root?va._root.value:va._root[M()]}function I(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var a in e)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Lr.thatReturnsTrue:Lr.thatReturnsFalse,this.isPropagationStopped=Lr.thatReturnsFalse,this}function B(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function L(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function U(e){e.eventPool=[],e.getPooled=B,e.release=L}function F(e,t){switch(e){case"keyup":return-1!==Ra.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function $(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function G(e,t){switch(e){case"compositionend":return $(t);case"keypress":return 32!==t.which?null:(Ta=!0,Oa);case"textInput":return e=t.data,e===Oa&&Ta?null:e;default:return null}}function z(e,t){if(Na)return"compositionend"===e||!_a&&F(e,t)?(e=D(),va._root=null,va._startText=null,va._fallbackText=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t["char"]&&1<t["char"].length)return t["char"];if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xa?null:t.data;default:return null}}function q(e){if(e=Qr(e)){ja&&"function"==typeof ja.restoreControlledState||r("194");var t=Kr(e.stateNode);ja.restoreControlledState(e.stateNode,e.type,t)}}function H(e){Da?Aa?Aa.push(e):Aa=[e]:Da=e}function W(){return null!==Da||null!==Aa}function V(){if(Da){var e=Da,t=Aa;if(Aa=Da=null,q(e),t)for(e=0;e<t.length;e++)q(t[e])}}function J(e,t){return e(t)}function Y(e,t,n){return e(t,n)}function X(){}function K(e,t){if(Ba)return e(t);Ba=!0;try{return J(e,t)}finally{Ba=!1,W()&&(X(),V())}}function Q(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!La[e.type]:"textarea"===t}function Z(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Ir.canUseDOM||t&&!("addEventListener"in document))&&(e="on"+e,t=e in document,t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ie(e){return null===e||void 0===e?null:(e=Ka&&e[Ka]||e["@@iterator"],"function"==typeof e?e:null)}function oe(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Ja:return"AsyncMode";case Va:return"Context.Consumer";case za:return"ReactFragment";case Ga:return"ReactPortal";case Ha:return"Profiler("+e.pendingProps.id+")";case Wa:return"Context.Provider";case qa:return"StrictMode";case Xa:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case Ya:return e=t.render.displayName||t.render.name||"",""!==e?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,a=oe(e),i=null;n&&(i=oe(n)),n=r,a="\n    in "+(a||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":i?" (created by "+i+")":"");break e;default:a=""}t+=a,e=e["return"]}while(e);return t}function ce(e){return!!Za.call(ti,e)||!Za.call(ei,e)&&(Qa.test(e)?ti[e]=!0:(ei[e]=!0,!1))}function le(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ue(e,t,n,r){if(null===t||void 0===t||le(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function de(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}function pe(e){return e[1].toUpperCase()}function fe(e,t,n,r){var a=ni.hasOwnProperty(t)?ni[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(ue(t,n,a,r)&&(n=null),r||null===a?ce(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(a=a.type,n=3===a||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function me(e,t){var n=t.checked;return Br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function he(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ee(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ye(e,t){null!=(t=t.checked)&&fe(e,"checked",t,!1)}function ve(e,t){ye(e,t);var n=Ee(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?be(e,t.type,n):t.hasOwnProperty("defaultValue")&&be(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function be(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e,t,n){return e=I.getPooled(ai.change,e,t,n),e.type="change",H(n),T(e),e}function Re(e){v(e,!1)}function _e(e){if(ae(E(e)))return e}function ke(e,t){if("change"===e)return t}function Ce(){ii&&(ii.detachEvent("onpropertychange",xe),oi=ii=null)}function xe(e){"value"===e.propertyName&&_e(oi)&&(e=we(oi,e,Z(e)),K(Re,e))}function Oe(e,t,n){"focus"===e?(Ce(),ii=t,oi=n,ii.attachEvent("onpropertychange",xe)):"blur"===e&&Ce()}function Se(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _e(oi)}function Te(e,t){if("click"===e)return _e(t)}function Ne(e,t){if("input"===e||"change"===e)return _e(t)}function Pe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ui[e])&&!!t[e]}function je(){return Pe}function Me(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(t=t["return"],0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function De(e){2!==Me(e)&&r("188")}function Ae(e){var t=e.alternate;if(!t)return t=Me(e),3===t&&r("188"),1===t?null:e;for(var n=e,a=t;;){var i=n["return"],o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return De(i),e;if(s===a)return De(i),t;s=s.sibling}r("188")}if(n["return"]!==a["return"])n=i,a=o;else{s=!1;for(var c=i.child;c;){if(c===n){s=!0,n=i,a=o;break}if(c===a){s=!0,a=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,a=i;break}if(c===a){s=!0,a=o,n=i;break}c=c.sibling}s||r("189")}}n.alternate!==a&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Ie(e){if(!(e=Ae(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function Be(e){if(!(e=Ae(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child["return"]=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function Le(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(e,t){var n=e[0];e=e[1];var r="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},xi[e]=t,Oi[n]=t}function Fe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n["return"];)n=n["return"];if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=b(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],g(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function $e(e){Pi=!!e}function Ge(e,t){if(!t)return null;var n=(Ti(e)?qe:He).bind(null,e);t.addEventListener(e,n,!1)}function ze(e,t){if(!t)return null;var n=(Ti(e)?qe:He).bind(null,e);t.addEventListener(e,n,!0)}function qe(e,t){Y(He,e,t)}function He(e,t){if(Pi){var n=Z(t);if(n=b(n),null===n||"number"!=typeof n.tag||2===Me(n)||(n=null),Ni.length){var r=Ni.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{K(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ni.length&&Ni.push(e)}}}function We(e){return Object.prototype.hasOwnProperty.call(e,Ai)||(e[Ai]=Di++,Mi[e[Ai]]={}),Mi[e[Ai]]}function Ve(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Je(e,t){var n=Ve(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ve(n)}}function Ye(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Xe(e,t){if($i||null==Li||Li!==Ur())return null;var n=Li;return"selectionStart"in n&&Ye(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Fi&&Fr(Fi,n)?null:(Fi=n,e=I.getPooled(Bi.select,Ui,e,t),e.type="select",e.target=Li,T(e),e)}function Ke(e){var t="";return Ar.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Qe(e,t){return e=Br({children:void 0},t),(t=Ke(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),Br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function at(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function it(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?it(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ct(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=n,i=t[n];a=null==i||"boolean"==typeof i||""===i?"":r||"number"!=typeof i||0===i||ho.hasOwnProperty(a)&&ho[a]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}function lt(e,t,n){t&&(vo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function ut(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dt(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=We(e);t=Yr[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":ze("scroll",e);break;case"focus":case"blur":ze("focus",e),ze("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(a,!0)&&ze(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===ha.indexOf(a)&&Ge(a,e)}n[a]=!0}}}function pt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===po.html&&(r=it(e)),r===po.html?"script"===e?(e=n.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ft(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function mt(e,t,n,r){var a=ut(t,n);switch(t){case"iframe":case"object":Ge("load",e);var i=n;break;case"video":case"audio":for(i=0;i<ha.length;i++)Ge(ha[i],e);i=n;break;case"source":Ge("error",e),i=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=n;break;case"form":Ge("reset",e),Ge("submit",e),i=n;break;case"details":Ge("toggle",e),i=n;break;case"input":he(e,n),i=me(e,n),Ge("invalid",e),dt(r,"onChange");break;case"option":i=Qe(e,n);break;case"select":et(e,n),i=Br({},n,{value:void 0}),Ge("invalid",e),dt(r,"onChange");break;case"textarea":nt(e,n),i=tt(e,n),Ge("invalid",e),dt(r,"onChange");break;default:i=n}lt(t,i,go);var o,s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];"style"===o?ct(e,c,go):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&mo(e,c):"children"===o?"string"==typeof c?("textarea"!==t||""!==c)&&st(e,c):"number"==typeof c&&st(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Jr.hasOwnProperty(o)?null!=c&&dt(r,o):null!=c&&fe(e,o,c,a))}switch(t){case"input":re(e),ge(e,n,!1);break;case"textarea":re(e),at(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Lr)}}function ht(e,t,n,r,a){var i=null;switch(t){case"input":n=me(e,n),r=me(e,r),i=[];break;case"option":n=Qe(e,n),r=Qe(e,r),i=[];break;case"select":n=Br({},n,{value:void 0}),r=Br({},r,{value:void 0}),i=[];break;case"textarea":n=tt(e,n),r=tt(e,r),i=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}lt(t,r,go),t=e=void 0;var o=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(o||(o={}),o[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Jr.hasOwnProperty(e)?i||(i=[]):(i=i||[]).push(e,null));for(e in r){var c=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&c!==s&&(null!=c||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(o||(o={}),o[t]="");for(t in c)c.hasOwnProperty(t)&&s[t]!==c[t]&&(o||(o={}),o[t]=c[t])}else o||(i||(i=[]),i.push(e,o)),o=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(e,""+c)):"children"===e?s===c||"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Jr.hasOwnProperty(e)?(null!=c&&dt(a,e),i||s===c||(i=[])):(i=i||[]).push(e,c))}return o&&(i=i||[]).push("style",o),i}function yt(e,t,n,r,a){"input"===n&&"radio"===a.type&&null!=a.name&&ye(e,a),ut(n,r),r=ut(n,a);for(var i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];"style"===o?ct(e,s,go):"dangerouslySetInnerHTML"===o?mo(e,s):"children"===o?st(e,s):fe(e,o,s,r)}switch(n){case"input":ve(e,a);break;case"textarea":rt(e,a);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,n=a.value,null!=n?Ze(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?Ze(e,!!a.multiple,a.defaultValue,!0):Ze(e,!!a.multiple,a.multiple?[]:"",!1))}}function vt(e,t,n,r,a){switch(t){case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(r=0;r<ha.length;r++)Ge(ha[r],e);break;case"source":Ge("error",e);break;case"img":case"image":case"link":Ge("error",e),Ge("load",e);break;case"form":Ge("reset",e),Ge("submit",e);break;case"details":Ge("toggle",e);break;case"input":he(e,n),Ge("invalid",e),dt(a,"onChange");break;case"select":et(e,n),Ge("invalid",e),dt(a,"onChange");break;case"textarea":nt(e,n),Ge("invalid",e),dt(a,"onChange")}lt(t,n,go),r=null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];"children"===i?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):Jr.hasOwnProperty(i)&&null!=o&&dt(a,i)}switch(t){case"input":re(e),ge(e,n,!0);break;case"textarea":re(e),at(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Lr)}return r}function gt(e,t){return e.nodeValue!==t}function bt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Et(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function wt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Rt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function _t(e){return{current:e}}function kt(e){0>xo||(e.current=Co[xo],Co[xo]=null,xo--)}function Ct(e,t){xo++,Co[xo]=e.current,e.current=t}function xt(e){return St(e)?To:Oo.current}function Ot(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function St(e){return 2===e.tag&&null!=e.type.childContextTypes}function Tt(e){St(e)&&(kt(So,e),kt(Oo,e))}function Nt(e){kt(So,e),kt(Oo,e)}function Pt(e,t,n){Oo.current!==Gr&&r("168"),Ct(Oo,t,e),Ct(So,n,e)}function jt(e,t){var n=e.stateNode,a=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var i in n)i in a||r("108",oe(e)||"Unknown",i);return Br({},t,n)}function Mt(e){if(!St(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Gr,To=Oo.current,Ct(Oo,t,e),Ct(So,So.current,e),!0}function Dt(e,t){var n=e.stateNode;if(n||r("169"),t){var a=jt(e,To);n.__reactInternalMemoizedMergedChildContext=a,kt(So,e),kt(Oo,e),Ct(Oo,a,e)}else kt(So,e);Ct(So,t,e)}function At(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this["return"]=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function It(e,t,n){var r=e.alternate;return null===r?(r=new At(e.tag,t,e.key,e.mode),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bt(e,t,n){var a=e.type,i=e.key;if(e=e.props,"function"==typeof a)var o=a.prototype&&a.prototype.isReactComponent?2:0;else if("string"==typeof a)o=5;else switch(a){case za:return Lt(e.children,t,n,i);case Ja:o=11,t|=3;break;case qa:o=11,t|=2;break;case Ha:return a=new At(15,e,i,4|t),a.type=Ha,a.expirationTime=n,a;case Xa:o=16,t|=2;break;default:e:{switch("object"==typeof a&&null!==a?a.$$typeof:null){case Wa:o=13;break e;case Va:o=12;break e;case Ya:o=14;break e;default:r("130",null==a?a:typeof a,"")}o=void 0}}return t=new At(o,e,i,t),t.type=a,t.expirationTime=n,t}function Lt(e,t,n,r){return e=new At(10,e,r,t),e.expirationTime=n,e}function Ut(e,t,n){return e=new At(6,e,null,t),e.expirationTime=n,e}function Ft(e,t,n){return t=new At(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $t(e,t,n){return t=new At(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function Gt(e){return function(t){try{return e(t)}catch(e){}}}function zt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);No=Gt(function(e){return t.onCommitFiberRoot(n,e)}),Po=Gt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function qt(e){"function"==typeof No&&No(e)}function Ht(e){"function"==typeof Po&&Po(e)}function Wt(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Vt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Jt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Yt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Xt(e,t,n){var r=e.alternate;if(null===r){var a=e.updateQueue,i=null;null===a&&(a=e.updateQueue=Wt(e.memoizedState))}else a=e.updateQueue,i=r.updateQueue,null===a?null===i?(a=e.updateQueue=Wt(e.memoizedState),i=r.updateQueue=Wt(r.memoizedState)):a=e.updateQueue=Vt(i):null===i&&(i=r.updateQueue=Vt(a));null===i||a===i?Yt(a,t,n):null===a.lastUpdate||null===i.lastUpdate?(Yt(a,t,n),Yt(i,t,n)):(Yt(a,t,n),i.lastUpdate=t)}function Kt(e,t,n){var r=e.updateQueue;r=null===r?e.updateQueue=Wt(e.memoizedState):Qt(e,r),null===r.lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Qt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Vt(t)),t}function Zt(e,t,n,r,a,i){switch(n.tag){case 1:return e=n.payload,"function"==typeof e?e.call(i,r,a):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(e=n.payload,null===(a="function"==typeof e?e.call(i,r,a):e)||void 0===a)break;return Br({},r,a);case 2:jo=!0}return r}function en(e,t,n,r,a){if(jo=!1,!(0===t.expirationTime||t.expirationTime>a)){t=Qt(e,t);for(var i=t.baseState,o=null,s=0,c=t.firstUpdate,l=i;null!==c;){var u=c.expirationTime;u>a?(null===o&&(o=c,i=l),(0===s||s>u)&&(s=u)):(l=Zt(e,t,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d>a?(null===u&&(u=c,null===o&&(i=l)),(0===s||s>d)&&(s=d)):(l=Zt(e,t,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(i=l),t.baseState=i,t.firstUpdate=o,t.firstCapturedUpdate=u,t.expirationTime=s,e.memoizedState=l}}function tn(e,t){"function"!=typeof e&&r("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)t=e.callback,null!==t&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function an(e){var t=e.type._context;Ct(Ao,t._changedBits,e),Ct(Do,t._currentValue,e),Ct(Mo,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function on(e){var t=Ao.current,n=Do.current;kt(Mo,e),kt(Do,e),kt(Ao,e),e=e.type._context,e._currentValue=n,e._changedBits=t}function sn(e){return e===Io&&r("174"),e}function cn(e,t){Ct(Uo,t,e),Ct(Lo,e,e),Ct(Bo,Io,e)
;var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ot(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=ot(t,n)}kt(Bo,e),Ct(Bo,t,e)}function ln(e){kt(Bo,e),kt(Lo,e),kt(Uo,e)}function un(e){Lo.current===e&&(kt(Bo,e),kt(Lo,e))}function dn(e,t,n){var r=e.memoizedState;t=t(n,r),r=null===t||void 0===t?r:Br({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function pn(e,t,n,r,a,i){var o=e.stateNode;return e=e.type,"function"==typeof o.shouldComponentUpdate?o.shouldComponentUpdate(n,a,i):!(e.prototype&&e.prototype.isPureReactComponent&&Fr(t,n)&&Fr(r,a))}function fn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function mn(e,t){var n=e.type,r=e.stateNode,a=e.pendingProps,i=xt(e);r.props=a,r.state=e.memoizedState,r.refs=Gr,r.context=Ot(e,i),i=e.updateQueue,null!==i&&(en(e,i,a,r,t),r.state=e.memoizedState),i=e.type.getDerivedStateFromProps,"function"==typeof i&&(dn(e,i,a),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Fo.enqueueReplaceState(r,r.state,null),null!==(i=e.updateQueue)&&(en(e,i,a,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function hn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var a=void 0;n&&(2!==n.tag&&r("110"),a=n.stateNode),a||r("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs===Gr?a.refs={}:a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}"string"!=typeof e&&r("148"),n._owner||r("254",e)}return e}function yn(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return e=It(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?(t=Ut(n,e.mode,r),t["return"]=e,t):(t=i(t,n,r),t["return"]=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?(r=i(t,n.props,r),r.ref=hn(e,t,n),r["return"]=e,r):(r=Bt(n,e.mode,r),r.ref=hn(e,t,n),r["return"]=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ft(n,e.mode,r),t["return"]=e,t):(t=i(t,n.children||[],r),t["return"]=e,t)}function d(e,t,n,r,a){return null===t||10!==t.tag?(t=Lt(n,e.mode,r,a),t["return"]=e,t):(t=i(t,n,r),t["return"]=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Ut(""+t,e.mode,n),t["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $a:return n=Bt(t,e.mode,n),n.ref=hn(e,null,t),n["return"]=e,n;case Ga:return t=Ft(t,e.mode,n),t["return"]=e,t}if($o(t)||ie(t))return t=Lt(t,e.mode,n,null),t["return"]=e,t;yn(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $a:return n.key===a?n.type===za?d(e,t,n.props.children,r,a):l(e,t,n,r):null;case Ga:return n.key===a?u(e,t,n,r):null}if($o(n)||ie(n))return null!==a?null:d(e,t,n,r,null);yn(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,c(t,e,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $a:return e=e.get(null===r.key?n:r.key)||null,r.type===za?d(t,e,r.props.children,a,r.key):l(t,e,r,a);case Ga:return e=e.get(null===r.key?n:r.key)||null,u(t,e,r,a)}if($o(r)||ie(r))return e=e.get(n)||null,d(t,e,r,a,null);yn(t,r)}return null}function h(r,i,s,c){for(var l=null,u=null,d=i,h=i=0,y=null;null!==d&&h<s.length;h++){d.index>h?(y=d,d=null):y=d.sibling;var v=f(r,d,s[h],c);if(null===v){null===d&&(d=y);break}e&&d&&null===v.alternate&&t(r,d),i=o(v,i,h),null===u?l=v:u.sibling=v,u=v,d=y}if(h===s.length)return n(r,d),l;if(null===d){for(;h<s.length;h++)(d=p(r,s[h],c))&&(i=o(d,i,h),null===u?l=d:u.sibling=d,u=d);return l}for(d=a(r,d);h<s.length;h++)(y=m(d,r,h,s[h],c))&&(e&&null!==y.alternate&&d["delete"](null===y.key?h:y.key),i=o(y,i,h),null===u?l=y:u.sibling=y,u=y);return e&&d.forEach(function(e){return t(r,e)}),l}function y(i,s,c,l){var u=ie(c);"function"!=typeof u&&r("150"),null==(c=u.call(c))&&r("151");for(var d=u=null,h=s,y=s=0,v=null,g=c.next();null!==h&&!g.done;y++,g=c.next()){h.index>y?(v=h,h=null):v=h.sibling;var b=f(i,h,g.value,l);if(null===b){h||(h=v);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,y),null===d?u=b:d.sibling=b,d=b,h=v}if(g.done)return n(i,h),u;if(null===h){for(;!g.done;y++,g=c.next())null!==(g=p(i,g.value,l))&&(s=o(g,s,y),null===d?u=g:d.sibling=g,d=g);return u}for(h=a(i,h);!g.done;y++,g=c.next())null!==(g=m(h,i,y,g.value,l))&&(e&&null!==g.alternate&&h["delete"](null===g.key?y:g.key),s=o(g,s,y),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach(function(e){return t(i,e)}),u}return function(e,a,o,c){var l="object"==typeof o&&null!==o&&o.type===za&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case $a:e:{for(u=o.key,l=a;null!==l;){if(l.key===u){if(10===l.tag?o.type===za:l.type===o.type){n(e,l.sibling),a=i(l,o.type===za?o.props.children:o.props,c),a.ref=hn(e,l,o),a["return"]=e,e=a;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===za?(a=Lt(o.props.children,e.mode,c,o.key),a["return"]=e,e=a):(c=Bt(o,e.mode,c),c.ref=hn(e,a,o),c["return"]=e,e=c)}return s(e);case Ga:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(e,a.sibling),a=i(a,o.children||[],c),a["return"]=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}a=Ft(o,e.mode,c),a["return"]=e,e=a}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==a&&6===a.tag?(n(e,a.sibling),a=i(a,o,c),a["return"]=e,e=a):(n(e,a),a=Ut(o,e.mode,c),a["return"]=e,e=a),s(e);if($o(o))return h(e,a,o,c);if(ie(o))return y(e,a,o,c);if(u&&yn(e,o),void 0===o&&!l)switch(e.tag){case 2:case 1:c=e.type,r("152",c.displayName||c.name||"Component")}return n(e,a)}}function gn(e,t){var n=new At(5,null,null,0);n.type="DELETED",n.stateNode=t,n["return"]=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function En(e){if(Wo){var t=Ho;if(t){var n=t;if(!bn(e,t)){if(!(t=wt(n))||!bn(e,t))return e.effectTag|=2,Wo=!1,void(qo=e);gn(qo,n)}qo=e,Ho=Rt(t)}else e.effectTag|=2,Wo=!1,qo=e}}function wn(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag;)e=e["return"];qo=e}function Rn(e){if(e!==qo)return!1;if(!Wo)return wn(e),Wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Et(t,e.memoizedProps))for(t=Ho;t;)gn(e,t),t=wt(t);return wn(e),Ho=qo?wt(e.stateNode):null,!0}function _n(){Ho=qo=null,Wo=!1}function kn(e,t,n){Cn(e,t,n,t.expirationTime)}function Cn(e,t,n,r){t.child=null===e?zo(t,null,n,r):Go(t,e.child,n,r)}function xn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function On(e,t,n,r,a){xn(e,t);var i=0!=(64&t.effectTag);if(!n&&!i)return r&&Dt(t,!1),Pn(e,t);n=t.stateNode,Ua.current=t;var o=i?null:n.render();return t.effectTag|=1,i&&(Cn(e,t,null,a),t.child=null),Cn(e,t,o,a),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Dt(t,!0),t.child}function Sn(e){var t=e.stateNode;t.pendingContext?Pt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pt(e,t.context,!1),cn(e,t.containerInfo)}function Tn(e,t,n,r){var a=e.child;for(null!==a&&(a["return"]=e);null!==a;){switch(a.tag){case 12:var i=0|a.stateNode;if(a.type===t&&0!=(i&n)){for(i=a;null!==i;){var o=i.alternate;if(0===i.expirationTime||i.expirationTime>r)i.expirationTime=r,null!==o&&(0===o.expirationTime||o.expirationTime>r)&&(o.expirationTime=r);else{if(null===o||!(0===o.expirationTime||o.expirationTime>r))break;o.expirationTime=r}i=i["return"]}i=null}else i=a.child;break;case 13:i=a.type===e.type?null:a.child;break;default:i=a.child}if(null!==i)i["return"]=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a["return"]=i["return"],i=a;break}i=i["return"]}a=i}}function Nn(e,t,n){var r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=!0;if(So.current)o=!1;else if(i===a)return t.stateNode=0,an(t),Pn(e,t);var s=a.value;if(t.memoizedProps=a,null===i)s=1073741823;else if(i.value===a.value){if(i.children===a.children&&o)return t.stateNode=0,an(t),Pn(e,t);s=0}else{var c=i.value;if(c===s&&(0!==c||1/c==1/s)||c!==c&&s!==s){if(i.children===a.children&&o)return t.stateNode=0,an(t),Pn(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,s):1073741823,0===(s|=0)){if(i.children===a.children&&o)return t.stateNode=0,an(t),Pn(e,t)}else Tn(t,r,s,n)}return t.stateNode=s,an(t),kn(e,t,a.children),t.child}function Pn(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=It(e,e.pendingProps,e.expirationTime);for(t.child=n,n["return"]=t;null!==e.sibling;)e=e.sibling,n=n.sibling=It(e,e.pendingProps,e.expirationTime),n["return"]=t;n.sibling=null}return t.child}function jn(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Sn(t);break;case 2:Mt(t);break;case 4:cn(t,t.stateNode.containerInfo);break;case 13:an(t)}return null}switch(t.tag){case 0:null!==e&&r("155");var a=t.type,i=t.pendingProps,o=xt(t);return o=Ot(t,o),a=a(i,o),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,o=o.getDerivedStateFromProps,"function"==typeof o&&dn(t,o,i),i=Mt(t),a.updater=Fo,t.stateNode=a,a._reactInternalFiber=t,mn(t,n),e=On(e,t,!0,i,n)):(t.tag=1,kn(e,t,a),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,So.current||t.memoizedProps!==n?(a=xt(t),a=Ot(t,a),i=i(n,a),t.effectTag|=1,kn(e,t,i),t.memoizedProps=n,e=t.child):e=Pn(e,t),e;case 2:if(i=Mt(t),null===e)if(null===t.stateNode){var s=t.pendingProps,c=t.type;a=xt(t);var l=2===t.tag&&null!=t.type.contextTypes;o=l?Ot(t,a):Gr,s=new c(s,o),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Fo,t.stateNode=s,s._reactInternalFiber=t,l&&(l=t.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=a,l.__reactInternalMemoizedMaskedChildContext=o),mn(t,n),a=!0}else{c=t.type,a=t.stateNode,l=t.memoizedProps,o=t.pendingProps,a.props=l;var u=a.context;s=xt(t),s=Ot(t,s);var d=c.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==o||u!==s)&&fn(t,a,o,s),jo=!1;var p=t.memoizedState;u=a.state=p;var f=t.updateQueue;null!==f&&(en(t,f,o,a,n),u=t.memoizedState),l!==o||p!==u||So.current||jo?("function"==typeof d&&(dn(t,d,o),u=t.memoizedState),(l=jo||pn(t,l,o,p,u,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=u),a.props=o,a.state=u,a.context=s,a=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),a=!1)}else c=t.type,a=t.stateNode,o=t.memoizedProps,l=t.pendingProps,a.props=o,u=a.context,s=xt(t),s=Ot(t,s),d=c.getDerivedStateFromProps,(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==l||u!==s)&&fn(t,a,l,s),jo=!1,u=t.memoizedState,p=a.state=u,f=t.updateQueue,null!==f&&(en(t,f,l,a,n),p=t.memoizedState),o!==l||u!==p||So.current||jo?("function"==typeof d&&(dn(t,d,l),p=t.memoizedState),(d=jo||pn(t,o,l,u,p,s))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,p,s)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=l,t.memoizedState=p),a.props=l,a.state=p,a.context=s,a=d):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),a=!1);return On(e,t,a,i,n);case 3:return Sn(t),i=t.updateQueue,null!==i?(a=t.memoizedState,a=null!==a?a.element:null,en(t,i,t.pendingProps,null,n),i=t.memoizedState.element,i===a?(_n(),e=Pn(e,t)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(Ho=Rt(t.stateNode.containerInfo),qo=t,a=Wo=!0),a?(t.effectTag|=2,t.child=zo(t,null,i,n)):(_n(),kn(e,t,i)),e=t.child)):(_n(),e=Pn(e,t)),e;case 5:return sn(Uo.current),i=sn(Bo.current),a=ot(i,t.type),i!==a&&(Ct(Lo,t,t),Ct(Bo,a,t)),null===e&&En(t),i=t.type,l=t.memoizedProps,a=t.pendingProps,o=null!==e?e.memoizedProps:null,So.current||l!==a||((l=1&t.mode&&!!a.hidden)&&(t.expirationTime=1073741823),l&&1073741823===n)?(l=a.children,Et(i,a)?l=null:o&&Et(i,o)&&(t.effectTag|=16),xn(e,t),1073741823!==n&&1&t.mode&&a.hidden?(t.expirationTime=1073741823,t.memoizedProps=a,e=null):(kn(e,t,l),t.memoizedProps=a,e=t.child)):e=Pn(e,t),e;case 6:return null===e&&En(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return cn(t,t.stateNode.containerInfo),i=t.pendingProps,So.current||t.memoizedProps!==i?(null===e?t.child=Go(t,null,i,n):kn(e,t,i),t.memoizedProps=i,e=t.child):e=Pn(e,t),e;case 14:return i=t.type.render,n=t.pendingProps,a=t.ref,So.current||t.memoizedProps!==n||a!==(null!==e?e.ref:null)?(i=i(n,a),kn(e,t,i),t.memoizedProps=n,e=t.child):e=Pn(e,t),e;case 10:return n=t.pendingProps,So.current||t.memoizedProps!==n?(kn(e,t,n),t.memoizedProps=n,e=t.child):e=Pn(e,t),e;case 11:return n=t.pendingProps.children,So.current||null!==n&&t.memoizedProps!==n?(kn(e,t,n),t.memoizedProps=n,e=t.child):e=Pn(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=Pn(e,t):(kn(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return Nn(e,t,n);case 12:e:if(a=t.type,o=t.pendingProps,l=t.memoizedProps,i=a._currentValue,s=a._changedBits,So.current||0!==s||l!==o){if(t.memoizedProps=o,c=o.unstable_observedBits,void 0!==c&&null!==c||(c=1073741823),t.stateNode=c,0!=(s&c))Tn(t,a,s,n);else if(l===o){e=Pn(e,t);break e}n=o.children,n=n(i),t.effectTag|=1,kn(e,t,n),e=t.child}else e=Pn(e,t);return e;default:r("156")}}function Mn(e){e.effectTag|=4}function Dn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return Tt(t),null;case 3:ln(t),Nt(t);var a=t.stateNode;return a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Rn(t),t.effectTag&=-3),Vo(t),null;case 5:un(t),a=sn(Uo.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,s=t.stateNode,c=sn(Bo.current);s=ht(s,i,o,n,a),Jo(e,t,s,i,o,n,a,c),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&r("166"),null;if(e=sn(Bo.current),Rn(t))n=t.stateNode,i=t.type,o=t.memoizedProps,n[aa]=t,n[ia]=o,a=vt(n,i,o,e,a),t.updateQueue=a,null!==a&&Mn(t);else{e=pt(i,n,a,e),e[aa]=t,e[ia]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child["return"]=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===t)break e;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}mt(e,i,n,a),bt(i,n)&&Mn(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&r("166"),null;a=sn(Uo.current),sn(Bo.current),Rn(t)?(a=t.stateNode,n=t.memoizedProps,a[aa]=t,gt(a,n)&&Mn(t)):(a=ft(n,a),a[aa]=t,t.stateNode=a)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return ln(t),Vo(t),null;case 13:return on(t),null;case 12:return null;case 0:r("167");default:r("156")}}function An(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&oe(n),t=t.value,null!==e&&2===e.tag&&oe(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function In(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xn(e,t)}else t.current=null}function Bn(e){switch("function"==typeof Ht&&Ht(e),e.tag){case 2:In(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xn(e,t)}break;case 5:In(e);break;case 4:Fn(e)}}function Ln(e){return 5===e.tag||3===e.tag||4===e.tag}function Un(e){e:{for(var t=e["return"];null!==t;){if(Ln(t)){var n=t;break e}t=t["return"]}r("160"),n=void 0}var a=t=void 0;switch(n.tag){case 5:t=n.stateNode,a=!1;break;case 3:case 4:t=n.stateNode.containerInfo,a=!0;break;default:r("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n["return"]||Ln(n["return"])){n=null;break e}n=n["return"]}for(n.sibling["return"]=n["return"],n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child["return"]=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(a){var o=t,s=i.stateNode,c=n;8===o.nodeType?o.parentNode.insertBefore(s,c):o.insertBefore(s,c)}else t.insertBefore(i.stateNode,n);else a?(o=t,s=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(s,o):o.appendChild(s)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child["return"]=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===e)return;i=i["return"]}i.sibling["return"]=i["return"],i=i.sibling}}function Fn(e){for(var t=e,n=!1,a=void 0,i=void 0;;){if(!n){n=t["return"];e:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,i=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,i=!0;break e}n=n["return"]}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(Bn(s),null!==s.child&&4!==s.tag)s.child["return"]=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s["return"]||s["return"]===o)break e;s=s["return"]}s.sibling["return"]=s["return"],s=s.sibling}i?(o=a,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):a.removeChild(t.stateNode)}else if(4===t.tag?a=t.stateNode.containerInfo:Bn(t),null!==t.child){t.child["return"]=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;t=t["return"],4===t.tag&&(n=!1)}t.sibling["return"]=t["return"],t=t.sibling}}function $n(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(n[ia]=a,yt(n,o,i,e,a))}break;case 6:null===t.stateNode&&r("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:r("163")}}function Gn(e,t,n){n=Jt(n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){mr(r),An(e,t)},n}function zn(e,t,n){n=Jt(n),n.tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===us?us=new Set([this]):us.add(this);var n=t.value,r=t.stack;An(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function qn(e,t,n,r,a,i){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,r=Gn(e,r,i),void Kt(e,r,i);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===us||!us.has(n)))return e.effectTag|=1024,r=zn(e,t,i),void Kt(e,r,i)}e=e["return"]}while(null!==e)}function Hn(e){switch(e.tag){case 2:Tt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return ln(e),Nt(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return un(e),null;case 16:return t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 4:return ln(e),null;case 13:return on(e),null;default:return null}}function Wn(){if(null!==ns)for(var e=ns["return"];null!==e;){var t=e;switch(t.tag){case 2:Tt(t);break;case 3:ln(t),Nt(t);break;case 5:un(t);break;case 4:ln(t);break;case 13:on(t)}e=e["return"]}rs=null,as=0,is=-1,os=!1,ns=null,ls=!1}function Vn(e){for(;;){var t=e.alternate,n=e["return"],r=e.sibling;if(0==(512&e.effectTag)){t=Dn(t,e,as);var a=e;if(1073741823===as||1073741823!==a.expirationTime){var i=0;switch(a.tag){case 3:case 2:var o=a.updateQueue;null!==o&&(i=o.expirationTime)}for(o=a.child;null!==o;)0!==o.expirationTime&&(0===i||i>o.expirationTime)&&(i=o.expirationTime),o=o.sibling;a.expirationTime=i}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ls=!0;break}e=n}else{if(null!==(e=Hn(e,os,as)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function Jn(e){var t=jn(e.alternate,e,as);return null===t&&(t=Vn(e)),Ua.current=null,t}function Yn(e,t,n){ts&&r("243"),ts=!0,t===as&&e===rs&&null!==ns||(Wn(),rs=e,as=t,is=-1,ns=It(rs.current,null,as),e.pendingCommitExpirationTime=0);var a=!1;for(os=!n||as<=Ko;;){try{if(n)for(;null!==ns&&!fr();)ns=Jn(ns);else for(;null!==ns;)ns=Jn(ns)}catch(t){if(null===ns)a=!0,mr(t);else{null===ns&&r("271"),n=ns;var i=n["return"];if(null===i){a=!0,mr(t);break}qn(e,i,n,t,os,as,Qo),ns=Vn(n)}}break}if(ts=!1,a)return null;if(null===ns){if(ls)return e.pendingCommitExpirationTime=t,e.current.alternate;os&&r("262"),0<=is&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&ar(e,t)},is),hr(e.current.expirationTime)}return null}function Xn(e,t){var n;e:{for(ts&&!cs&&r("263"),n=e["return"];null!==n;){switch(n.tag){case 2:var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof a.componentDidCatch&&(null===us||!us.has(a))){e=rn(t,e),e=zn(n,e,1),Xt(n,e,1),Zn(n,1),n=void 0;break e}break;case 3:e=rn(t,e),e=Gn(n,e,1),Xt(n,e,1),Zn(n,1),n=void 0;break e}n=n["return"]}3===e.tag&&(n=rn(t,e),n=Gn(e,n,1),Xt(e,n,1),Zn(e,1)),n=void 0}return n}function Kn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=Zo&&(e=Zo+1),Zo=e}function Qn(e,t){return e=0!==es?es:ts?cs?1:as:1&t.mode?Cs?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Cs&&(0===gs||e>gs)&&(gs=e),e}function Zn(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e["return"]){if(3!==e.tag)break;var n=e.stateNode;!ts&&0!==as&&t<as&&Wn();var a=n.current.expirationTime;ts&&!cs&&rs===n||ar(n,a),Ss>Os&&r("185")}e=e["return"]}}function er(){return Qo=Ro()-Xo,Ko=2+(Qo/10|0)}function tr(e){var t=es;es=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{es=t}}function nr(e,t,n,r,a){var i=es;es=1;try{return e(t,n,r,a)}finally{es=i}}function rr(e){if(0!==fs){if(e>fs)return;null!==ms&&ko(ms)}var t=Ro()-Xo;fs=e,ms=_o(or,{timeout:10*(e-2)-t})}function ar(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ps?(ds=ps=e,e.nextScheduledRoot=e):(ps=ps.nextScheduledRoot=e,ps.nextScheduledRoot=ds);else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}hs||(_s?ks&&(ys=e,vs=1,dr(e,1,!1)):1===t?sr():rr(t))}function ir(){var e=0,t=null;if(null!==ps)for(var n=ps,a=ds;null!==a;){var i=a.remainingExpirationTime;if(0===i){if((null===n||null===ps)&&r("244"),a===a.nextScheduledRoot){ds=ps=a.nextScheduledRoot=null;break}if(a===ds)ds=i=a.nextScheduledRoot,ps.nextScheduledRoot=i,a.nextScheduledRoot=null;else{if(a===ps){ps=n,ps.nextScheduledRoot=ds,a.nextScheduledRoot=null;break}n.nextScheduledRoot=a.nextScheduledRoot,a.nextScheduledRoot=null}a=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=a),a===ps)break;n=a,a=a.nextScheduledRoot}}n=ys,null!==n&&n===t&&1===e?Ss++:Ss=0,ys=t,vs=e}function or(e){cr(0,!0,e)}function sr(){cr(1,!1,null)}function cr(e,t,n){if(Rs=n,ir(),t)for(;null!==ys&&0!==vs&&(0===e||e>=vs)&&(!bs||er()>=vs);)er(),dr(ys,vs,!bs),ir();else for(;null!==ys&&0!==vs&&(0===e||e>=vs);)dr(ys,vs,!1),ir();null!==Rs&&(fs=0,ms=null),0!==vs&&rr(vs),Rs=null,bs=!1,ur()}function lr(e,t){hs&&r("253"),ys=e,vs=t,dr(e,t,!1),sr(),ur()}function ur(){if(Ss=0,null!==xs){var e=xs;xs=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Es||(Es=!0,ws=e)}}}if(Es)throw e=ws,ws=null,Es=!1,e}function dr(e,t,n){hs&&r("245"),hs=!0,n?(n=e.finishedWork,null!==n?pr(e,n,t):null!==(n=Yn(e,t,!0))&&(fr()?e.finishedWork=n:pr(e,n,t))):(n=e.finishedWork,null!==n?pr(e,n,t):null!==(n=Yn(e,t,!1))&&pr(e,n,t)),hs=!1}function pr(e,t,n){var a=e.firstBatch;if(null!==a&&a._expirationTime<=n&&(null===xs?xs=[a]:xs.push(a),a._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,cs=ts=!0,n=t.stateNode,n.current===t&&r("177"),a=n.pendingCommitExpirationTime,0===a&&r("261"),n.pendingCommitExpirationTime=0,er(),Ua.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;Eo=Pi;var o=Ur();if(Ye(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,u=c.focusNode;c=c.focusOffset;try{s.nodeType,u.nodeType}catch(e){s=null;break e}var d=0,p=-1,f=-1,m=0,h=0,y=o,v=null;t:for(;;){for(var g;y!==s||0!==l&&3!==y.nodeType||(p=d+l),y!==u||0!==c&&3!==y.nodeType||(f=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(g=y.firstChild);)v=y,y=g;for(;;){if(y===o)break t;if(v===s&&++m===l&&(p=d),v===u&&++h===c&&(f=d),null!==(g=y.nextSibling))break;y=v,v=y.parentNode}y=g}s=-1===p||-1===f?null:{start:p,end:f}}else s=null}s=s||{start:0,end:0}}else s=null;for(wo={focusedElem:o,selectionRange:s},$e(!1),ss=i;null!==ss;){o=!1,s=void 0;try{for(;null!==ss;){if(256&ss.effectTag){var b=ss.alternate;switch(l=ss,l.tag){case 2:if(256&l.effectTag&&null!==b){var E=b.memoizedProps,w=b.memoizedState,R=l.stateNode;R.props=l.memoizedProps,R.state=l.memoizedState;var _=R.getSnapshotBeforeUpdate(E,w);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:case 5:case 6:case 4:break;default:r("163")}}ss=ss.nextEffect}}catch(e){o=!0,s=e}o&&(null===ss&&r("178"),Xn(ss,s),null!==ss&&(ss=ss.nextEffect))}for(ss=i;null!==ss;){b=!1,E=void 0;try{for(;null!==ss;){var k=ss.effectTag;if(16&k&&st(ss.stateNode,""),128&k){var C=ss.alternate;if(null!==C){var x=C.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(14&k){case 2:Un(ss),ss.effectTag&=-3;break;case 6:Un(ss),ss.effectTag&=-3,$n(ss.alternate,ss);break;case 4:$n(ss.alternate,ss);break;case 8:w=ss,Fn(w),w["return"]=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate["return"]=null)}ss=ss.nextEffect}}catch(e){b=!0,E=e}b&&(null===ss&&r("178"),Xn(ss,E),null!==ss&&(ss=ss.nextEffect))}if(x=wo,C=Ur(),k=x.focusedElem,b=x.selectionRange,C!==k&&$r(document.documentElement,k)){null!==b&&Ye(k)&&(C=b.start,x=b.end,void 0===x&&(x=C),"selectionStart"in k?(k.selectionStart=C,k.selectionEnd=Math.min(x,k.value.length)):window.getSelection&&(C=window.getSelection(),E=k[M()].length,x=Math.min(b.start,E),b=void 0===b.end?x:Math.min(b.end,E),!C.extend&&x>b&&(E=b,b=x,x=E),E=Je(k,x),w=Je(k,b),E&&w&&(1!==C.rangeCount||C.anchorNode!==E.node||C.anchorOffset!==E.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)&&(R=document.createRange(),R.setStart(E.node,E.offset),C.removeAllRanges(),x>b?(C.addRange(R),C.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),C.addRange(R))))),C=[];for(x=k;x=x.parentNode;)1===x.nodeType&&C.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<C.length;k++)x=C[k],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}for(wo=null,$e(Eo),Eo=null,n.current=t,ss=i;null!==ss;){i=!1,k=void 0;try{for(C=a;null!==ss;){var O=ss.effectTag;if(36&O){var S=ss.alternate;switch(x=ss,b=C,x.tag){case 2:var T=x.stateNode;if(4&x.effectTag)if(null===S)T.props=x.memoizedProps,T.state=x.memoizedState,T.componentDidMount();else{var N=S.memoizedProps,P=S.memoizedState;T.props=x.memoizedProps,T.state=x.memoizedState,T.componentDidUpdate(N,P,T.__reactInternalSnapshotBeforeUpdate)}var j=x.updateQueue;null!==j&&(T.props=x.memoizedProps,T.state=x.memoizedState,nn(x,j,T,b));break;case 3:var D=x.updateQueue;if(null!==D){if(E=null,null!==x.child)switch(x.child.tag){case 5:E=x.child.stateNode;break;case 2:E=x.child.stateNode}nn(x,D,E,b)}break;case 5:var A=x.stateNode;null===S&&4&x.effectTag&&bt(x.type,x.memoizedProps)&&A.focus();break;case 6:case 4:case 15:case 16:break;default:r("163")}}if(128&O){x=void 0;var I=ss.ref;if(null!==I){var B=ss.stateNode;switch(ss.tag){case 5:x=B;break;default:x=B}"function"==typeof I?I(x):I.current=x}}var L=ss.nextEffect;ss.nextEffect=null,ss=L}}catch(e){i=!0,k=e}i&&(null===ss&&r("178"),Xn(ss,k),null!==ss&&(ss=ss.nextEffect))}ts=cs=!1,"function"==typeof qt&&qt(t.stateNode),t=n.current.expirationTime,0===t&&(us=null),e.remainingExpirationTime=t}function fr(){return!(null===Rs||Rs.timeRemaining()>Ts)&&(bs=!0)}function mr(e){null===ys&&r("246"),ys.remainingExpirationTime=0,Es||(Es=!0,ws=e)}function hr(e){null===ys&&r("246"),ys.remainingExpirationTime=e}function yr(e,t){var n=_s;_s=!0;try{return e(t)}finally{(_s=n)||hs||sr()}}function vr(e,t){if(_s&&!ks){ks=!0;try{return e(t)}finally{ks=!1}}return e(t)}function gr(e,t){hs&&r("187");var n=_s;_s=!0;try{return nr(e,t)}finally{_s=n,sr()}}function br(e,t,n){if(Cs)return e(t,n);_s||hs||0===gs||(cr(gs,!1,null),gs=0);var r=Cs,a=_s;_s=Cs=!0;try{return e(t,n)}finally{Cs=r,(_s=a)||hs||sr()}}function Er(e){var t=_s;_s=!0;try{nr(e)}finally{(_s=t)||hs||cr(1,!1,null)}}function wr(e,t,n,a,i){var o=t.current;if(n){n=n._reactInternalFiber;var s;e:{for(2===Me(n)&&2===n.tag||r("170"),s=n;3!==s.tag;){if(St(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s["return"])||r("171")}s=s.stateNode.context}n=St(n)?jt(n,s):s}else n=Gr;return null===t.context?t.context=n:t.pendingContext=n,t=i,i=Jt(a),i.payload={element:e},t=void 0===t?null:t,null!==t&&(i.callback=t),Xt(o,i,a),Zn(o,a),a}function Rr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?r("188"):r("268",Object.keys(e))),e=Ie(t),null===e?null:e.stateNode}function _r(e,t,n,r){var a=t.current;return a=Qn(er(),a),wr(e,t,n,a,r)}function kr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Cr(e){var t=e.findFiberByHostInstance;return zt(Br({},e,{findHostInstanceByFiber:function(e){return e=Ie(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function xr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ga,key:null==r?null:""+r,children:e,
containerInfo:t,implementation:n}}function Or(e){this._expirationTime=Kn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Sr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Tr(e,t,n){this._internalRoot=$t(e,t,n)}function Nr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Pr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Tr(e,!1,t)}function jr(e,t,n,a,i){Nr(n)||r("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var e=kr(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=Pr(n,a),"function"==typeof i){var c=i;i=function(){var e=kr(o._internalRoot);c.call(e)}}vr(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return kr(o._internalRoot)}function Mr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Nr(t)||r("200"),xr(e,t,null,n)}var Dr=n(2),Ar=n(4),Ir=n(12),Br=n(3),Lr=n(5),Ur=n(14),Fr=n(20),$r=n(13),Gr=n(1);Ar||r("227");var zr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(){a.apply(zr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(zr.invokeGuardedCallback.apply(this,arguments),zr.hasCaughtError()){var e=zr.clearCaughtError();zr._hasRethrowError||(zr._hasRethrowError=!0,zr._rethrowError=e)}},rethrowCaughtError:function(){return i.apply(zr,arguments)},hasCaughtError:function(){return zr._hasCaughtError},clearCaughtError:function(){if(zr._hasCaughtError){var e=zr._caughtError;return zr._caughtError=null,zr._hasCaughtError=!1,e}r("198")}},qr=null,Hr={},Wr=[],Vr={},Jr={},Yr={},Xr={plugins:Wr,eventNameDispatchConfigs:Vr,registrationNameModules:Jr,registrationNameDependencies:Yr,possibleRegistrationNames:null,injectEventPluginOrder:c,injectEventPluginsByName:l},Kr=null,Qr=null,Zr=null,ea=null,ta={injectEventPluginOrder:c,injectEventPluginsByName:l},na={injection:ta,getListener:y,runEventsInBatch:v,runExtractedEventsInBatch:g},ra=Math.random().toString(36).slice(2),aa="__reactInternalInstance$"+ra,ia="__reactEventHandlers$"+ra,oa={precacheFiberNode:function(e,t){t[aa]=e},getClosestInstanceFromNode:b,getInstanceFromNode:function(e){return e=e[aa],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:E,getFiberCurrentPropsFromNode:w,updateFiberProps:function(e,t){e[ia]=t}},sa={accumulateTwoPhaseDispatches:T,accumulateTwoPhaseDispatchesSkipTarget:function(e){p(e,x)},accumulateEnterLeaveDispatches:N,accumulateDirectDispatches:function(e){p(e,S)}},ca={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionend:P("Transition","TransitionEnd")},la={},ua={};Ir.canUseDOM&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var da=j("animationend"),pa=j("animationiteration"),fa=j("animationstart"),ma=j("transitionend"),ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=null,va={_root:null,_startText:null,_fallbackText:null},ga="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ba={type:null,target:null,currentTarget:Lr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Br(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Lr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Lr.thatReturnsTrue)},persist:function(){this.isPersistent=Lr.thatReturnsTrue},isPersistent:Lr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ga.length;t++)this[ga[t]]=null}}),I.Interface=ba,I.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return Br(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=Br({},r.Interface,e),n.extend=r.extend,U(n),n},U(I);var Ea=I.extend({data:null}),wa=I.extend({data:null}),Ra=[9,13,27,32],_a=Ir.canUseDOM&&"CompositionEvent"in window,ka=null;Ir.canUseDOM&&"documentMode"in document&&(ka=document.documentMode);var Ca=Ir.canUseDOM&&"TextEvent"in window&&!ka,xa=Ir.canUseDOM&&(!_a||ka&&8<ka&&11>=ka),Oa=String.fromCharCode(32),Sa={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ta=!1,Na=!1,Pa={eventTypes:Sa,extractEvents:function(e,t,n,r){var a=void 0,i=void 0;if(_a)e:{switch(e){case"compositionstart":a=Sa.compositionStart;break e;case"compositionend":a=Sa.compositionEnd;break e;case"compositionupdate":a=Sa.compositionUpdate;break e}a=void 0}else Na?F(e,n)&&(a=Sa.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Sa.compositionStart);return a?(xa&&(Na||a!==Sa.compositionStart?a===Sa.compositionEnd&&Na&&(i=D()):(va._root=r,va._startText=A(),Na=!0)),a=Ea.getPooled(a,t,n,r),i?a.data=i:null!==(i=$(n))&&(a.data=i),T(a),i=a):i=null,(e=Ca?G(e,n):z(e,n))?(t=wa.getPooled(Sa.beforeInput,t,n,r),t.data=e,T(t)):t=null,null===i?t:null===t?i:[i,t]}},ja=null,Ma={injectFiberControlledHostComponent:function(e){ja=e}},Da=null,Aa=null,Ia={injection:Ma,enqueueStateRestore:H,needsStateRestore:W,restoreStateIfNeeded:V},Ba=!1,La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ua=Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fa="function"==typeof Symbol&&Symbol["for"],$a=Fa?Symbol["for"]("react.element"):60103,Ga=Fa?Symbol["for"]("react.portal"):60106,za=Fa?Symbol["for"]("react.fragment"):60107,qa=Fa?Symbol["for"]("react.strict_mode"):60108,Ha=Fa?Symbol["for"]("react.profiler"):60114,Wa=Fa?Symbol["for"]("react.provider"):60109,Va=Fa?Symbol["for"]("react.context"):60110,Ja=Fa?Symbol["for"]("react.async_mode"):60111,Ya=Fa?Symbol["for"]("react.forward_ref"):60112,Xa=Fa?Symbol["for"]("react.timeout"):60113,Ka="function"==typeof Symbol&&Symbol.iterator,Qa=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Za=Object.prototype.hasOwnProperty,ei={},ti={},ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ni[e]=new de(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ni[t]=new de(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ni[e]=new de(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){ni[e]=new de(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ni[e]=new de(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ni[e]=new de(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){ni[e]=new de(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){ni[e]=new de(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){ni[e]=new de(e,5,!1,e.toLowerCase(),null)});var ri=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ri,pe);ni[t]=new de(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ri,pe);ni[t]=new de(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ri,pe);ni[t]=new de(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ni.tabIndex=new de("tabIndex",1,!1,"tabindex",null);var ai={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},ii=null,oi=null,si=!1;Ir.canUseDOM&&(si=ee("input")&&(!document.documentMode||9<document.documentMode));var ci={eventTypes:ai,_isInputEventSupported:si,extractEvents:function(e,t,n,r){var a=t?E(t):window,i=void 0,o=void 0,s=a.nodeName&&a.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===a.type?i=ke:Q(a)?si?i=Ne:(i=Se,o=Oe):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=Te),i&&(i=i(e,t))?we(i,n,r):(o&&o(e,a,t),void("blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&be(a,"number",a.value)))}},li=I.extend({view:null,detail:null}),ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},di=li.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:je,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),pi=di.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mi={eventTypes:fi,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?b(t):null):i=null,i===t)return null;var o=void 0,s=void 0,c=void 0,l=void 0;return"mouseout"===e||"mouseover"===e?(o=di,s=fi.mouseLeave,c=fi.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=pi,s=fi.pointerLeave,c=fi.pointerEnter,l="pointer"),e=null==i?a:E(i),a=null==t?a:E(t),s=o.getPooled(s,i,n,r),s.type=l+"leave",s.target=e,s.relatedTarget=a,n=o.getPooled(c,t,n,r),n.type=l+"enter",n.target=a,n.relatedTarget=e,N(s,n,i,t),[s,n]}},hi=I.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yi=I.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=li.extend({relatedTarget:null}),gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei=li.extend({key:function(e){if(e.key){var t=gi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Le(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?bi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:je,charCode:function(e){return"keypress"===e.type?Le(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Le(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wi=di.extend({dataTransfer:null}),Ri=li.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:je}),_i=I.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ki=di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ci=[["abort","abort"],[da,"animationEnd"],[pa,"animationIteration"],[fa,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ma,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],xi={},Oi={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ue(e,!0)}),Ci.forEach(function(e){Ue(e,!1)});var Si={eventTypes:xi,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Oi[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=Oi[e];if(!a)return null;switch(e){case"keypress":if(0===Le(n))return null;case"keydown":case"keyup":e=Ei;break;case"blur":case"focus":e=vi;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ri;break;case da:case pa:case fa:e=hi;break;case ma:e=_i;break;case"scroll":e=li;break;case"wheel":e=ki;break;case"copy":case"cut":case"paste":e=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=pi;break;default:e=I}return t=e.getPooled(a,t,n,r),T(t),t}},Ti=Si.isInteractiveTopLevelEventType,Ni=[],Pi=!0,ji={get _enabled(){return Pi},setEnabled:$e,isEnabled:function(){return Pi},trapBubbledEvent:Ge,trapCapturedEvent:ze,dispatchEvent:He},Mi={},Di=0,Ai="_reactListenersID"+(""+Math.random()).slice(2),Ii=Ir.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Bi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Li=null,Ui=null,Fi=null,$i=!1,Gi={eventTypes:Bi,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=We(i),a=Yr.onSelect;for(var o=0;o<a.length;o++){var s=a[o];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}a=!i}if(a)return null;switch(i=t?E(t):window,e){case"focus":(Q(i)||"true"===i.contentEditable)&&(Li=i,Ui=t,Fi=null);break;case"blur":Fi=Ui=Li=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":return $i=!1,Xe(n,r);case"selectionchange":if(Ii)break;case"keydown":case"keyup":return Xe(n,r)}return null}};ta.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Kr=oa.getFiberCurrentPropsFromNode,Qr=oa.getInstanceFromNode,Zr=oa.getNodeFromInstance,ta.injectEventPluginsByName({SimpleEventPlugin:Si,EnterLeaveEventPlugin:mi,ChangeEventPlugin:ci,SelectEventPlugin:Gi,BeforeInputEventPlugin:Pa});var zi="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,qi=Date,Hi=setTimeout,Wi=clearTimeout,Vi=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Ji=performance;Vi=function(){return Ji.now()}}else Vi=function(){return qi.now()};var Yi=void 0,Xi=void 0;if(Ir.canUseDOM){var Ki="function"==typeof zi?zi:function(){r("276")},Qi=null,Zi=null,eo=-1,to=!1,no=!1,ro=0,ao=33,io=33,oo={didTimeout:!1,timeRemaining:function(){var e=ro-Vi();return 0<e?e:0}},so=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{Xi(e),r||(to=!0,window.postMessage(co,"*"))}},co="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===co&&(to=!1,null!==Qi)){if(null!==Qi){var t=Vi();if(!(-1===eo||eo>t)){e=-1;for(var n=[],r=Qi;null!==r;){var a=r.timeoutTime;-1!==a&&a<=t?n.push(r):-1!==a&&(-1===e||a<e)&&(e=a),r=r.next}if(0<n.length)for(oo.didTimeout=!0,t=0,r=n.length;t<r;t++)so(n[t],oo);eo=e}}for(e=Vi();0<ro-e&&null!==Qi;)e=Qi,oo.didTimeout=!1,so(e,oo),e=Vi();null===Qi||no||(no=!0,Ki(lo))}},!1);var lo=function(e){no=!1;var t=e-ro+io;t<io&&ao<io?(8>t&&(t=8),io=t<ao?ao:t):ao=t,ro=e+io,to||(to=!0,window.postMessage(co,"*"))};Yi=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Vi()+t.timeout),(-1===eo||-1!==n&&n<eo)&&(eo=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Qi?Qi=e:null!==(t=e.prev=Zi)&&(t.next=e),Zi=e,no||(no=!0,Ki(lo)),e},Xi=function(e){if(null!==e.prev||Qi===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,Qi=t):null!==n?(n.next=null,Zi=n):Zi=Qi=null}}}else{var uo=new Map;Yi=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=Hi(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return uo.set(e,n),t},Xi=function(e){var t=uo.get(e.scheduledCallback);uo["delete"](e),Wi(t)}}var po={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},fo=void 0,mo=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!==po.svg||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),ho={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){yo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ho[t]=ho[e]})});var vo=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),go=Lr.thatReturns(""),bo={createElement:pt,createTextNode:ft,setInitialProperties:mt,diffProperties:ht,updateProperties:yt,diffHydratedProperties:vt,diffHydratedText:gt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ve(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=w(a);i||r("90"),ae(a),ve(a,i)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},Eo=null,wo=null,Ro=Vi,_o=Yi,ko=Xi;new Set;var Co=[],xo=-1,Oo=_t(Gr),So=_t(!1),To=Gr,No=null,Po=null,jo=!1,Mo=_t(null),Do=_t(null),Ao=_t(0),Io={},Bo=_t(Io),Lo=_t(Io),Uo=_t(Io),Fo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Me(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er();r=Qn(r,e);var a=Jt(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Xt(e,a,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er();r=Qn(r,e);var a=Jt(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Xt(e,a,r),Zn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er();n=Qn(n,e);var r=Jt(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Xt(e,r,n),Zn(e,n)}},$o=Array.isArray,Go=vn(!0),zo=vn(!1),qo=null,Ho=null,Wo=!1,Vo=void 0,Jo=void 0,Yo=void 0;Vo=function(){},Jo=function(e,t,n){(t.updateQueue=n)&&Mn(t)},Yo=function(e,t,n,r){n!==r&&Mn(t)};var Xo=Ro(),Ko=2,Qo=Xo,Zo=0,es=0,ts=!1,ns=null,rs=null,as=0,is=-1,os=!1,ss=null,cs=!1,ls=!1,us=null,ds=null,ps=null,fs=0,ms=void 0,hs=!1,ys=null,vs=0,gs=0,bs=!1,Es=!1,ws=null,Rs=null,_s=!1,ks=!1,Cs=!1,xs=null,Os=1e3,Ss=0,Ts=1,Ns={updateContainerAtExpirationTime:wr,createContainer:function(e,t,n){return $t(e,t,n)},updateContainer:_r,flushRoot:lr,requestWork:ar,computeUniqueAsyncExpiration:Kn,batchedUpdates:yr,unbatchedUpdates:vr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:br,flushInteractiveUpdates:function(){hs||0===gs||(cr(gs,!1,null),gs=0)},flushControlled:Er,flushSync:gr,getPublicRootInstance:kr,findHostInstance:Rr,findHostInstanceWithNoPortals:function(e){return e=Be(e),null===e?null:e.stateNode},injectIntoDevTools:Cr};Ma.injectFiberControlledHostComponent(bo),Or.prototype.render=function(e){this._defer||r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,a=new Sr;return wr(e,t,null,n,a._onCommit),a},Or.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Or.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var a=null,i=t;i!==this;)a=i,i=i._next;null===a&&r("251"),a._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,lr(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Or.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Sr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Sr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r("191",n),n()}}},Tr.prototype.render=function(e,t){var n=this._internalRoot,r=new Sr;return t=void 0===t?null:t,null!==t&&r.then(t),_r(e,n,null,r._onCommit),r},Tr.prototype.unmount=function(e){var t=this._internalRoot,n=new Sr;return e=void 0===e?null:e,null!==e&&n.then(e),_r(null,t,null,n._onCommit),n},Tr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new Sr;return n=void 0===n?null:n,null!==n&&a.then(n),_r(t,r,e,a._onCommit),a},Tr.prototype.createBatch=function(){var e=new Or(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},J=Ns.batchedUpdates,Y=Ns.interactiveUpdates,X=Ns.flushInteractiveUpdates;var Ps={createPortal:Mr,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:Rr(e)},hydrate:function(e,t,n){return jr(null,e,t,!0,n)},render:function(e,t,n){return jr(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,a){return(null==e||void 0===e._reactInternalFiber)&&r("38"),jr(e,t,n,!1,a)},unmountComponentAtNode:function(e){return Nr(e)||r("40"),!!e._reactRootContainer&&(vr(function(){jr(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Mr.apply(void 0,arguments)},unstable_batchedUpdates:yr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:br,flushSync:gr,unstable_flushControlled:Er,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:na,EventPluginRegistry:Xr,EventPropagators:sa,ReactControlledComponent:Ia,ReactDOMComponentTree:oa,ReactDOMEventListener:ji},unstable_createRoot:function(e,t){return new Tr(e,!0,null!=t&&!0===t.hydrate)}};Cr({findFiberByHostInstance:b,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var js={"default":Ps},Ms=js&&Ps||js;e.exports=Ms["default"]?Ms["default"]:Ms},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(22)}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","react-dom","react-dom/server"],t):"object"==typeof exports?exports.ReactRailsUJS=t(require("react"),require("react-dom"),require("react-dom/server")):e.ReactRailsUJS=t(e.React,e.ReactDOM,e.ReactDOMServer)}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_5__){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(module,exports){var topLevel="undefined"==typeof window?this:window;module.exports=function(className){var constructor;return constructor=topLevel[className],constructor||(constructor=eval(className)),constructor&&constructor["default"]&&(constructor=constructor["default"]),constructor}},function(e,t,n){var r=n(7),a=n(8),i=n(9),o=n(11),s=n(10);e.exports=function(e){e.handleEvent&&("undefined"!=typeof Turbolinks&&"undefined"!=typeof Turbolinks.EVENTS&&s.teardown(e),i.teardown(e),o.teardown(e),a.teardown(e),r.teardown(e)),"addEventListener"in window?(e.handleEvent=function(e,t){document.addEventListener(e,t)},e.removeEvent=function(e,t){document.removeEventListener(e,t)}):(e.handleEvent=function(e,t){window.attachEvent(e,t)},e.removeEvent=function(e,t){window.detachEvent(e,t)}),"undefined"!=typeof Turbolinks&&Turbolinks.supported?"undefined"!=typeof Turbolinks.EVENTS?s.setup(e):"undefined"!=typeof Turbolinks.controller?i.setup(e):o.setup(e):"undefined"!=typeof $&&"function"==typeof $.pjax?a.setup(e):r.setup(e)}},function(e,t,n){var r=n(0),a=n(12);e.exports=function(e){var t=a(e);return function(e){var n;try{n=t(e)}catch(t){try{n=r(e)}catch(e){console.error(t),console.error(e)}}return n}}},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e){e.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(e,t,n){var r=n(3),a=n(4),i=n(5),o=n(1),s=n(0),c=n(2),l={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RENDER_ATTR:"data-hydrate",jQuery:"undefined"!=typeof window&&"undefined"!=typeof window.jQuery&&window.jQuery,findDOMNodes:function(e){var t,n,r=l.CLASS_NAME_ATTR;switch(typeof e){case"undefined":t="["+r+"]",n=document;break;case"object":t="["+r+"]",n=e;break;case"string":t=e+"["+r+"], "+e+" ["+r+"]",n=document}return l.jQuery?l.jQuery(t,n):n.querySelectorAll(t)},getConstructor:s,useContext:function(e){this.getConstructor=c(e)},serverRender:function(e,t,n){var a=this.getConstructor(t),o=r.createElement(a,n);return i[e](o)},mountComponents:function(e){for(var t=l,n=t.findDOMNodes(e),i=0;i<n.length;++i){var o=n[i],s=o.getAttribute(t.CLASS_NAME_ATTR),c=t.getConstructor(s),u=o.getAttribute(t.PROPS_ATTR),d=u&&JSON.parse(u),p=o.getAttribute(t.RENDER_ATTR);if(!c){var f="Cannot find component: '"+s+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+f+" for element","font-weight: bold","",o),new Error(f+". Make sure your component is available to render.")}p&&"function"==typeof a.hydrate?a.hydrate(r.createElement(c,d),o):a.render(r.createElement(c,d),o)}},unmountComponents:function(e){for(var t=l.findDOMNodes(e),n=0;n<t.length;++n){var r=t[n];a.unmountComponentAtNode(r)}},detectEvents:function(){o(this)}};l.handleMount=function(e){var t=undefined;e&&e.target&&(t=e.target),l.mountComponents(t)},l.handleUnmount=function(e){var t=undefined;e&&e.target&&(t=e.target),l.unmountComponents(t)},"undefined"!=typeof window&&l.detectEvents(),
self.ReactRailsUJS=l,e.exports=l},function(e){e.exports={setup:function(e){"addEventListener"in window?e.handleEvent("DOMContentLoaded",e.handleMount):e.handleEvent("onload",e.handleMount)},teardown:function(e){e.removeEvent("DOMContentLoaded",e.handleMount),e.removeEvent("onload",e.handleMount)}}},function(e){e.exports={setup:function(e){e.handleEvent("ready",e.handleMount),e.handleEvent("pjax:end",e.handleMount),e.handleEvent("pjax:beforeReplace",e.handleUnmount)},teardown:function(e){e.removeEvent("ready",e.handleMount),e.removeEvent("pjax:end",e.handleMount),e.removeEvent("pjax:beforeReplace",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent("turbolinks:load",e.handleMount),e.handleEvent("turbolinks:before-render",e.handleUnmount)},teardown:function(e){e.removeEvent("turbolinks:load",e.handleMount),e.removeEvent("turbolinks:before-render",e.handleUnmount)}}},function(e){e.exports={setup:function(e){e.handleEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)},teardown:function(e){e.removeEvent(Turbolinks.EVENTS.CHANGE,e.handleMount),e.removeEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,e.handleUnmount)}}},function(e){e.exports={setup:function(e){Turbolinks.pagesCached(0),e.handleEvent("page:change",e.handleMount),e.handleEvent("page:receive",e.handleUnmount)},teardown:function(e){e.removeEvent("page:change",e.handleMount),e.removeEvent("page:receive",e.handleUnmount)}}},function(e){e.exports=function(e){return function(t){var n=t.split("."),r=n.shift(),a=n,i=e("./"+r);return a.forEach(function(e){i=i[e]}),i.__esModule&&(i=i["default"]),i}}}])}),function(){var e=this;(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(e){var n;return null==e&&(e=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(e))},getConfig:function(e){var t;return t=document.head.querySelector("meta[name='action-cable-"+e+"']"),null!=t?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?(t=document.createElement("a"),t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,n;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(e);var t=e.ActionCable;(function(){(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.ConnectionMonitor=function(){function n(t){this.connection=t,this.visibilityDidChange=e(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,a,i;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=a(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=a(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=a()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=a(),t.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(e){return function(){return e.reconnectIfStale(),e.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var e,t,n,a;return a=this.constructor.pollInterval,n=a.min,t=a.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(e,n,t))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+i(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var e;return i(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&i(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(e){return function(){if(e.connectionIsStale()||!e.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}}(this),200)},a=function(){return(new Date).getTime()},i=function(e){return(a()-e)/1e3},r=function(e,t,n){return Math.max(t,Math.min(n,e))},n}()}).call(this),function(){var e,n,r,a,i,o=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};a=t.INTERNAL,n=a.message_types,r=a.protocols,i=2<=r.length?o.call(r,0,e=r.length-1):(e=0,[]),r[e++],t.Connection=function(){function e(e){this.consumer=e,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(e){var t,n;if(t=(null!=e?e:{allowReconnect:!0}).allowReconnect,t||this.monitor.stop(),this.isActive())return null!=(n=this.webSocket)?n.close():void 0},e.prototype.reopen=function(){var e;if(t.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return e=n,t.log("Failed to reopen WebSocket",e)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),c.call(i,e)>=0},e.prototype.isState=function(){var e,t;return t=1<=arguments.length?o.call(arguments,0):[],e=this.getState(),c.call(t,e)>=0},e.prototype.getState=function(){var e,t;for(t in WebSocket)if(WebSocket[t]===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},e.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},e.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},e.prototype.events={message:function(e){var t,r,a,i;if(this.isProtocolSupported())switch(a=JSON.parse(e.data),t=a.identifier,r=a.message,i=a.type,i){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(t,"connected");case n.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",r)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},e}()}.call(this),function(){var e=[].slice;t.Subscriptions=function(){function n(e){this.consumer=e,this.subscriptions=[]}return n.prototype.create=function(e,n){var r,a,i;return r=e,a="object"==typeof r?r:{channel:r},i=new t.Subscription(this.consumer,a,n),this.add(i)},n.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},n.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},n.prototype.reject=function(e){var t,n,r,a,i;for(r=this.findAll(e),a=[],t=0,n=r.length;t<n;t++)i=r[t],this.forget(i),this.notify(i,"rejected"),a.push(i);return a},n.prototype.forget=function(e){var t;return this.subscriptions=function(){var n,r,a,i;for(a=this.subscriptions,i=[],n=0,r=a.length;n<r;n++)(t=a[n])!==e&&i.push(t);return i}.call(this),e},n.prototype.findAll=function(e){var t,n,r,a,i;for(r=this.subscriptions,a=[],t=0,n=r.length;t<n;t++)i=r[t],i.identifier===e&&a.push(i);return a},n.prototype.reload=function(){var e,t,n,r,a;for(n=this.subscriptions,r=[],e=0,t=n.length;e<t;e++)a=n[e],r.push(this.sendCommand(a,"subscribe"));return r},n.prototype.notifyAll=function(){var t,n,r,a,i,o,s;for(n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],i=this.subscriptions,o=[],r=0,a=i.length;r<a;r++)s=i[r],o.push(this.notify.apply(this,[s,n].concat(e.call(t))));return o},n.prototype.notify=function(){var t,n,r,a,i,o,s;for(o=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],s="string"==typeof o?this.findAll(o):[o],i=[],r=0,a=s.length;r<a;r++)o=s[r],i.push("function"==typeof o[n]?o[n].apply(o,t):void 0);return i},n.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},n}()}.call(this),function(){t.Subscription=function(){function e(e,n,r){this.consumer=e,null==n&&(n={}),this.identifier=JSON.stringify(n),t(this,r)}var t;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},t=function(e,t){var n,r;if(null!=t)for(n in t)r=t[n],e[n]=r;return e},e}()}.call(this),function(){t.Consumer=function(){function e(e){this.url=e,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){App.events=App.cable.subscriptions.create("EventsChannel",{connected:function(){return console.log("# user connected to events channel #")},disconnected:function(){return console.log("# user disconnected from events channel #")},received:function(e){if(console.log("# event data recieved #"),e.notification_update&&NotificationsReact.update(),e.message_notification&&MessageNotificationsReact.update(),e.ban)return window.location="/",document.body.innerHTML="<div id='ui-hatch'></div>",App.webrtc.disconnect(),App.webrtc=null,console.log("# ban event executed #")},action:function(e){if("clear_notifications"===e.action&&$.ajax({method:"GET",url:"/clear_notifications"}),"clear_messages"===e.action)return $.ajax({method:"GET",url:"/clear_messages"})}})}.call(this),function(){App.match={start:function(e){if("private"!==RoomClient.state.mode&&"channel"!==RoomClient.state.mode)return RoomClient.print("Connecting to server..."),this.sleep(100),App.match_client=App.cable.subscriptions.create("MatchChannel",{queue:e,locked:!1,promise:null,connected:function(){return console.log("# connecting to match system... #")},disconnected:function(){return this.perform("disconnect",{id:App.room.id})},received:function(e){if(console.log("# match data received #",e),e.matched&&this.matched(e),e.waiting&&this.wait(e),e.captcha&&RoomClient.captcha(),e.karma_too_low_video&&RoomClient.karma_too_low_video(),e.disconnect)return this.stranger_disconnect()},match:function(e){var t;if(null==e&&(e={}),console.log("# entering match system... #"),RoomClient&&"private"!==RoomClient.state.mode&&"channel"!==RoomClient.state.mode)return this.locked=!1,RoomClient.print("Connecting to server..."),MatchButtonClient.set_state("stop"),t={},e.gold_override||(t={karma_filter:MatchMenuClient.state.karma_filter,min_karma:MatchMenuClient.state.min_karma,filter_temps:MatchMenuClient.state.filter_temps,gender_filter:MatchMenuClient.state.gender_filter,gender_selected:MatchMenuClient.state.gender_selected}),console.log("gold: ",t,!e.gold_override),this.perform("match",{interest_wait:parseInt(MatchMenuClient.state.wait_delay)>0&&App.user.interests.length>0&&!e.wait_override,options:t,id:App.room.id,queue:this.queue})},wait:function(e){if(this.waiting_room_id=e.room_id,MatchMenuClient.waiting(e),!(this.promise||App.user.interests.length<1))return this.promise=new Promise(function(e){if(!App.match_client.locked)return MatchMenuClient.state.wait_delay>0?setTimeout(e,1e3*MatchMenuClient.state.wait_delay):void 0}),this.promise.then(function(){if(!App.match_client.locked&&RoomClient&&"private"!==RoomClient.state.mode&&"channel"!==RoomClient.state.mode)return App.match_client.match({wait_override:!0})})["catch"](function(){})},matched:function(e){if(!this.locked)return this.locked=!0,this.promise=null,App.room.play_sound("/sfx/chat_sound.mp3"),MatchMenuClient.matched(e),App.room.join(e.room_id)},captcha:function(){},disconnect:function(){return MatchMenuClient.disconnect(),App.room.disconnect(),this.perform("disconnect",{id:App.room.id})},stranger_disconnect:function(){return MatchButtonClient.set_state("start"),MatchMenuClient.stranger_disconnect()}})},reset:function(){var e,t;t=[];for(e in App.cable.subscriptions.subscriptions)console.log(e),App.cable.subscriptions.subscriptions[e].identifier.includes("MatchChannel")?(console.log("################## reset cable subscription ##################",App.cable.subscriptions.subscriptions[e]),t.push(App.cable.subscriptions.remove(App.cable.subscriptions.subscriptions[e]))):t.push(void 0);return t},sleep:function(e){var t,n;for(n=(new Date).getTime(),t=[];(new Date).getTime()-n<e;);return t}},$(document).on("keydown",function(e){if(MatchButtonClient&&27===e.keyCode)return MatchButtonClient.modify_state()})}.call(this),function(){App.cable.subscriptions.create("OnlineChannel",{connected:function(){return this.perform("online",{online:!0}),console.log("### user is online ###")},disconnected:function(){return this.perform("online",{online:!1}),console.log("### user is offline ###")},rejected:function(){return this.perform("online",{online:!1}),console.log("### connection rejected, user is offline ###")}})}.call(this),function(){App.room={id:null,client:{},typing:null,muted:[],join:function(e){return App.room.disconnect(),App.room.id=e,App.room.client=App.cable.subscriptions.create({channel:"RoomChannel",room_id:e},{connected:function(){return console.log("# client connected to room["+e+"] #"),RoomClient.room_reconnected()},disconnected:function(){return this.perform("unsubscribed"),RoomClient.room_disconnected(),console.log("# client disconnected from room["+e+"] #")},received:function(e){if(console.log("# room received data #"),-1===App.room.muted.indexOf(e.user.id)&&RoomClient.received(e),e.user_connected&&RoomClient.connected(e),e.user_disconnected)return RoomClient.disconnected(e)},speak:function(t){return this.perform("speak",{message:t.message,id:e,picture:t.picture})},typing:function(){if(!App.room.typing)return this.perform("typing",{id:e}),App.room.typing=setTimeout(function(){return App.room.typing=null},1e4)}})},"switch":function(e){return console.log("# client switched channel, tuning to room["+e+"] #"),App.room.join(e)},leave:function(e){var t,n,r;r=App.cable.subscriptions.subscriptions,n=[];for(t in r)r[t].identifier.includes(e)?n.push(App.cable.subscriptions.remove(r[t])):n.push(void 0);return n},disconnect:function(){var e,t,n;n=App.cable.subscriptions.subscriptions,t=[];for(e in n)n[e].identifier.includes("RoomChannel")?t.push(App.cable.subscriptions.remove(n[e])):t.push(void 0);return t},mute:function(e){return App.room.muted.push(e)},unmute:function(e){return App.room.muted.splice(App.room.muted.indexOf(e),1)},play_sound:function(e){var t;if(!1===MuteButtonClient.state.muted)return t=new Audio(e),t.volume=.5,t.play()}}}.call(this);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Badge=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={badge:{html:null}},this.badges=[{name:"admin",html:null},{name:"mod",html:React.createElement("div",{className:"user-badge user-text-badge user-text-badge-generic"},"MOD")},{name:"bot",html:null},{name:"verified",html:React.createElement("span",{className:"material-icons user-badge-verified"},"check")},{name:"dev",html:null},{name:"staff",html:null},{name:"original",html:null},{name:"gold",html:React.createElement("img",{className:"user-badge-tick",src:"/badges/tick.svg"})}]}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=null;if(this.props.badge)for(var t in this.badges){var n=this.badges[t];n.name==this.props.badge.name&&(e=n)}this.setState({badge:e})}},{key:"render",value:function(){var e=this.state.badge||{badge:{html:null}};return React.createElement("span",{className:"user-badge-container"},e.html)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},BanClient={render:function(){element=React.createElement(Menu,null,React.createElement(Ban,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}};BanReact={};var Ban=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default",ban:null,process:0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/ban_json",dataType:"json",success:function(e){this.setState({data:e}),App.user.email=e.email}.bind(this)}),BanReact=this,document.getElementById("ui-menu-bg").style.pointerEvents="none"}},{key:"unban_account",value:function(){stripe_emerald.buy_unban()}},{key:"waiting",value:function(){this.setState({tab:"waiting"}),setTimeout(function(){window.location="/"},1e4)}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"body",value:function(){return React.createElement("div",null,React.createElement(BR,null),React.createElement("div",{className:"m1"},"Duration"),React.createElement("div",{className:"notification-menu-container-text"},this.state.data.time),React.createElement(BR,null),React.createElement("div",{className:"m1"},"Reason"),React.createElement("div",{className:"notification-menu-container-text"},this.state.data.ban.reason),React.createElement(BR,null),React.createElement("div",{style:{color:"gold"},className:"m1"},"Donate $3.99 to Skip Ban"),React.createElement("div",{className:"notification-menu-container-text"},"You can skip your ban and start using the site again right now by paying the small unban fee of $3.99. We will also reset your karma to 0 giving you a fresh start.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("a",{onClick:this.unban_account.bind(this),className:"ui-button-match-mega gold-button",style:{padding:"15px 44px"},href:"#"},"Unban your account")))}},{key:"render",value:function(){var e=null;if(this.state.data&&(e=this.body()),"default"==this.state.tab)var e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"BANNED",React.createElement(BR,null),e,React.createElement("div",{className:"ui-menu-buttons"}));else if("waiting"==this.state.tab)var e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null)));return e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},DashboardClient=null,Dashboard=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={jumbotron:!0,user:{display_picture:App.user.display_picture||"avicons_strict/1.png"}},DashboardClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"jumbotron",value:function(){if(this.state.jumbotron)return React.createElement("div",{className:"emerald-jumbotron-message"},React.createElement("a",{href:"https://medium.com/@admin_6838/emerald-gold-329a55094115",target:"_blank",className:"emerald-jumbotron-message-text"},"With Emerald Gold you can filter users by karma level, gender as well as other perks. Click here to learn more."),React.createElement("span",{onClick:this.close_jumbotron.bind(this),className:"material-icons"},"close"))}},{key:"close_jumbotron",value:function(){this.setState({jumbotron:!1})}},{key:"ads",value:function(){return React.createElement("div",{style:{marginTop:"55px"}})}},{key:"hall_of_fame",value:function(){return React.createElement(HallOfFame,null)}},{key:"meet",value:function(){Object.keys(App.user).length<1||ReactDOM.render(React.createElement(MeetMenu,null),document.getElementById("container"))}},{key:"settings",value:function(){element=React.createElement(Menu,null,React.createElement(SettingsMenu,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"profile",value:function(){App.user.id&&ReactDOM.render(React.createElement(UserProfile,{id:App.user.id}),document.getElementById("ui-hatch"))}},{key:"render",value:function(){return React.createElement("div",{className:"dashboard-background"},React.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},this.ads()),React.createElement("div",{id:"list-dash",className:"dashboard-container"},React.createElement("div",{onMouseDown:this.meet.bind(this),className:"dashboard-button animated zoomIn"},React.createElement("span",{className:"material-icons dashboard-icon"},"public"),React.createElement("h2",null,"Meet"),"Meet and chat to people from around the world."),React.createElement("div",{onMouseDown:this.profile.bind(this),className:"dashboard-button animated zoomIn"},React.createElement("img",{className:"dashboard-card-image",src:this.state.user.display_picture}),React.createElement("h2",null,"Profile"),"View and edit your Emerald profile"),React.createElement("span",{onMouseDown:this.settings.bind(this),className:"dashboard-button animated zoomIn"},React.createElement("span",{className:"material-icons dashboard-icon"},"settings"),React.createElement("h2",null,"Settings"),"Edit your Emerald account.")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},FriendUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"body",value:function(){return React.createElement("div",{className:"notification-unit-body"},React.createElement("img",{className:"navigation-notification-unit-image",src:this.props.data.display_picture}),React.createElement(Flair,{data:{string:this.props.data.display_name,flair:this.props.data.flair}}))}},{key:"render",value:function(){var e=this;return React.createElement("div",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.props.data})},style:{marginTop:"5px"},className:"notification-unit"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},FriendsMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={search:[],friends:[],count:0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/friends_json",dataType:"json",success:function(e){this.setState(e)}.bind(this)})}},{key:"close",value:function(){MenuReact.close()}},{key:"load_friends",value:function(){$.ajax({type:"GET",url:"/load_friends_json?offset="+this.state.friends.length,dataType:"json",success:function(e){state={search:[],friends:this.state.friends.concat(e),count:this.state.count},this.setState(state)}.bind(this)})}},{key:"search_friend",value:function(){var e=$("#searchbox").val();e=e.toLowerCase(),$.ajax({type:"GET",url:"/friends_search_json?search="+e,dataType:"json",success:function(e){state={search:e,friends:this.state.friends,count:this.state.count},this.setState(state)}.bind(this)})}},{key:"search",value:function(){return this.state.search.length>0?results=React.createElement("div",null,React.createElement("div",{className:"m1"},"search"),this.state.search.map(function(e){return React.createElement(FriendUnit,{key:"friend"+e.id,created_at:e.created_at,data:e})}),React.createElement(BR,null)):results=null,React.createElement("div",null,React.createElement("div",{className:"ui-search-box"},React.createElement("input",{id:"searchbox",type:"text",className:"ui-search-box-input",placeholder:"Enter a username..."})),React.createElement("div",{onMouseDown:this.search_friend.bind(this),style:{marginLeft:"13px"},className:"ui-button"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"search"),"Search"),results)}},{key:"body",value:function(){return React.createElement("div",{style:{height:"calc(100% - 40px)"}},React.createElement("div",{className:"notification-container"},this.search(),React.createElement("div",{className:"m1"},"recent"),this.state.friends.map(function(e){return React.createElement(FriendUnit,{key:"friend"+e.id,created_at:e.created_at,data:e})})))}},{key:"buttons",value:function(){return close=React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"),load=null,this.state.count>8&&(load=React.createElement("div",{onMouseDown:this.load_friends.bind(this),className:"ui-button"},"Load More")),React.createElement("div",{className:"ui-menu-buttons"},close,load)}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FRIENDS ",React.createElement("span",{style:{marginLeft:"5px"},className:"m1"},"(",this.state.count,")"),React.createElement(BR,null),React.createElement(BR,null),this.body(),this.buttons())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},FriendsSettings=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReactMicro.close()}},{key:"delete",value:function(){$.ajax({type:"GET",url:"/friends_destroy?id="+this.props.id,dataType:"json",success:function(){UserProfileReact.load(this.props.id)}.bind(this)}),this.close()}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("div",{onMouseDown:this["delete"].bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"delete"))}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FRIEND SETTINGS",React.createElement(BR,null),React.createElement(BR,null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,
null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},BR=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("br",null)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Dropdown=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.props.data.links;return{body:this.props.data.body}}}]),t}(React.Component);$(document).on("mousedown","[data-dropdown=react-dropdown]",function(){data=$(this).data(),style="",dropdown=$(this).find(".react-dropdown-content"),$(dropdown).addClass("react-dropdown-show"),style+="margin-left: -"+($(dropdown).width()-$(this).width())+"px;",data.dropup&&(style="; margin-top: -"+($(dropdown).height()+32)+"px"),$(dropdown).attr("style",style)}),$(document).on("click touchend",function(e){for(var t=5,n=[],r=0;r<t;r++)n.push($($(e.target).parents()[r]).data());for(var a=!1,r=0;r<n.length;r++)if(n[r]!=undefined&&"react-dropdown"==n[r].dropdown){a=!0;break}0==a&&$(".react-dropdown-show").removeClass("react-dropdown-show")});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},LoadingDefault=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"center-align spinner-cube"},React.createElement("div",{className:"cube1"}),React.createElement("div",{className:"cube2"}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Popup=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"render",value:function(){return html=this.props.html,React.createElement("div",{className:"beryl-container"},React.createElement("div",{className:"beryl-screen"}),React.createElement("div",{className:"beryl-popmenu"},React.createElement("div",{onMouseDown:this.close.bind(this),style:{"float":"left",marginTop:"-25px",marginLeft:"-15px"},className:"ui-close fa fa-close"}),React.createElement("div",{dangerouslySetInnerHTML:{__html:html}})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};GoldAdClient={serve:function(){component=React.createElement(MenuMicro,null,React.createElement(GoldBuy,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}};var GoldAd=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"open_buy_menu",value:function(){component=React.createElement(MenuMicro,null,React.createElement(GoldBuy,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"render",value:function(){return 1==App.user.gold?null:React.createElement("div",{style:{fontWeight:"500",marginTop:"13px"},className:"match-component-module"},React.createElement("div",{className:"m4"},"gender filter (LOCKED) ",React.createElement("span",{style:{fontSize:"16px",margin:"0 0 0 0"},className:"material-icons"},"lock")),React.createElement("label",{style:{marginBottom:"13px"},className:"ui-select",htmlFor:"gender-select"},React.createElement("select",{disabled:!0,style:{opacity:.4},defaultValue:"f"},React.createElement("option",{value:"m"},"Male"),React.createElement("option",{value:"f"},"Female"),React.createElement("option",{value:"o"},"Other"))),React.createElement("a",{className:"ui-button-match-mega gold-button",style:{marginTop:"-5px"},onClick:this.open_buy_menu.bind(this),href:"#"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons gold-icon"},"lock_open"),"Unlock gender filter"))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},GoldBuy=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},GoldBuyClient=this}return _inherits(t,e),_createClass(t,[{key:"buy_gold",value:function(){$.ajax({type:"GET",url:"/user_is_temp",dataType:"json",success:function(e){!0===e.temp?(MenuReactMicro.close(),UpgradeClient.form()):stripe_emerald.buy_emerald_gold()}.bind(this)})}},{key:"cancel_gold",value:function(){alert("Your Emerald Gold Subscription has been Canceled."),$.ajax({type:"GET",url:"/stripe/emerald_gold_cancel",dataType:"json"}),window.location="/"}},{key:"purchased_gold",value:function(){this.setState({tab:"purchased"})}},{key:"waiting",value:function(){this.setState({tab:"waiting"})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;return"default"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",null,"EMERALD GOLD"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"Buy Emerald Gold For only ",React.createElement("span",{style:{color:"gold"}},"$3.89")," per month.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"1. Choose the gender of your matches")," - Match only to the gender you select.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"3. Priority Matching.")," - Emerald Gold users are at the top of the queue and have priority on the matching system.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"4. No Ads!")," Get a premium ad-free experience.",React.createElement(BR,null),React.createElement(BR,null),"You can cancel your subscription at any time. Try Emerald gold today!",React.createElement(BR,null),React.createElement(BR,null),React.createElement("input",{type:"hidden",name:"cmd",value:"_s-xclick"}),React.createElement("input",{type:"hidden",name:"hosted_button_id",value:"JMZEMEAGWNMG2"}),React.createElement("input",{type:"hidden",name:"custom",value:App.user.id}),React.createElement("a",{onClick:this.buy_gold.bind(this),className:"ui-button-match-mega gold-button",style:{padding:"15px 44px"},href:"#"},"Buy $3.89"),React.createElement(BR,null),React.createElement("a",{style:{display:"none"},href:"//stripe.com",target:"_blank"},React.createElement("img",{src:"https://www.strategiclight.com/wp-content/uploads/2017/03/powered-by-stripe-1-300x141.png",style:{width:"153px",height:"auto",marginTop:"21px"}})),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement("a",{onClick:this.cancel_gold.bind(this),href:"#"},"Cancel existing subscription"))):"purchased"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",{style:{color:"#fed80a"}},"PURCHASE COMPLETE!"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"It will take just a minute or so to get Emerald Gold working on your account. Remember to refresh your page to use gold once your payment has gone through.",React.createElement(BR,null),React.createElement(BR,null),"You'll now be able to:",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by gender."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by karma level."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter out all non-registered users."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Have a cool verified tick next to your name"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"#fed80a"}},"Instructions:")," Your premium Gold settings will be available on the match menu screen, just under the interests input field.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"Thanks for using Emerald Gold!"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"-Emerald Team"))):"waiting"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))):"maintenence"==this.state.tab&&(e=React.createElement("div",{className:"notification-menu-container-text-parent"},"This feature is under maintenence, please wait for 1 hour.")),e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},GoldMenu=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"notification-menu-container-text-parent"},"For only ",React.createElement("span",{style:{color:"#e5c206"}},"$2.89")," per month. You'll get:",React.createElement(BR,null),React.createElement(BR,null),"\u2022 The ability to filter users by karma level.",React.createElement(BR,null),React.createElement(BR,null),"\u2022 The ability to filter out all non-registered users.",React.createElement(BR,null),React.createElement(BR,null),"\u2022 A golden badge next to name to show you're supporting the community & No Ads!",React.createElement(BR,null),React.createElement(BR,null),"You can cancel your subscription at any time. Try Emerald gold!",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"attach_money"),"Buy Gold $2.89"))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},GoldSubscribed=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},GoldBuyClient=this}return _inherits(t,e),_createClass(t,[{key:"cancel_gold",value:function(){$.ajax({type:"GET",url:"/stripe/emerald_gold_cancel",dataType:"json"}),window.location="/"}},{key:"cancel_gold_menu",value:function(){this.setState({tab:"cancel"})}},{key:"render",value:function(){var e=null;new Date(App.user.created_at),new Date("Wed Aug 08 2018 15:58:49 GMT+0100 (British Summer Time)");if("default"==this.state.tab){var t=React.createElement("div",null,"You currently have an active Emerald Gold subscription.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"#fed80a"}},"Instructions:")," Your Emerald Gold settings will be available on the start match menu screen, just under the interests input field.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"Thanks for joining Emerald Gold!"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"-Emerald Team"),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement("a",{href:"#",onClick:this.cancel_gold_menu.bind(this)},"Cancel your emerald gold membership."));e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",{style:{color:"#fed80a"}},"EMERALD GOLD ACTIVE"),React.createElement("div",{className:"notification-menu-container-text"},React.createElement(BR,null),React.createElement("a",{className:"ui-button-match-mega gold-button",href:"#"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons gold-icon"},"attach_money"),"Subscribed"),React.createElement(BR,null),React.createElement(BR,null),t))}else"cancel"==this.state.tab&&(e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",{style:{color:"#fed80a"}},"CANCEL GOLD"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"Are you sure you want to cancel Emerald gold?",React.createElement(BR,null),React.createElement(BR,null),"You'll no longer be able to:",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by gender."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by karma level."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter out all non-registered users."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Have a cool verified tick next to your name"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("a",{onClick:this.cancel_gold.bind(this),className:"ui-button-match-mega",style:{padding:"13px 44px"},href:"#"},"I'm sure"))));return e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},HallOfFame=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={users:[]}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"hall_of_fame",dataType:"json",success:function(e){this.setState({users:e}),console.log(e)}.bind(this)})}},{key:"open_buy_menu",value:function(){component=React.createElement(MenuMicro,null,React.createElement(HallOfFameBuy,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"render",value:function(){return null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},HallOfFameBuy=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"}}return _inherits(t,e),_createClass(t,[{key:"buy",value:function(){stripe_emerald.buy_hall_of_fame()}},{key:"purchased",value:function(){this.setState({tab:"purchased"})}},{key:"waiting",value:function(){this.setState({tab:"waiting"})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;return"default"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",null,"HALL OF FAME"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"Join the Emerald Hall of Fame ",React.createElement("span",{style:{color:"gold"}},"$8.89"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"hall-of-fame-unit",style:{width:"fit-content"}},React.createElement("div",{className:"hall-of-fame-online"}),React.createElement("img",{className:"hall-of-fame-image",src:App.user.display_picture})),React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"1. Become Emerald Famous")," - Your profile will appear at the top of the page in front of everyone, you'll be famous!",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"2. Meet tons of people")," - You'll get tons of quality friend requests and the opportunity to meet people from around the world.",React.createElement(BR,null),React.createElement(BR,null),"PLEASE MAKE SURE THERE IS NO NUDITY IN YOUR PROFILE PICTURE. If your profile picture contains nudity or content against our terms of service you may be banned and may not be refunded.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("input",{type:"hidden",name:"cmd",value:"_s-xclick"}),React.createElement("input",{type:"hidden",name:"hosted_button_id",value:"JMZEMEAGWNMG2"}),React.createElement("input",{type:"hidden",name:"custom",value:App.user.id}),React.createElement("a",{onClick:this.buy.bind(this),className:"ui-button-match-mega gold-button",style:{padding:"15px 44px"},href:"#"},"Buy $8.89"),React.createElement(BR,null),React.createElement("a",{style:{display:"none"},href:"//stripe.com",target:"_blank"}))):"purchased"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("span",{style:{color:"#fed80a"}},"PURCHASE COMPLETE!"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"It will take just a minute or so to get Emerald Gold working on your account. Remember to refresh your page to use gold once your payment has gone through.",React.createElement(BR,null),React.createElement(BR,null),"You'll now be able to:",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by gender."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter matches by karma level."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Filter out all non-registered users."),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"\u2022 Have a cool verified tick next to your name"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{style:{color:"#fed80a"}},"Instructions:")," Your premium Gold settings will be available on the match menu screen, just under the interests input field.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"Thanks for using Emerald Gold!"),React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",null,"-Emerald Team"))):"waiting"==this.state.tab?e=React.createElement("div",{className:"notification-menu-container-text-parent"},React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))):"maintenence"==this.state.tab&&(e=React.createElement("div",{className:"notification-menu-container-text-parent"},"This feature is under maintenence, please wait for 1 hour.")),e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};InterestClient=null;var InterestsEdit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={interests:this.props.interests},InterestClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"key_press",value:function(e){188!=e.keyCode&&13!=e.keyCode||(this.add_interest($(e.target).val()),$(e.target).val(""),e.preventDefault())}},{key:"focus_interests",value:function(){setTimeout(function(){$("#interest-input").focus()})}},{key:"add_interest",value:function(e){if(e=e.replace(/\n/g,""),e=e.toLowerCase(),/\S/.test(e)){for(interests=[],i=0;i<this.state.interests.length;i++)interests.push(this.state.interests[i]);interests.push({name:e,id:999999999*Math.random(),created_at:"",users_count:0,updated_at:""}),this.setState(this.state.interests=interests),$.ajax({type:"GET",url:"/add_interest?id="+e,dataType:"json",success:function(e){App.user.interests.push(e)}.bind(this)})}}},{key:"remove_interest",value:function(e){for(e.preventDefault(),name=$(e.target).data().interest,id=undefined,interests=[],i=0;i<this.state.interests.length;i++)this.state.interests[i].name!=name?interests.push(this.state.interests[i]):id=this.state.interests[i].id;this.setState(this.state.interests=interests),$.ajax({type:"GET",url:"/remove_interest?id="+id,dataType:"json",success:function(){App.user.interests.splice(App.user.interests.indexOf(name),1)}.bind(this)})}},{key:"render",value:function(){var e=this;return React.createElement("div",null,React.createElement("div",{onMouseDown:this.focus_interests.bind(this),id:"interests",className:"ui-interests-bg"},this.state.interests.map(function(t){return React.createElement("div",{key:"interest"+t.name,className:"user-profile-interest"},t.name,React.createElement("span",{"data-interest":t.name,onMouseDown:e.remove_interest.bind(e),className:"user-profile-close material-icons"},"close"))}),React.createElement("input",{id:"interest-input",onKeyDown:this.key_press.bind(this),"data-behavior":"interest-match-input",className:"ui-input-interests",name:"interests[input]"})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MatchButtonClient={};var MatchButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:"start"},MatchButtonClient=this}return _inherits(t,e),_createClass(t,[{key:"set_state",value:function(e){this.setState({data:e})}},{key:"modify_state",value:function(){"default"==this.state.data?this.setState({data:"confirm"}):"confirm"==this.state.data?(this.setState({data:"stop"}),App.match_client.match()):"stop"==this.state.data?this.setState({data:"confirm_stop"}):"confirm_stop"==this.state.data?(this.setState({data:"start"}),App.match_client.disconnect()):"start"==this.state.data&&(this.setState({data:"stop"}),App.match_client.match())}},{key:"render",value:function(){var e=null;return"default"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Next"):"stop"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Stop"):"confirm"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Sure?"):"confirm_stop"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Sure?"):"start"==this.state.data&&(e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Start")),e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MatchButtonObj={};var MatchButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:"start"},MatchButtonObj=this}return _inherits(t,e),_createClass(t,[{key:"set_state",value:function(e){this.setState({data:e})}},{key:"modify_state",value:function(){"default"==this.state.data?this.setState({data:"confirm"}):"confirm"==this.state.data?(this.setState({data:"stop"}),App.rotunda.start($(this).data())):"stop"==this.state.data?this.setState({data:"confirm_stop"}):"confirm_stop"==this.state.data?(this.setState({data:"start"}),App.room_master.disconnect(),App.rotunda.disconnect()):"start"==this.state.data&&(this.setState({data:"stop"}),App.rotunda.start($(this).data()))}},{key:"render",value:function(){var e=null;return"default"==this.state.data?e=React.createElement("div",{id:"match-control-button",onMouseDown:this.modify_state.bind(this),style:{padding:"0",marginTop:"1px",borderRadius:"4px",textAlign:"center",cursor:"pointer",height:"100%",width:"100%",lineHeight:"100px",fontWeight:"bold"},className:"btn-primary"},React.createElement("span",{className:"unselectable"},"Next [Esc]")):"stop"==this.state.data?e=React.createElement("div",{id:"match-control-button",onMouseDown:this.modify_state.bind(this),style:{padding:"0",marginTop:"1px",borderRadius:"4px",textAlign:"center",cursor:"pointer",height:"100%",width:"100%",lineHeight:"100px",fontWeight:"bold"},className:"btn-primary"},React.createElement("span",{className:"unselectable"},"Stop [Esc]")):"confirm"==this.state.data?e=React.createElement("div",{id:"match-control-button",onMouseDown:this.modify_state.bind(this),style:{padding:"0",marginTop:"1px",borderRadius:"4px",textAlign:"center",cursor:"pointer",height:"100%",width:"100%",lineHeight:"100px",fontWeight:"bold"},className:"btn-primary"},React.createElement("span",{className:"unselectable"},"Sure? [Esc]")):"confirm_stop"==this.state.data?e=React.createElement("div",{id:"match-control-button",onMouseDown:this.modify_state.bind(this),style:{padding:"0",marginTop:"1px",borderRadius:"4px",textAlign:"center",cursor:"pointer",height:"100%",width:"100%",lineHeight:"100px",fontWeight:"bold"},className:"btn-primary"},React.createElement("span",{className:"unselectable"},"Sure? [Esc]")):"start"==this.state.data&&(e=React.createElement("div",{id:"match-control-button",onMouseDown:this.modify_state.bind(this),style:{padding:"0",marginTop:"1px",borderRadius:"4px",textAlign:"center",cursor:"pointer",height:"100%",width:"100%",lineHeight:"100px",fontWeight:"bold"},className:"btn-primary"},React.createElement("span",{className:"unselectable"},"Start [Esc]"))),e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){
var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MeetButtonSkeleton=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{style:{background:"#f7f7f7",verticalAlign:"bottom"},className:"btn-giga animate-skeleton"},React.createElement("div",{style:{opacity:"0"}},React.createElement("img",{id:"image-2",className:"avatar-icon",src:"/emoticons_hd/1f37f.png"}),React.createElement("h2",{style:{color:"inherit"}},"Group Chat"),React.createElement("span",{style:{color:"inherit",fontSize:"20px",maxWidth:"400px"}},"Join group chatrooms based on your interests."),React.createElement("img",{src:"/emoticons-flat/Very_Basic/lock-48.png",style:{width:"auto",height:"42px"}})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MeetMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={jumbotron:!0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"jumbotron",value:function(){if(this.state.jumbotron)return React.createElement("div",{className:"emerald-jumbotron-message"},React.createElement("a",{href:"https://medium.com/@admin_6838/emerald-gold-329a55094115",target:"_blank",className:"emerald-jumbotron-message-text"},"With Emerald Gold you can filter users by karma level, gender as well as other perks. Click here to learn more."),React.createElement("span",{onClick:this.close_jumbotron.bind(this),className:"material-icons"},"close"))}},{key:"close_jumbotron",value:function(){this.setState({jumbotron:!1})}},{key:"ads",value:function(){return React.createElement("div",{style:{marginTop:"55px"}})}},{key:"match",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode),ReactDOM.render(React.createElement(Room,{key:"room0",data:{id:0,mode:"match"}}),document.getElementById("container"))}},{key:"video_chat",value:function(){App.webrtc.incompatible=function(){component=React.createElement(MenuMicro,null,"NO VIDEO DETECTED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't find your camera. Make sure the device is connected and refresh the page to try again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}.bind(this),App.webrtc.compatible=function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode),ReactDOM.render(React.createElement(Room,{key:"room0",data:{id:0,mode:"match_video"}}),document.getElementById("container"))}.bind(this),App.webrtc.media_compatible({video:!0,audio:!0})}},{key:"voice_chat",value:function(){App.webrtc.incompatible=function(){component=React.createElement(MenuMicro,null,"NO MICROPHONE DETECTED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't find your microphone. Make sure the device is connected and refresh the page to try again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}.bind(this),App.webrtc.compatible=function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode),ReactDOM.render(React.createElement(Room,{key:"room0",data:{id:0,mode:"match_voice"}}),document.getElementById("container"))}.bind(this),App.webrtc.media_compatible({video:!1,audio:!0})}},{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"channels",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode),ReactDOM.render(React.createElement(Room,{key:"room0",data:{id:0,mode:"channel"}}),document.getElementById("container"))}},{key:"channels_card",value:function(){return React.createElement("div",{onMouseDown:this.channels.bind(this),className:"dashboard-button animated zoomIn",style:{cursor:"pointer"},"data-attributes":"button-giga"},React.createElement("span",{className:"material-icons dashboard-icon"},"group"),React.createElement("h2",{style:{color:"inherit"}},"Group Text Chat"),React.createElement("span",null,"Match with a random group of people on Emerald."))}},{key:"voice_card",value:function(){return React.createElement("div",{onMouseDown:this.voice_chat.bind(this),className:"dashboard-button animated zoomIn",style:{cursor:"pointer"},"data-attributes":"button-giga"},React.createElement("span",{className:"material-icons dashboard-icon"},"call"),React.createElement("h2",{style:{color:"inherit"}},"Voice Chat ",React.createElement("div",{className:"new-label"},"New!")),React.createElement("span",null,"Emerald will match you to a voice call."))}},{key:"render",value:function(){return video_mode=React.createElement("div",{onMouseDown:this.video_chat.bind(this),className:"dashboard-button animated zoomIn",style:{cursor:"pointer"}},React.createElement("span",{className:"material-icons dashboard-icon"},"videocam"),React.createElement("h2",{style:{color:"inherit"}},"Video Chat"),React.createElement("span",null,"Emerald will match you to a video chat.")),body=null,body=React.createElement("div",{className:"dashboard-background"},React.createElement("div",{className:"dashboard-container"},this.jumbotron(),this.ads(),React.createElement("div",{className:"meet-cards-container"},React.createElement(HallOfFame,null),React.createElement("div",{onMouseDown:this.match.bind(this),className:"dashboard-button animated zoomIn",style:{cursor:"pointer"}},React.createElement("span",{className:"material-icons dashboard-icon"},"translate"),React.createElement("h2",{style:{color:"inherit"}},"1 on 1 Text Chat"),React.createElement("span",null,"Emerald will match you to a 1 on 1 text chat.")),video_mode,this.channels_card()))),body}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Comment=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={compact:!0,micropost_data:null,comment_data:null,deleted:!1,reply:!1,sub_comments:[]}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/comment_json?id="+this.props.data.comment_id,dataType:"json",success:function(e){this.setState({compact:!0,micropost_data:this.props.data.micropost_data,comment_data:e})}.bind(this)})}},{key:"comment_input",value:function(e){text=$(e.target).val(),key=e.keyCode,13==key&&!e.shiftKey&&text.trim().length>0&&(this.setState({data:this.state.data,reply:!1,compact:this.state.compact}),$(e.target).val(""),e.preventDefault(),$(e.target).trigger("blur"),$.ajax({type:"GET",url:"/comments_create?id="+this.props.data.micropost_data.micropost.id+"&content="+encodeURIComponent(text),dataType:"json",success:function(e){data=MicropostsStore["micropost"+this.props.data.micropost_data.micropost.id].state.data,data.comments.push(e.comment.id),state={data:data,compact:this.state.compact,reply:!1},MicropostsStore["micropost"+this.props.data.micropost_data.micropost.id].setState(state)}.bind(this)}))}},{key:"delete",value:function(){$.ajax({type:"GET",url:"/comment_delete?id="+this.props.data.comment_id,dataType:"json",success:function(){this.setState({deleted:!0})}.bind(this)})}},{key:"more",value:function(){this.setState({compact:!this.state.compact})}},{key:"show_comment_input",value:function(){this.setState({reply:!this.state.reply})}},{key:"write_comment",value:function(){return this.state.reply?React.createElement("div",{className:"animated zoomIn user-comment-input-background"},React.createElement("input",{className:"user-comment-input",onKeyDown:this.comment_input.bind(this),placeholder:"Commment..."})):null}},{key:"youtube_process",value:function(e){var t=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.match(t);if(n){var r="https://www.youtube.com/embed/"+n[2];return React.createElement("iframe",{style:{marginTop:"10px",borderRadius:"4px",border:"none"},width:"100%",height:"120",src:r,frameborder:"0",gesture:"media",allow:"encrypted-media",allowfullscreen:!0})}return e}},{key:"content",value:function(){var e=this.state.comment_data.comment.content,t=36,n=e.split(" ");if(n.length>t&&this.state.compact){for(var r=[],a=0;a<t;a++)r.push(n[a]);return React.createElement("span",null,r.join(" "),"...",React.createElement("span",{onMouseDown:this.more.bind(this),className:"user-micropost-text-button"}," More"))}var i=e;return this.youtube_process(i)}},{key:"render",value:function(){var e=this;return this.state.comment_data&&!this.state.deleted?React.createElement("div",{key:this.state.comment_data.comment.id,className:"user-comment-unit"},React.createElement("div",{className:"user-comment-left"},React.createElement("img",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.state.comment_data.user})},className:"user-comment-picture",src:this.state.comment_data.user.display_picture})),React.createElement("div",{className:"user-comment-right"},React.createElement(Flair,{data:{string:this.state.comment_data.user.display_name,flair:this.state.comment_data.user.flair}}),React.createElement("div",{className:"user-micropost-date"},jQuery.timeago(new Date(this.state.comment_data.comment.created_at))),React.createElement(CommentSettings,{parent:this}),React.createElement(BR,null),this.content()),React.createElement("div",{className:"user-comment-buttons"},React.createElement("span",{onMouseDown:this.show_comment_input.bind(this),className:"user-comment-button"},"Reply"),React.createElement(LikeButton,{data:{liked:this.state.comment_data.liked,value:this.state.comment_data.likes_count,id:this.state.comment_data.comment.id,"class":"Comment"}})),this.write_comment()):this.state.error||this.state.deleted?null:React.createElement("div",{style:{display:"none"},className:"user-comment-unit"},React.createElement("div",{className:"user-comment-left"},React.createElement("span",{style:{},className:"notification-unit-skeleton notification-unit-skeleton-circle"})),React.createElement("div",{className:"user-comment-right"},React.createElement("div",{style:{verticalAlign:"top",marginLeft:"0px"},className:"notification-unit-skeleton notification-unit-skeleton-line"})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},CommentSettings=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReactMicro.close()}},{key:"authorized",value:function(){var e=this.props.parent.state.micropost_data.current_user,t=this.props.parent.state.micropost_data.micropost,n=this.props.parent.state.micropost_data.wall;return e.mod||e.master||e.id==t.author_id||null!=n&&n.user_id==e.id}},{key:"delete",value:function(){this.props.parent["delete"](),this.close()}},{key:"open",value:function(e){component=React.createElement(MenuMicro,null,"COMMENT SETTINGS",React.createElement(BR,null),React.createElement(BR,null),e.remove,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"render",value:function(){return this.authorized()?(remove=React.createElement("div",{onMouseDown:this["delete"].bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"Delete"),data={remove:remove},React.createElement("div",{style:{"float":"right"}},React.createElement("div",{onMouseDown:this.open.bind(this,data=data),className:"material-icons user-micropost-settings"},"more_horiz"))):null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Comments=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data})}},{key:"componentDidUpdate",value:function(){if(params=App.params,params.comment&&params.post.id==this.props.data.micropost.id&&!this.state.highlighted){var e=[];e.push(parseInt(params.comment.id)),data=this.state.data,data.comments=e,this.setState({data:data,highlighted:!0})}}},{key:"load_comments",value:function(){load=10,$.ajax({type:"GET",url:"/comments_load_more?id="+this.state.data.micropost.id+"&loaded="+this.state.data.comments.length+"&load_count="+load,dataType:"json",success:function(e){data=this.state.data,comments=data.comments.concat(e),data.comments=comments,this.setState({data:data})}.bind(this)})}},{key:"load_previous_button",value:function(){var e=this.state.data.comments_count-this.state.data.comments.length,t=null;return e>0&&(t=React.createElement("div",{onMouseDown:this.load_comments.bind(this),style:{textAlign:"center",marginBottom:"5px"},className:"user-micropost-text-button"},"View Previous Comments (",e,")")),t}},{key:"render",value:function(){var e=this;return this.state.data?React.createElement("div",{className:"user-comments"},this.state.data.comments.map(function(t){return React.createElement(Comment,{key:t,data:{micropost_data:e.state.data,comment_id:t}})}),this.load_previous_button()):null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},LikeButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={liked:e.data.liked}}return _inherits(t,e),_createClass(t,[{key:"clicked",value:function(){var e="/like?id="+this.props.data.id+"&liked="+this.state.liked+"&class="+this.props.data["class"];$.ajax({type:"GET",url:e,dataType:"json",success:function(e){this.setState({compact:!0,data:e})}.bind(this)}),this.state.liked?this.props.data.value--:this.props.data.value++,this.setState({liked:!this.state.liked})}},{key:"get_value",value:function(e){return e>999?App.generic.shorten_number(e):e<1?null:App.generic.shorten_number(e)}},{key:"render",value:function(){var e=this.get_value(this.props.data.value,this.state.liked),t=null;return this.props.data.value>0&&(t=React.createElement("span",{className:"user-micropost-likes"},e)),this.state.liked?React.createElement("span",null,React.createElement("span",{className:"user-micropost-likes"},e),React.createElement("span",{"data-remote":"true",onClick:this.clicked.bind(this),className:"user-micropost-icon-button-liked material-icons"},"thumb_up")):React.createElement("span",null,t,React.createElement("span",{"data-remote":"true",onClick:this.clicked.bind(this),className:"user-micropost-icon-button material-icons"},"thumb_up"))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MicropostsStore={},Micropost=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={compact:!0,reply:!1}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e="/micropost_json?id="+this.props.data.id;$.ajax({type:"GET",url:e,dataType:"json",success:function(e){this.setState({compact:!0,data:e,reply:!1})}.bind(this),error:function(){this.setState({error:!0})}.bind(this)}),MicropostsStore["micropost"+this.props.data.id]=this}},{key:"comment_input",value:function(e){text=$(e.target).val(),key=e.keyCode,13==key&&!e.shiftKey&&text.trim().length>0&&(this.setState({data:this.state.data,reply:!1,compact:this.state.compact}),$(e.target).val(""),e.preventDefault(),$(e.target).trigger("blur"),$.ajax({type:"GET",url:"/comments_create?id="+this.state.data.micropost.id+"&content="+encodeURIComponent(text),dataType:"json",success:function(e){data=this.state.data,data.comments.unshift(e.comment.id),state={data:data,compact:this.state.compact,reply:!1},this.setState(state)}.bind(this)}))}},{key:"show_comment_input",value:function(){this.setState({data:this.state.data,reply:!this.state.reply,compact:this.state.compact})}},{key:"write_comment",value:function(){return this.state.reply?React.createElement("div",{className:"animated zoomIn user-comment-input-background"},React.createElement("input",{className:"user-comment-input",onKeyDown:this.comment_input.bind(this),placeholder:"Commment..."})):null}},{key:"more",value:function(){this.setState({compact:!1,data:this.state.data})}},{key:"youtube_process",value:function(e){var t=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.match(t);if(n){var r="https://www.youtube.com/embed/"+n[2];return React.createElement("iframe",{style:{marginTop:"10px",borderRadius:"4px",border:"none"},width:"100%",height:"160",src:r,frameborder:"0",gesture:"media",allow:"encrypted-media",allowfullscreen:!0})}return e}},{key:"content",value:function(){var e=36,t=this.state.data.micropost.content.split(" ");if(t.length>e&&this.state.compact){for(var n=[],r=0;r<e;r++)n.push(t[r]);return React.createElement("span",null,n.join(" "),"...",React.createElement("span",{onMouseDown:this.more.bind(this),className:"user-micropost-text-button"}," More"))}var a=this.state.data.micropost.content,i=this.youtube_process(a),o=i;return React.createElement("div",{style:{width:"100%"}},o)}},{key:"render",value:function(){var e=this;return this.state.data?React.createElement("div",{className:"user-micropost-unit"},React.createElement("div",{className:"user-micropost-left"},React.createElement("img",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.state.data.author})},className:"user-micropost-picture",src:this.state.data.author.display_picture})),React.createElement("div",{className:"user-micropost-right"},React.createElement("div",{className:"user-micropost-content"},React.createElement(Flair,{data:{string:this.state.data.author.display_name,flair:this.state.data.author.flair}}),React.createElement("div",{className:"user-micropost-date"},jQuery.timeago(new Date(this.state.data.micropost.created_at))),React.createElement(MicropostSettings,{data:this.state.data})),this.content(),React.createElement("div",{className:"user-micropost-buttons"},React.createElement("span",{onMouseDown:this.show_comment_input.bind(this),className:"user-micropost-button"},"Reply"),React.createElement(LikeButton,{data:{liked:this.state.data.liked,value:this.state.data.likes_count,id:this.state.data.micropost.id,"class":"Micropost"}}))),this.write_comment(),React.createElement(Comments,{data:this.state.data})):this.state.error?null:React.createElement("div",{className:"user-micropost-unit"},React.createElement("div",{style:{marginTop:"10px",marginBottom:"10px",display:"flex",flexDirection:"row",alignItems:"center",flexShrink:"0",flexGrow:"1"}},React.createElement("div",{className:"notification-unit-skeleton notification-unit-skeleton-circle"}),React.createElement("div",{style:{marginLeft:"18px",width:"100px",height:"16px",width:"20%",borderRadius:"3px"},className:"notification-unit-skeleton notification-unit-skeleton-line"})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MicropostSettings=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={muted:this.props.data.muted}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReactMicro.close()}},{key:"delete",value:function(){$(".dropdown-no-float").removeClass("open"),$("#notification-menu-secondary").html(""),$("#"+this.props.data.micropost.id+"_micropost").remove();var e="/micropost_delete?id="+this.props.data.micropost.id;$.ajax({type:"GET",url:e}),MicropostsReact.refresh(),this.close()}},{key:"pin",value:function(){$.ajax({type:"GET",url:"/micropost_pin?id="+this.props.data.micropost.id,success:function(){MicropostsReact.refresh()}}),this.close()}},{key:"unpin",value:function(){$.ajax({type:"GET",url:"/micropost_unpin?id="+this.props.data.micropost.id,success:function(){MicropostsReact.refresh()}}),this.close()}},{key:"mute",value:function(){$(".dropdown-no-float").removeClass("open"),this.setState({muted:!0}),$.ajax({type:"GET",url:"/micropost_mute?id="+this.props.data.micropost.id}),this.close()}},{key:"unmute",value:function(){$(".dropdown-no-float").removeClass("open"),this.setState({muted:!1}),$.ajax({type:"GET",url:"/micropost_unmute?id="+this.props.data.micropost.id}),this.close()}},{key:"authorized",value:function(){var e=this.props.data;return e.current_user.mod||e.current_user.master||e.current_user.id==e.author.id||null!=e.wall&&e.wall.user_id==e.current_user.id}},{key:"open",value:function(e){component=React.createElement(MenuMicro,null,"POST SETTINGS",React.createElement(BR,null),React.createElement(BR,null),e.pin,e.toggle_notifications,e.remove,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"render",value:function(){var e=this.props.data,t=this.state.muted,n=null,r=null,a=null;if(e.subscribed&&(n=t?React.createElement("div",{onMouseDown:this.unmute.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"notifications_active"),"Turn on notifications"):React.createElement("div",{onMouseDown:this.mute.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"notifications_off"),"Turn off notifications")),this.authorized()){r=React.createElement("div",{onMouseDown:this["delete"].bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"Delete");var i=null;return e.wall&&e.wall.user_id==e.current_user.id&&(e.micropost.pinned?(a=React.createElement("div",{onMouseDown:this.unpin.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"location_off"),"Unpin Post"),i=React.createElement("div",{style:{position:"absolute",marginLeft:"-22px"},onMouseDown:this.unpin.bind(this),className:"material-icons user-micropost-settings"},"room")):(a=React.createElement("div",{onMouseDown:this.pin.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"location_on"),"Pin Post"),i=null)),e={pin:a,toggle_notifications:n,remove:r},React.createElement("div",{style:{"float":"right"}},React.createElement("div",{onMouseDown:this.open.bind(this,e=e),className:"material-icons user-micropost-settings"},"more_horiz"),i)}return null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MicropostsReact={};var Microposts=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/microposts_default?id="+this.props.data.wall_id,dataType:"json",success:function(e){this.setState({initialized:!0,data:e})}.bind(this)});var e=$(".user-microposts");e.scroll(function(){scroll=e.scrollTop(),max=e.prop("scrollHeight")-$(e).height(),scroll>=max&&this.scroll_bottom()}.bind(this)),MicropostsReact=this}},{key:"refresh",value:function(){this.setState({data:{microposts:[]}}),$.ajax({type:"GET",url:"/microposts_default?id="+this.props.data.wall_id,dataType:"json",success:function(e){this.setState({initialized:!0,data:e})}.bind(this)})}},{key:"componentDidUpdate",value:function(){if(params=App.params,params.post&&!this.state.highlight){var e=[];e.push(parseInt(params.post.id)),e=e.concat(this.state.data.microposts),this.setState({data:{microposts:e},initialized:this.state.initialized,highlight:!0}),App.params={}}}},{key:"micropost_input",value:function(e){if(text=$(e.target).val(),key=e.keyCode,13==key&&!e.shiftKey){var t=$("#micropost-picture-hatch").attr("data-micropost-picture"),n=function(){return t!=undefined?($("#micropost-picture-hatch").html(""),t):""};$(e.target).val(""),$(e.target).trigger("blur"),e.preventDefault(),$.ajax({type:"GET",url:"/microposts_create?id="+this.props.data.wall_id+"&content="+encodeURIComponent(text)+"&picture="+n(),dataType:"json",success:function(e){var t=[];t.push(e.micropost.id),t=t.concat(this.state.data.microposts),this.setState({data:{microposts:t}})}.bind(this)})}}},{key:"scroll_bottom",value:function(){var e=this.state.data.microposts.length;$.ajax({type:"GET",url:"/microposts_load_more?id="+this.props.data.wall_id+"&loaded="+e+"&load_count=4",dataType:"json",success:function(e){var t=this.state.data.microposts.concat(e.microposts);this.setState({data:{microposts:t}})}.bind(this)})}},{key:"render",value:function(){if(this.state.data)var e=this.state.data.microposts;else var e=[];return React.createElement("span",{key:this.props.data.wall_id},React.createElement("div",{className:"user-micropost-input-background"},React.createElement("input",{className:"user-micropost-input",onKeyDown:this.micropost_input.bind(this),placeholder:"Post something..."})),React.createElement("div",{className:"user-microposts"},e.map(function(e){return React.createElement(Micropost,{key:e,data:{id:e}})})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},ClassName=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return React.createElement("div",null)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},ModPanel=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"loading",banned:!1,ttl:0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/ban_mod_menu",dataType:"json",success:function(e){e?this.setState({tab:"default"}):this.close()}.bind(this)}),this.ban_status()}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"issue_ban",value:function(){this.setState({tab:"ban"})}},{key:"ban_status",value:function(){$.ajax({type:"GET",url:"/ban_status?id="+this.props.id,dataType:"json",success:function(e){this.setState({banned:e.banned,ttl:e.ttl})}.bind(this)})}},{key:"ban",value:function(){var e=$.param({id:this.props.id,duration:document.getElementById("duration").value,reason:document.getElementById("reason").value});$.ajax({type:"GET",url:"/ban_user?"+e,dataType:"json",success:function(){}.bind(this)}),
this.setState({tab:"success"})}},{key:"unban",value:function(){$.ajax({type:"GET",url:"/unban?id="+this.props.id,dataType:"json",success:function(){}.bind(this)}),this.setState({tab:"success"})}},{key:"shadow_ban",value:function(){$.ajax({type:"GET",url:"/shadow_ban?id="+this.props.id,dataType:"json",success:function(){}.bind(this)}),this.setState({tab:"success"})}},{key:"remove_pictures",value:function(){$.ajax({type:"GET",url:"/ban_delete_pictures?id="+this.props.id,dataType:"json",success:function(){}.bind(this)}),this.setState({tab:"success"})}},{key:"remove_posts",value:function(){$.ajax({type:"GET",url:"/ban_delete_posts?id="+this.props.id,dataType:"json",success:function(){}.bind(this)}),this.setState({tab:"success"})}},{key:"mod",value:function(){$.ajax({type:"GET",url:"/mod_user?id="+this.props.id,dataType:"json",success:function(){this.setState({tab:"success"})}.bind(this)}),this.setState({tab:"loading"})}},{key:"demod",value:function(){$.ajax({type:"GET",url:"/demod_user?id="+this.props.id,dataType:"json",success:function(){this.setState({tab:"success"})}.bind(this)}),this.setState({tab:"loading"})}},{key:"issue_ban_menu",value:function(){return React.createElement("div",null,"ISSUE BAN",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"duration"),React.createElement("label",{className:"ui-select",htmlFor:"flair-select"},React.createElement("select",{name:"duration",id:"duration"},React.createElement("option",{value:"120"},"2 minutes"),React.createElement("option",{value:"300"},"5 minutes"),React.createElement("option",{value:"600"},"10 minutes"),React.createElement("option",{value:"1800"},"30 minutes"),React.createElement("option",{value:"3600"},"1 hour"),React.createElement("option",{value:"10800"},"3 hours"),React.createElement("option",{value:"86400"},"1 day"),React.createElement("option",{value:"259200"},"3 days"),React.createElement("option",{value:"31556952"},"Permanently"))),React.createElement("div",{className:"m1"},"reason"),React.createElement("textarea",{id:"reason",className:"ui-input"}))}},{key:"master_controls",value:function(){if(App.user.master)return React.createElement("div",null,React.createElement("div",{onMouseDown:this.mod.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"security"),"mod"),React.createElement("div",{onMouseDown:this.demod.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"close"),"demod"))}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("div",{onMouseDown:this.issue_ban.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"block"),"ban"),React.createElement("div",{onMouseDown:this.unban.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"vpn_key"),"unban"),React.createElement("div",{onMouseDown:this.shadow_ban.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"whatshot"),"shadow ban"),React.createElement("div",{onMouseDown:this.remove_pictures.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"photo"),"remove all pictures"),React.createElement("div",{onMouseDown:this.remove_posts.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"chat_bubble"),"remove all posts"),this.master_controls())}},{key:"status",value:function(){if(this.state.ttl>0){var e=new Date;e.setSeconds(e.getSeconds()+this.state.ttl),body=React.createElement("div",null,"Banned till ",e.toLocaleString(),".")}else body=React.createElement("div",null,"Banned");return body}},{key:"render",value:function(){if("default"==this.state.tab)var e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"MOD CONTROL PANEL",React.createElement("br",null),React.createElement("br",null),this.state.banned&&this.status(),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close")));else"ban"==this.state.tab?e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},this.issue_ban_menu(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),className:"ui-button"},"Back"),React.createElement("div",{onMouseDown:this.ban.bind(this),className:"ui-button"},"Ban"))):"loading"==this.state.tab?e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))):"success"==this.state.tab?e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"DONE",React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"m1"},"action completed"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),className:"ui-button"},"Back"))):"failed"==this.state.tab&&(e=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FAILED",React.createElement("br",null),React.createElement("br",null),React.createElement("div",{className:"m1"},"we couldn't process your request"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),className:"ui-button"},"Retry"))));return e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},ActionTray=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"dashboard",value:function(){ReactDOM.render(React.createElement(Dashboard,null),document.getElementById("container"))}},{key:"meet",value:function(){ReactDOM.render(React.createElement(MeetMenu,null),document.getElementById("container"))}},{key:"friends",value:function(){element=React.createElement(Menu,null,React.createElement(FriendsMenu,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"search",value:function(){element=React.createElement(Menu,null,React.createElement(SearchMenu,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"videoModeration",value:function(){ReactDOM.render(React.createElement(VideoModeration,null),document.getElementById("container"))}},{key:"pictureModeration",value:function(){ReactDOM.render(React.createElement(PictureModeration,null),document.getElementById("container"))}},{key:"render",value:function(){return React.createElement("div",{className:"side-panel",style:{display:"none"},id:"side-panel-hatch"},React.createElement("div",{onMouseDown:this.dashboard.bind(this),className:"actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"dashboard"),"Dashboard"),React.createElement("div",{onMouseDown:this.meet.bind(this),className:" actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"public"),"Meet"),React.createElement("div",{onMouseDown:this.friends.bind(this),className:"  actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"group"),"Friends"),React.createElement("div",{onMouseDown:this.search.bind(this),className:"  actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"search"),"Search"),this.props.data.user.mod&&React.createElement("div",null,React.createElement("div",{onMouseDown:this.videoModeration.bind(this),className:"actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"public"),"Video Mod"),React.createElement("div",{onMouseDown:this.pictureModeration.bind(this),className:"actionicon-mega"},React.createElement("span",{className:"material-icons actionicon-icon"},"public"),"Picture Mod")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NavigationBar=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"dashboard",value:function(){ReactDOM.render(React.createElement(Dashboard,null),document.getElementById("container"))}},{key:"profile",value:function(){ReactDOM.render(React.createElement(UserProfile,{id:App.user.id}),document.getElementById("ui-hatch"))}},{key:"rules",value:function(){element=React.createElement(Menu,null,React.createElement(NavigationRules,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"gold",value:function(){0==App.user.gold?component=React.createElement(MenuMicro,null,React.createElement(GoldBuy,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))):component=React.createElement(MenuMicro,null,React.createElement(GoldSubscribed,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"help",value:function(){element=React.createElement(Menu,null,React.createElement(NavigationHelp,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"donate",value:function(){element=React.createElement(Menu,null,React.createElement(NavigationDonate,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"settings",value:function(){element=React.createElement(Menu,null,React.createElement(SettingsMenu,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"log_out",value:function(){$.ajax({type:"delete",url:"/logout",dataType:"html",success:function(){window.location="/"}.bind(this)})}},{key:"render",value:function(){return React.createElement("nav",null,React.createElement("span",{id:"hamburger",className:"material-icons main-hamburger"},"menu"),React.createElement("img",{onMouseDown:this.dashboard.bind(this),src:"./logo7.svg",className:"main-logo"}),React.createElement("div",{className:"navigation-notification-icons"},React.createElement(Notifications,null),React.createElement(MessageNotifications,null),React.createElement("div",{className:"navigation-dropdown"},React.createElement("span",{className:"material-icons navigation-notification-unit"},"settings"),React.createElement("div",{className:"navigation-dropdown-content"},React.createElement("li",{style:{color:"rgb(254, 216, 10)"},onMouseDown:this.gold.bind(this)},"Emerald Gold"),React.createElement("li",{onMouseDown:this.profile.bind(this)},"My Profile"),React.createElement("li",{onMouseDown:this.settings.bind(this)},"Settings"),React.createElement("li",{onMouseDown:this.rules.bind(this)},"Rules"),React.createElement("li",{onMouseDown:function(){window.open("/terms.txt")}},"Terms"),React.createElement("li",{onMouseDown:function(){window.open("/privacy.txt")}},"Privacy"),React.createElement("li",{onMouseDown:this.help.bind(this)},"Help"),React.createElement("li",{onMouseDown:this.donate.bind(this)},"Donate"),React.createElement("li",{onMouseDown:this.log_out.bind(this)},"Log Out")))))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NavigationDonate=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReact.close()}},{key:"body",value:function(){return React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"},className:"notification-container"},React.createElement("span",{className:"m1"},"WANT TO HELP US OUT?"),React.createElement(BR,null),"Emerald is free and always will be. We work hard to give you the best random chat platform on the web and update the site regularly.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"OUR PATREON"),React.createElement(BR,null),"We love building Emerald for you guys, but running Emerald costs money, we serve tens of millions of requests per day and servers are expensive.",React.createElement(BR,null),React.createElement(BR,null),"If you like Emerald please consider ",React.createElement("a",{target:"_blank",href:"https://www.patreon.com/user?u=4563702"}," making a donation to us via patreon"))}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"DONATE",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NavigationHelp=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReact.close()}},{key:"body",value:function(){return React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"},className:"notification-container"},React.createElement("span",{className:"m1"},"NEED SOME HELP?"),React.createElement(BR,null),"Read on below to check out our FAQ. You can also check out our ",React.createElement("a",{target:"_blank",href:"https://www.reddit.com/r/EmeraldChat/"},"official help forum")," and ask the community questions.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"1. HOW DO I MEET PEOPLE?"),React.createElement(BR,null),'To meet people, click on the "meet" card on your dashboard. It has a globe icon. You can then choose how you want to meet people from the cards that show up. Enter some interests to meet like minded people.',React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"2. WHAT IS KARMA?"),React.createElement(BR,null),"Karma is a rating all users on Emerald have. You start on zero. Each user can give you 1 positive or 1 negative karma point. Karma keeps out bots and bad users and makes Emerald cleaner and safer. Karma also unlocks certain privillages and features.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"3. HOW DO I REPORT SOMEONE?"),React.createElement(BR,null),"If someone is being abusive you should give them negative karma. If a lot of other users do the same the user will be flagged on our system, they may also be automatically banned depending on what our AI systems decide. You can also report things to moderators.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"4. IS EMERALD MODERATED?"),React.createElement(BR,null),"Emerald has a team of moderators who are active every day.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"5. SOMEONE IS ANNOYING ME AND THERE ARE NO MODERATORS WHAT CAN I DO?"),React.createElement(BR,null),'Emerald has an option to mute any user on the website, this will stop you seeing their messages. To mute someone, simply click their avatar and then press "mute" from the profile menu that pops up.',React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"6. I FOUND A BOT WHAT CAN I DO?"),React.createElement(BR,null),"Our systems aren't perfect and every so often a bot or two may slip through the net. If you give that bot a bad karma point it will get a captcha; if enough users remember to do this botting on Emerald becomes more impossible than it already is.")}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FAQ",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NavigationRules=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReact.close()}},{key:"body",value:function(){return React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"},className:"notification-container"},React.createElement("span",{className:"m1"},"SUMMARY"),React.createElement(BR,null),"As well as on site moderators there are also automated systems that enforce the rules. Be sure to read and be aware of the rules to keep your account in good standing.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"1. HARASSMENT"),React.createElement(BR,null),"Do not single out and harass, threaten or abuse other users. This includes repeated personal attacks directed against a user. Users are entitled to their privacy and anonymity should they desire. Doxxing is prohibited.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"2. SPAM"),React.createElement(BR,null),"Do not spam the website. This includes social media harvesting, advertising third party social media website profiles and general advertising. Users are prohibited from creating automated chat bot programs.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"3. ILLEGAL/EXPLICIT CONTENT"),React.createElement(BR,null),"Do not upload, share or promote any inappropriate or illegal content, including copyrighted material, sexually explicit content or material intended to cause offense and distress. Keep it PG.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"FURTHER READING"),React.createElement(BR,null),"In order to promote transparency we will outline below our banning procedures in more detail. This section is optional and for user information only.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"AUTOMATED BANS"),React.createElement(BR,null),"Emerald uses a variety of automated systems which may ban users. Some of these systems use artificial intelligence and deep learning technology.",React.createElement(BR,null),React.createElement(BR,null),"Incurring a lot of bad karma within bursts can result in automated bans as well as other penalties to your account such as the inability to access certain features. This is to protect our legitimate and quality users.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"APPEALING AUTOMATED BANS"),React.createElement(BR,null),"Automated bans cannot be appealed but are temporary in most cases. If you recieve a permanent automated ban you will be able to appeal your ban with the included appeal form within your ban screen.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"ILLEGAL ACTIVITY/HACKING"),React.createElement(BR,null),"Scammers and cyber criminals be warned; Emerald takes an extremely tough stance on individuals who use the website for illegal activities and who break the law. Emerald works closely with law enforcement in any case we believe a user has broken the law and will apply penalties to the maximum extent applicable by law if users are found to be using Emerald for illicit purposes.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("span",{className:"m1"},"MODERATOR BANS"),React.createElement(BR,null),"Emerald has a team of active mods who help keep the website clean and ship shape. These moderators have the ability to ban users from the website but must folllow a strict code of conduct to remain moderators. All moderator bans are logged and tracked.")}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"RULES",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MessageNotificationUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"remove",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"open_room",value:function(){MenuReactMicro&&MenuReactMicro.close(),MenuReact&&MenuReact.close(),UserProfileReact&&UserProfileReact.close(),RoomGenerator.generate({id:this.props.data.data.room_id,mode:"private"})}},{key:"right_content",value:function(){return content=React.createElement("div",{style:{textAlign:"right"}},React.createElement("div",{className:"notification-date"},jQuery.timeago(new Date(this.props.data.created_at)))),content}},{key:"image",value:function(){return React.createElement("img",{className:"navigation-notification-unit-image",src:this.props.data.data.sender.display_picture})}},{key:"get_content",value:function(){if(this.props.data.data.message.messages&&this.props.data.data.message.messages[0])return flair=React.createElement(Flair,{data:{string:this.props.data.data.sender.display_name,flair:this.props.data.data.sender.flair}}),message=React.createElement("span",{style:{marginLeft:"8px"}},'"',this.props.data.data.message.messages[0].substring(0,64),'..."'),React.createElement("span",null,flair," ",message)}},{key:"render",value:function(){return content=this.get_content(),React.createElement("div",{onMouseDown:this.open_room.bind(this),id:this.props.data.id,className:"notification-unit"},React.createElement("div",{className:"notification-unit-body"},this.image(),React.createElement("div",{className:"notification-unit-body-container"},content,this.right_content())))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MessageNotificationsReact=new Object;var MessageNotifications=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:{unread:[],read:[]}},MessageNotificationsReact=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){return $.ajax({type:"GET",url:"/message_notifications_json",dataType:"json",success:function(e){if(this.setState({data:e}),e.unread.length>0){var t=e.unread[0];PushNotifications.send(t.data.sender.display_name,{icon:t.data.sender.display_picture,body:t.data.message.messages[0]})}}.bind(this)}),"updated"}},{key:"click",value:function(){$.ajax({type:"GET",url:"/clear_messages",dataType:"json",success:function(){this.update()}.bind(this)}),notification=React.createElement(Menu,null,React.createElement(MessageNotificationsMenu,{data:this.state.data,parent:this})),ReactDOM.render(notification,document.getElementById("ui-hatch"))}},{key:"badge",value:function(){b=null;var e=this.state.data.unread.length;return e>0&&(b=React.createElement("span",{className:"navigation-notification-badge"},e)),b}},{key:"render",value:function(){return React.createElement("span",{onMouseDown:this.click.bind(this)},React.createElement("span",{className:"material-icons navigation-notification-unit"},"mail_outline"),this.badge())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MessageNotificationsMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"unread"}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){MenuReact.close()}},{key:"switch_tab",value:function(e){this.setState({tab:e})}},{key:"unread",value:function(){return this.props.data.unread.length>0?React.createElement("div",{className:"notification-module"},this.props.data.unread.map(function(e){return React.createElement(MessageNotificationUnit,{key:"notification"+e.id,data:e})}),React.createElement(BR,null)):React.createElement("div",{className:"notification-module"},React.createElement("div",{className:"m1"},"You have no unread messages"))}},{key:"read",value:function(){return this.props.data.read.length>0?React.createElement("div",{className:"notification-module"},this.props.data.read.map(function(e){return React.createElement(MessageNotificationUnit,{key:"notification"+e.id,data:e})}),React.createElement(BR,null)):React.createElement("div",{className:"notification-module"},React.createElement("div",{className:"m1"},"You have no read messages"))}},{key:"body",value:function(){var e=null,t=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="unread"),className:"ui-tab"},"Unread (",this.props.data.unread.length,")"),n=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="read"),className:"ui-tab"},"Read (",this.props.data.read.length,")");return"unread"==this.state.tab?(t=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="unread"),className:"ui-tab ui-tab-active"},"Unread (",this.props.data.unread.length,")"),e=this.unread()):"read"==this.state.tab&&(n=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="read"),className:"ui-tab ui-tab-active"},"Read (",this.props.data.read.length,")"),e=this.read()),content=React.createElement("div",{className:"notification-container"},React.createElement("div",{className:"ui-tabs"},t,n),e),content}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"INBOX",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NotificationUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={id:"notification"+this.props.data.id}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"remove",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"update_notifications",value:function(e){setTimeout(function(){NotificationsReact.update()}.bind(this),e)}},{key:"action",value:function(){this.props.data.data.unit&&(App.params=this.props.data.data.unit,UserProfileReact?UserProfileReact.load(this.props.data.data.unit.author.id):ReactDOM.render(React.createElement(UserProfile,{
id:this.props.data.data.unit.post.user_id||this.props.data.data.unit.author.id}),document.getElementById("ui-hatch")))}},{key:"friend_request_accept",value:function(){$.ajax({type:"GET",url:"/friends_accept?friend_id="+this.props.data.data.sender.id+"&notification_id="+this.props.data.id,dataType:"json"}),$("#"+this.state.id).remove(),this.update_notifications(1e3)}},{key:"friend_request_reject",value:function(){$.ajax({type:"GET",url:"/friends_decline?friend_id="+this.props.data.data.sender.id+"&notification_id="+this.props.data.id,dataType:"json",success:function(){this.update_notifications()}.bind(this)}),$("#"+this.state.id).remove(),setTimeout(function(){$("#"+this.state.id).remove()}.bind(this),250),this.update_notifications(1e3)}},{key:"image",value:function(){return React.createElement("img",{className:"navigation-notification-unit-image",src:this.props.data.data.sender.display_picture})}},{key:"right_content",value:function(){return"friend_request"==this.props.data.tier?content=React.createElement("div",{style:{textAlign:"right"}},React.createElement("div",{onMouseDown:this.friend_request_accept.bind(this),className:"notification-button"},React.createElement("span",{className:"material-icons"},"check")),React.createElement("div",{onMouseDown:this.friend_request_reject.bind(this),className:"notification-button"},React.createElement("span",{className:"material-icons"},"close"))):content=React.createElement("div",{style:{textAlign:"right"}},React.createElement("div",{className:"notification-date"},jQuery.timeago(new Date(this.props.data.created_at)))),content}},{key:"content",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return flair=React.createElement(Flair,{data:{string:this.props.data.data.sender.display_name,flair:this.props.data.data.sender.flair}}),this.props.data.data.content.length>64?content=this.props.data.data.content.substring(0,64)+"...":content=this.props.data.data.content,message=React.createElement("span",{style:{marginLeft:"8px"}},content),React.createElement("span",null,flair,message)})},{key:"render",value:function(){return React.createElement("div",{id:this.state.id,onMouseDown:this.action.bind(this),className:"notification-unit"},React.createElement("div",{className:"notification-unit-body"},this.image(),React.createElement("div",{className:"notification-unit-body-container"},this.content(),this.right_content())))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};NotificationsReact=new Object;var Notifications=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:{read:[],unread:[],friend_requests:[]}},NotificationsReact=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){return $.ajax({type:"GET",url:"/notifications_json",dataType:"json",success:function(e){this.setState({data:e})}.bind(this)}),"updated"}},{key:"click",value:function(){$.ajax({type:"GET",url:"/clear_notifications",dataType:"json",success:function(){this.update()}.bind(this)}),notification=React.createElement(Menu,null,React.createElement(NotificationsMenu,{data:this.state.data,parent:this})),ReactDOM.render(notification,document.getElementById("ui-hatch"))}},{key:"badge",value:function(){b=null;var e=this.state.data.unread.length+this.state.data.friend_requests.length;return e>0&&(b=React.createElement("span",{className:"navigation-notification-badge"},e)),b}},{key:"render",value:function(){return React.createElement("span",{onMouseDown:this.click.bind(this)},React.createElement("span",{className:"material-icons navigation-notification-unit"},"notifications_none"),this.badge())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},NotificationsMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){MenuReact.close()}},{key:"friend_requests",value:function(){if(this.props.data.friend_requests.length)return React.createElement("span",null,React.createElement("div",{className:"m1"},"FRIEND REQUESTS (",this.props.data.friend_requests.length,")"),this.props.data.friend_requests.map(function(e){return React.createElement(NotificationUnit,{key:"notification"+e.id,data:e})}),React.createElement(BR,null))}},{key:"unread",value:function(){if(this.props.data.unread.length)return React.createElement("span",null,React.createElement("div",{className:"m1"},"UNREAD NOTIFICATIONS (",this.props.data.unread.length,")"),this.props.data.unread.map(function(e){return React.createElement(NotificationUnit,{key:"notification"+e.id,data:e})}),React.createElement(BR,null))}},{key:"read",value:function(){if(this.props.data.read.length)return React.createElement("span",null,React.createElement("div",{className:"m1"},"READ NOTIFICATIONS"),this.props.data.read.map(function(e){return React.createElement(NotificationUnit,{key:"notification"+e.id,data:e})}),React.createElement(BR,null))}},{key:"body",value:function(){return this.props.data.unread.length>0||this.props.data.read.length>0||this.props.data.friend_requests.length>0?content=React.createElement("div",{className:"notification-container"},this.friend_requests(),this.unread(),this.read()):content=React.createElement("div",null,React.createElement("div",{className:"m1"},"YOU HAVE NO NOTIFICATIONS")),content}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"NOTIFICATIONS",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PasswordResetForm=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"}}return _inherits(t,e),_createClass(t,[{key:"componentDidUpdate",value:function(){}},{key:"close",value:function(){}},{key:"reset",value:function(){var e=window.location.href.replace(/&amp;/g,"&"),t=new URL(e),n=$.param({token:$('meta[name="csrf-token"]').attr("content"),password:document.getElementById("password").value,password_confirmation:document.getElementById("password_confirmation").value,id:t.searchParams.get("id"),email:t.searchParams.get("email")});$.ajax({type:"GET",url:"update_password_reset?"+n,dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",n.token)},success:function(e){"success"==e.status?(this.setState({tab:"success"}),window.location="/"):this.setState({tab:"failed"})}.bind(this)})}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"body",value:function(){return React.createElement("div",null,"RESET PASSWORD",React.createElement("div",{className:"m1"},"new password"),React.createElement("input",{type:"password",id:"password",className:"ui-input"}),React.createElement("div",{className:"m1"},"confirm new password"),React.createElement("input",{type:"password",id:"password_confirmation",className:"ui-input"}),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.reset.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Reset my password")))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"The passwords you have entered do not match"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"success",value:function(){return React.createElement("div",null,"SUCCESS",React.createElement("div",{className:"m1"},"password reset link sent"),React.createElement("div",{className:"notification-menu-container-text"},"We've sent you an email with a link to reset your password. It should arrive in a few seconds."),React.createElement("div",{className:"ui-menu-buttons"}))}},{key:"render",value:function(){return"default"==this.state.tab?body=this.body():"success"==this.state.tab?body=this.success():body=this.fail(),React.createElement(MenuMicro,null,React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},body))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PictureModeration=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={picture_moderations:[]},this["delete"]=this["delete"].bind(this),this.approve=this.approve.bind(this)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.fetch_data()}},{key:"fetch_data",value:function(){$.ajax({type:"GET",url:"/picture_moderations",dataType:"json",success:function(e){state={picture_moderations:e},this.setState(state)}.bind(this)})}},{key:"delete",value:function(e){$.ajax({type:"DELETE",url:"/picture_moderations/"+e,dataType:"json",success:function(){state={picture_moderations:this.state.picture_moderations.filter(function(t){return t.id!=e})},this.setState(state)}.bind(this)})}},{key:"approve",value:function(e){$.ajax({type:"POST",url:"/picture_moderations/"+e+"/approve",dataType:"json",success:function(){state={picture_moderations:this.state.picture_moderations.filter(function(t){return t.id!=e})},this.setState(state)}.bind(this)})}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"dashboard-background"},React.createElement("div",{className:"dashboard-container"},React.createElement("div",{className:"meet-cards-container video-moderation"},this.state.picture_moderations.map(function(t){return React.createElement(PictureModerationUnit,{key:"picture_moderation"+t.id,data:t,"delete":e["delete"],approve:e.approve})}))))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PictureModerationUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this["delete"]=this["delete"].bind(this),this.approve=this.approve.bind(this)}return _inherits(t,e),_createClass(t,[{key:"delete",value:function(){this.props["delete"](this.props.data.id)}},{key:"approve",value:function(){this.props.approve(this.props.data.id)}},{key:"render",value:function(){return data=this.props.data,React.createElement("div",{className:"dashboard-button animated",style:{paddingTop:"30px"}},React.createElement("img",{src:data.image_url,width:"160",height:"160"}),React.createElement("h2",null,data.display_name+"("+data.username+")"),React.createElement("button",{className:"ui-button-match-mega gold-button",onClick:this.approve},"Approve"),React.createElement("button",{className:"ui-button-match-mega red-button",onClick:this["delete"]},"Reject"))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MessagePictureUpload=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},PictureUploadMenu=this}return _inherits(t,e),_createClass(t,[{key:"upload",value:function(){this.setState({tab:"uploading"}),$("#picture_upload").submit()}},{key:"send_picture",value:function(e){this.props.append({messages:[],user:App.user,picture:e}),App.room.client.speak({picture:e}),this.scroll()}},{key:"file_ready",value:function(e){var t=e.target.result;this.send_picture(t)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),file=document.getElementById("image"),file.value.length){var t=new FileReader;t.onload=function(e){var t=e.target.result;App.room.client.speak({picture:t}),RoomClient.append({messages:[],picture:t,user:App.user,isMine:!0})},t.readAsDataURL(file.files[0]),MenuReactMicro.close()}}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"body",value:function(){return React.createElement("div",{className:"file-input-field"},React.createElement("input",{className:"picture-upload-button",type:"file",id:"image",name:"image",accept:"image/*"}),React.createElement("label",{htmlFor:"image"},React.createElement("span",{style:{verticalAlign:"text-top",marginRight:"5px"},className:"material-icons"},"cloud_upload")," Choose a file"))}},{key:"render",value:function(){return"default"==this.state.tab?(message=React.createElement("div",{className:"ui-menu-text"},React.createElement("b",null,"Tip:")," Emerald uses AI and deep learning image recognition software to detect nudity and other images that break the rules. To avoid automated bans please refrain from uploading inappropriate content."),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},React.createElement("form",{onSubmit:this.handleSubmit},"UPLOAD IMAGE",React.createElement(BR,null),React.createElement(BR,null),this.body(),message,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"),React.createElement("input",{className:"ui-button",type:"submit",value:"Upload"}))))):"uploading"==this.state.tab?(message=React.createElement("div",{className:"ui-menu-text"},"We're uploading your picture, this will only take a few seconds..."),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"UPLOADING",React.createElement(BR,null),React.createElement(BR,null),this.body(),message,React.createElement("div",{style:{height:"142px"},className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null)))):"uploaded"==this.state.tab&&(message=React.createElement("div",{className:"ui-menu-text"},"Your picture has been uploaded!"),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"UPLOADED!",React.createElement(BR,null),React.createElement(BR,null),message,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))),tab}}]),t}(React.Component);MessagePictureUploader={success:function(e){PictureUploadMenu.setState({tab:"uploaded"}),this.onUploaded(e)},onUploaded:function(){}};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Picture=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{style:{zIndex:"999999999999"},onMouseDown:this.close.bind(this),className:"animated fadeIn ui-bg"}),React.createElement("div",{onMouseDown:this.close.bind(this),className:"user-profile-pictures-container"},React.createElement("img",{onMouseDown:this.close.bind(this),src:this.props.data.src,className:"animated zoomIn user-profile-pictures-picture"})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PictureAlbum=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={loaded:!1,edit:!1}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/picture_album_json?id="+this.props.data.id,dataType:"json",success:function(e){this.setState({loaded:!0,pictures:e.pictures,album:e.album,pictures_count:e.pictures_count})}.bind(this)})}},{key:"load_pictures",value:function(){load=7,$.ajax({type:"GET",url:"/pictures_load_more?id="+this.props.data.id+"&loaded="+this.state.pictures.length+"&load_count="+load,dataType:"json",success:function(e){pictures=this.state.pictures.concat(e.pictures),this.setState({pictures:pictures})}.bind(this)})}},{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"open_picture",value:function(e){element=React.createElement(Picture,{data:{src:e}}),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"add_to_album",value:function(){PictureUploader.onUploaded=function(e){i=e.id,$.ajax({type:"GET",url:"/add_to_album?id="+i,dataType:"json",success:function(){UserProfileReact.load(this.props.data.id),MenuReactMicro.close()}.bind(this)})}.bind(this)}},{key:"upload_picture",value:function(){this.add_to_album(),element=React.createElement(MenuMicro,null,React.createElement(PictureUpload,null)),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"load_more_button",value:function(){return this.state.pictures_count>this.state.pictures.length?React.createElement("div",{onMouseDown:this.load_pictures.bind(this),className:"user-micropost-text-button",style:{marginTop:"10px",textAlign:"center",fontSize:"14px"}},"Load More (",this.state.pictures_count-this.state.pictures.length,")"):null}},{key:"upload_picture_button",value:function(){return body=null,this.props.data.id==this.props.data.current_user.id&&(body=React.createElement("div",{style:{display:"block",width:"100%",height:"40px","float":"left"}},React.createElement("div",{onMouseDown:this.upload_picture.bind(this),className:"user-profile-pictures-upload-button",style:{padding:"7px","float":"left",marginLeft:"13px"}},React.createElement("span",{className:"material-icons"},"file_upload")))),body}},{key:"delete_picture",value:function(e){$.ajax({type:"GET",url:"/delete_picture?id="+e.id,dataType:"json"}),data=this.state.pictures,data.splice(data.indexOf(e),1),this.setState({pictures:data}),MenuReactMicro.close()}},{key:"set_display_picture",value:function(e){$.ajax({type:"GET",url:"/set_display_picture?id="+e.id,dataType:"json",success:function(e){UserProfileReact.load(this.props.data.id),App.user.display_picture=e.url}.bind(this)}),MenuReactMicro.close()}},{key:"picture_settings_menu",value:function(e){delete_button=React.createElement("div",{onMouseDown:this.delete_picture.bind(this,e=e),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"delete"),set_as_display_picture=React.createElement("div",{onMouseDown:this.set_display_picture.bind(this,e=e),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"insert_photo"),"Set as Display Picture"),element=React.createElement(MenuMicro,null,set_as_display_picture,delete_button),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"picture_settings",value:function(e){return this.props.data.id==this.props.data.current_user.id?React.createElement("span",{onMouseDown:this.picture_settings_menu.bind(this,e=e),className:"material-icons user-profile-pictures-settings"},"settings"):null}},{key:"pictures",value:function(){var e=this;return this.state.pictures.length>0?body=React.createElement("div",null,this.state.pictures.map(function(t){return React.createElement("span",null,React.createElement("img",{onMouseDown:e.open_picture.bind(e,src=t.url),src:t.url,className:"user-profile-pictures-picture-preview"}),e.picture_settings(t))})):body=React.createElement("div",null,React.createElement("div",{className:"m1"},"empty")),body}},{key:"render",value:function(){return this.state.loaded?React.createElement("div",{className:"user-profile-pictures"},this.upload_picture_button(),this.pictures(),this.load_more_button()):null}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PictureUpload=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},PictureUploadMenu=this}return _inherits(t,e),_createClass(t,[{key:"upload",value:function(){this.setState({tab:"uploading"}),$("#picture_upload").submit()}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"body",value:function(){return React.createElement("form",{"data-remote":"true",name:"picture_upload",id:"picture_upload",method:"post",action:"/picture_upload"},React.createElement("input",{className:"picture-upload-button",type:"file",id:"image",name:"image",accept:"image/*"}),React.createElement("label",{htmlFor:"image"},React.createElement("span",{style:{verticalAlign:"text-top",marginRight:"5px"},className:"material-icons"},"cloud_upload")," Choose a file"),React.createElement(BR,null))}},{key:"render",value:function(){return"default"==this.state.tab?(message=React.createElement("div",{className:"ui-menu-text"},React.createElement("b",null,"Tip:")," Emerald uses AI and deep learning image recognition software to detect nudity and other images that break the rules. To avoid automated bans please refrain from uploading inappropriate content."),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"UPLOAD IMAGE",React.createElement(BR,null),React.createElement(BR,null),this.body(),message,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"),React.createElement("input",{onMouseDown:this.upload.bind(this),className:"ui-button",type:"submit",value:"Upload"})))):"uploading"==this.state.tab?(message=React.createElement("div",{className:"ui-menu-text"},"We're uploading your picture, this will only take a few seconds..."),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"UPLOADING",React.createElement(BR,null),React.createElement(BR,null),this.body(),message,React.createElement("div",{style:{height:"142px"},className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null)))):"uploaded"==this.state.tab&&(message=React.createElement("div",{className:"ui-menu-text"},"Your picture has been uploaded!"),tab=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"UPLOADED!",React.createElement(BR,null),React.createElement(BR,null),message,React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))),tab}}]),t}(React.Component);PictureUploader={success:function(e){PictureUploadMenu.setState({tab:"uploaded"}),this.onUploaded(e)},onUploaded:function(){}};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MatchButtonClient={};var MatchButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:"initial"},MatchButtonClient=this}return _inherits(t,e),_createClass(t,[{key:"set_state",value:function(e){this.setState({data:e})}},{key:"modify_state",value:function(){"default"==this.state.data?this.setState({data:"confirm"}):"confirm"==this.state.data?(this.setState({data:"stop"}),App.match_client.match()):"stop"==this.state.data?this.setState({data:"confirm_stop"}):"confirm_stop"==this.state.data?(this.setState({data:"start"}),App.match_client.disconnect()):"start"==this.state.data?(this.setState({data:"stop"}),App.match_client.match()):"initial"==this.state.data&&(MatchMenuClient.start_match(),this.setState({data:"stop"}))}},{key:"render",value:function(){var e=null;return"default"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Next"):"stop"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Stop"):"confirm"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Sure?"):"confirm_stop"==this.state.data?e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Sure?"):"start"!=this.state.data&&"initial"!=this.state.data||(e=React.createElement("div",{onMouseDown:this.modify_state.bind(this),className:"ui-button-match"},"Start")),e}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MatchMenuClient=null;var get_boolean=function(e){return"true"==e},MatchMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={wait_delay:Cookies.get("match_wait_delay")||3,karma_filter:get_boolean(Cookies.get("match_karma_switch"))||!1,gender_filter:get_boolean(Cookies.get("match_gender_filter_switch"))||!1,gender_selected:Cookies.get("match_gender")||"f",min_karma:Cookies.get("match_min_karma")||3,filter_temps:get_boolean(Cookies.get("match_stranger_filter"))||!1,queue:this.props.data.queue},MatchMenuClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/current_user_interests_json",dataType:"json",success:function(e){this.setState({data:e}),console.log("rotunda data:",e)}.bind(this)}),this.setState({wait:this.will_wait()}),document.getElementById("wait-delay-input").value=this.state.wait_delay,"video"==this.state.queue&&(App.webrtc.init(),this.setState({wait_delay:0})),"voice"==this.state.queue&&(App.webrtc.init(),this.setState({wait_delay:0}))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){document.getElementById("karma-min-input")&&(document.getElementById("karma-min-input").value=this.state.min_karma)}},{key:"start_match",value:function(){App.match.start(this.state.queue),App.match_client.match()}},{key:"next_match",value:function(){App.match_client.match(),RoomClient.print("Connecting to server...")}},{key:"next_match_instant",value:function(){App.match_client.match({wait_override:!0}),RoomClient.print("Connecting to server...")}},{key:"next_match_instant_gold",value:function(){App.match_client.match({wait_override:!0,gold_override:!0}),RoomClient.print("Connecting to server...")}},{key:"karma_menu",value:function(){if(console.log(this.state),RoomClient.state.current_partner)return React.createElement("div",null,React.createElement(BR,null),React.createElement("span",{style:{color:"gold"}},"Emerald Chat is only for users who are 18+ years old. If you encounter someone who is under 18 please report their profile."),React.createElement(BR,null),"Give your partner a karma rating. Karma helps us moderate the community.",React.createElement(BR,null),React.createElement("a",{
onMouseDown:this.give_karma.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"thumb_up"),"+1 Karma"),React.createElement("a",{onMouseDown:this.take_karma.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"thumb_down"),"-1 Karma"))}},{key:"give_karma",value:function(e){var t=RoomClient.state.current_partner.id;$.ajax({type:"GET",url:"/karma_give?id="+t+"&polarity=1"}),$(".ui-button-match-mega").attr("style",""),$(e.currentTarget).attr("style","background: #2e61c8;")}},{key:"take_karma",value:function(e){var t=RoomClient.state.current_partner.id;$.ajax({type:"GET",url:"/karma_give?id="+t+"&polarity=-1"}),$(".ui-button-match-mega").attr("style",""),$(e.currentTarget).attr("style","background: #2e61c8;")}},{key:"matched",value:function(e){RoomClient.setState({current_partner:e.room_data.partner}),PushNotifications.idle()&&PushNotifications.send(e.room_data.partner.display_name,{icon:e.room_data.partner.display_picture,body:"You've been matched to "+e.room_data.partner.display_name}),PushNotifications.idle();for(var t=null,n=[],r=0;r<e.room_data.interests.length;r++)n.push(e.room_data.interests[r].name);e.room_data.interests&&e.room_data.interests.length>0&&(t=React.createElement("div",null,React.createElement("div",{className:"room-component-match-interests-container"},React.createElement("div",{style:{marginRight:"6px"}},"You both like "),n.join(", "))));var a=React.createElement(Flair,{data:{string:e.room_data.partner.display_name,flair:e.room_data.partner.flair}}),i=React.createElement("div",{id:"matched-message","data-matched-id":e.room_data.partner.id},"You've been matched to ",a," say hi!",t);RoomClient.print(i);var o=RoomMatchHistoryClient.state.history;o.unshift(e.room_data.partner),RoomMatchHistoryClient.setState({history:o}),"video"==this.state.queue&&(p=new Promise(function(e){e()}),p.then(function(){App.webrtc["switch"](App.room.id)})),"voice"==this.state.queue&&(p=new Promise(function(e){e()}),p.then(function(){App.webrtc["switch"](App.room.id)}))}},{key:"disconnect",value:function(){var e=React.createElement("div",null,"You have disconnected",React.createElement(BR,null),React.createElement("div",{onMouseDown:this.next_match.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"play_arrow"),"Next"),this.karma_menu(),React.createElement(BR,null),React.createElement(GoldAd,null));RoomClient.print_append(e),"video"==this.state.queue&&setTimeout(function(){App.webrtc.disconnect()},100),"voice"==this.state.queue&&setTimeout(function(){App.webrtc.disconnect()},100)}},{key:"stranger_disconnect",value:function(){var e=React.createElement("div",null,"Stranger disconnected",React.createElement(BR,null),React.createElement("div",{onMouseDown:this.next_match.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"play_arrow"),"Next"),this.karma_menu(),React.createElement(GoldAd,null));RoomClient.print_append(e),"video"==this.state.queue&&setTimeout(function(){App.webrtc.disconnect()},200),"voice"==this.state.queue&&setTimeout(function(){App.webrtc.disconnect()},100)}},{key:"waiting",value:function(){var e=null;e=React.createElement("div",null,React.createElement("div",{className:"spinner-cube"},React.createElement("div",{className:"cube1"}),React.createElement("div",{className:"cube2"})),"It can take some time to find someone if you are using match filters. You can start a chat instantly by pressing random",React.createElement(BR,null),React.createElement("div",{onMouseDown:this.next_match_instant_gold.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"shuffle"),"random"));var t=React.createElement("div",null,"Looking for someone for you to chat with..",e);RoomClient.print(t)}},{key:"will_wait",value:function(){return this.state.wait_delay>0}},{key:"wait_delay_change",value:function(){var e=document.getElementById("wait-delay-input").value;e>0&&(App.match.interest_wait=!0),e==parseInt(document.getElementById("wait-delay-input").max)?e=9999999999999:App.match.interest_wait=!1,this.setState({wait_delay:e}),Cookies.set("match_wait_delay",e)}},{key:"start",value:function(){return React.createElement("span",{className:"match-component-module"},React.createElement("div",{className:"m4"},"Press the start button to begin"),React.createElement("div",{onMouseDown:this.start_match.bind(this),className:"ui-button-match-mega"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"touch_app"),"Start"))}},{key:"interests",value:function(){return React.createElement("span",{className:"match-component-module"},React.createElement("div",{className:"m4"},"Add interest tags"),React.createElement(InterestsEdit,{interests:App.user.interests}))}},{key:"gender_filter_switch",value:function(){value=!this.state.gender_filter,this.setState({gender_filter:value}),Cookies.set("match_gender_filter_switch",value)}},{key:"filter_karma_switch",value:function(){value=!this.state.karma_filter,this.setState({karma_filter:value}),Cookies.set("match_karma_switch",value)}},{key:"match_temps_switch",value:function(){value=!this.state.filter_temps,this.setState({filter_temps:value}),Cookies.set("match_stranger_filter",value)}},{key:"karma_min_change",value:function(){var e=parseInt(document.getElementById("karma-min-input").value);this.setState({min_karma:e}),Cookies.set("match_min_karma",e)}},{key:"set_gender_filter",value:function(){var e=document.getElementById("gender-select").value;this.setState({gender_selected:e}),Cookies.set("match_gender",e)}},{key:"ads",value:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return e>=760?React.createElement("div",null,React.createElement(AdDragon,{id:"8fac81ab",style:{alignItems:"center",display:"flex",justifyContent:"center",paddingBottom:"13px",height:"120px"}})):React.createElement("div",null,React.createElement(AdDragon,{id:"979afe2d",style:{alignItems:"center",display:"flex",justifyContent:"center",paddingBottom:"13px",height:"120px"}}))}},{key:"emerald_gold",value:function(){if(!this.state.data)return null;if(0==this.state.data.current_user.gold)return React.createElement(GoldAd,null);var e=null;1==this.state.karma_filter&&(e=React.createElement("span",null,React.createElement("div",{className:"m4"},"only match to users with karma more than"),React.createElement("input",{id:"karma-min-input",onChange:this.karma_min_change.bind(this),style:{marginRight:"10px",maxWidth:"120px",display:"inline-block"},type:"range",step:"1",min:"-30",max:"100"}),React.createElement("span",{id:"match-wait-label",style:{display:"inline-block"},className:"match-label"},this.state.min_karma)));var t=null;return 1==this.state.gender_filter&&(t=React.createElement("span",null,React.createElement("div",{className:"m4"},"gender filter"),React.createElement("label",{style:{marginBottom:"13px"},className:"ui-select",htmlFor:"gender-select"},React.createElement("select",{defaultValue:this.state.gender_selected,onChange:this.set_gender_filter.bind(this),name:"gender-select",id:"gender-select"},React.createElement("option",{value:"m"},"Male"),React.createElement("option",{value:"f"},"Female"),React.createElement("option",{value:"o"},"Other"))))),React.createElement("span",{style:{maxWidth:"438px"},className:"match-component-module"},React.createElement("div",{className:"m4"},"filter matches by gender"),React.createElement(Switch,{data:{style:{marginBottom:"15px"},checked:this.state.gender_filter,on_check:this.gender_filter_switch.bind(this)}}),t,React.createElement("div",{className:"m4"},"don't match me to anonymous accounts"),React.createElement(Switch,{data:{style:{marginBottom:"15px"},checked:this.state.filter_temps,on_check:this.match_temps_switch.bind(this)}}),React.createElement("div",{className:"m4"},"filter matches by karma"),React.createElement(Switch,{data:{style:{marginBottom:"15px"},checked:this.state.karma_filter,on_check:this.filter_karma_switch.bind(this)}}),e)}},{key:"settings",value:function(){var e=this.state.wait_delay;return e>9?e="Infinite":e<1?e="No wait":e+=" seconds",React.createElement("span",{className:"match-component-module"},React.createElement("div",{className:"m4"},"Time to wait for someone with your interests"),React.createElement("input",{id:"wait-delay-input",onChange:this.wait_delay_change.bind(this),style:{marginRight:"10px",maxWidth:"120px",display:"inline-block"},type:"range",step:"1",min:"0",max:"10"}),React.createElement("span",{id:"match-wait-label",style:{display:"inline-block"},className:"match-label"}," ",e))}},{key:"add_interest",value:function(e){InterestClient.add_interest(e)}},{key:"trending",value:function(){return null}},{key:"render",value:function(){return React.createElement("div",{id:"messages",className:"room-component-match-messages"},this.start(),this.interests(),this.trending(),this.settings(),this.emerald_gold())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Message=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"showImage",value:function(e){e.target.nextElementSibling.classList.remove("hidden"),e.target.classList.add("hidden")}},{key:"process",value:function(e){for(var t=["youtube.com","youtu.be"],n=0;n<t.length;n++)if(e.includes(t[n])){try{var r=new URL(e)}catch(e){return}var a=r.searchParams.get("v")||r.pathname.replace("/",""),i=(r.searchParams.get("t"),"https://www.youtube.com/embed/"+a);return React.createElement("iframe",{style:{marginTop:"10px",marginBottom:"10px",borderRadius:"4px"},width:"100%",height:"250",src:i,frameBorder:"0",allowfullscreen:!0})}return e}},{key:"content",value:function(){var e=this;return this.props.data.picture?this.props.data.isMine?React.createElement("div",{className:"image-wrap"},React.createElement("img",{src:this.props.data.picture,className:"message-image"})):React.createElement("div",{className:"image-wrap"},React.createElement("a",{className:"image-warning",onClick:this.showImage.bind(this)},"click here to show image"),React.createElement("img",{src:this.props.data.picture,className:"message-image hidden"})):(messages=this.props.data.messages.map(function(t){return React.createElement("div",{key:JSON.stringify(t)},e.process(t))}),messages)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"room-component-message-container"},React.createElement("div",{className:"room-component-message-left"},React.createElement("img",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.props.data.user})},src:this.props.data.user.display_picture,className:"room-component-message-avatar"})),React.createElement("div",{className:"room-component-message-right"},React.createElement("div",{className:"room-component-flair"},React.createElement(Flair,{data:{string:this.props.data.user.display_name,flair:this.props.data.user.flair}}),React.createElement(Badge,{key:9999*Math.random(),badge:this.props.data.user.badge})),React.createElement("div",{className:"room-component-message-text"},this.content())))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MessagePicture=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"open_picture",value:function(){element=React.createElement(Picture,{data:{src:this.props.picture.url}}),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-message-picture-container"},React.createElement("img",{onMouseDown:this.open_picture.bind(this),className:"room-component-message-picture",src:this.props.picture.url}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RoomGenerator={generate:function(e){RoomClient?RoomClient["switch"](e):ReactDOM.render(React.createElement(Room,{data:{id:e.id,mode:e.mode}}),document.getElementById("container"))}};RoomClient=null;var Room=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={id:this.props.data.id,messages:[],messages_count:0,typing:null,left_panel:!0,right_panel:!0,print:null,print_append:null,mode:this.props.data.mode||"default"},RoomClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.clear_print(),"match"==this.state.mode?this.setState({right_panel:!1,print:React.createElement(MatchMenu,{data:{queue:"text"}})}):"match_video"==this.state.mode?this.setState({print:React.createElement(MatchMenu,{data:{queue:"video"}})}):"match_voice"==this.state.mode?this.setState({right_panel:!1,print:React.createElement(MatchMenu,{data:{queue:"voice"}})}):"channel"==this.state.mode?this.setState({right_panel:!0,left_panel:!0,print:""}):"private"==this.state.mode&&(this.setState({right_panel:!0,left_panel:!0}),$.ajax({type:"GET",url:"/default_private_messages?id="+this.props.data.id,dataType:"json",success:function(e){App.room.join(this.props.data.id);for(var t=0;t<e.messages.length;t++)this.append(e.messages[t]);this.setState({messages_count:e.messages_count,id:this.props.data.id}),this.scroll()}.bind(this)}))}},{key:"componentWillUnmount",value:function(){App.room.disconnect(),App.webrtc.client&&(App.webrtc.disconnect(),App.webrtc.close()),App.match_client&&(App.match_client.locked=!0),RoomClient=null}},{key:"karma_too_low_video",value:function(){ReactDOM.render(React.createElement(Dashboard,null),document.getElementById("container")),component=React.createElement(MenuMicro,null,"NOT ENOUGH KARMA!",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"To keep video chat clean you need to have ",React.createElement("b",null,"at least more than -10 karma points"),". (You currently have ",App.user.karma," karma)",React.createElement(BR,null),React.createElement(BR,null),"You can earn karma points by using other parts of the site and interacting positively with other users or by activating your account with your email.",React.createElement(BR,null),React.createElement(BR,null),"Check out our ",React.createElement("a",{href:"https://www.reddit.com/r/EmeraldChat",target:"_blank"},"subreddit")," to learn more."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro&&MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"ads",value:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return e>=760?React.createElement(AdDragon,{id:"8fac81ab",style:{alignItems:"center",display:"flex",justifyContent:"center",paddingBottom:"13px",height:"120px !important"}}):React.createElement(AdDragon,{id:"979afe2d",style:{alignItems:"center",display:"flex",justifyContent:"center",paddingBottom:"13px",height:"120px !important"}})}},{key:"amazon_ads",value:function(){if("channel"==this.state.mode)return null;$("#room-ad-hatch").html(""),$("#room-ad-hatch").attr("class",""),$("#room-ad-hatch").attr("style","");var e=document.createElement("div");e.id="amzn-assoc-ad-a3b42939-bd87-45f6-87ed-4da8d8926a80";var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=a3b42939-bd87-45f6-87ed-4da8d8926a80",document.body.appendChild(e),e.appendChild(t),t.addEventListener("load",function(){setTimeout(function(){$("#amzn-assoc-ad-a3b42939-bd87-45f6-87ed-4da8d8926a80").appendTo("#room-ad-hatch"),$("#room-ad-hatch").addClass("animated slideInDown")},1e3)}.bind(this))}},{key:"amazon_ads_hide",value:function(){$("#room-ad-hatch").removeClass("animated slideInDown"),$("#room-ad-hatch").addClass("animated slideOutUp"),setTimeout(function(){$("#room-ad-hatch").html("")},200)}},{key:"componentDidUpdate",value:function(){this.scroll({lock:!0}),this.updated()}},{key:"updated",value:function(){}},{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"received",value:function(e){e.user.id!=App.user.id&&e.messages&&(App.room.play_sound("/sfx/simple_alert.wav"),this.append(e),PushNotifications.idle()&&PushNotifications.send(e.user.display_name,{icon:e.user.display_picture,body:e.messages[0]})),e.typing?this.start_typing(e.user):this.stop_typing()}},{key:"connected",value:function(e){"channel"==this.state.mode&&RoomChannelMembersClient.add_member(e.user)}},{key:"disconnected",value:function(e){"channel"==this.state.mode&&RoomChannelMembersClient.remove_member(e.user)}},{key:"print",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.clear_messages(),this.clear_print(),print=React.createElement("div",{className:"room-component-print"},e),this.setState({print:print})})},{key:"print_append",value:function(e){print=React.createElement("span",{className:"room-component-print"},e),this.setState({print_append:print})}},{key:"switch",value:function(e){this.clear_print(),App.room.join(e.id),this.setState({id:e.id,messages:[],messages_count:0,typing:null,mode:e.mode||"default"}),"private"==e.mode&&($.ajax({type:"GET",url:"/default_private_messages?id="+e.id,dataType:"json",success:function(e){for(var t=0;t<e.messages.length;t++)this.append(e.messages[t]);this.scroll()}.bind(this)}),this.setState({left_panel:!0,right_panel:!0}))}},{key:"scroll",value:function(e){var t=document.getElementById("messages"),n=t.scrollHeight-t.clientHeight,r=t.scrollTop;e&&e.lock&&r>n-300?t.scrollTop=n:e&&e.lock||(t.scrollTop=n)}},{key:"load_messages",value:function(e){$.ajax({type:"GET",url:"/room_load_more?loaded="+e+"&id="+this.state.id,dataType:"json",success:function(e){for(var t=0;t<e.length;t++)this.prepend(e[t])}.bind(this)})}},{key:"clear_messages",value:function(){this.setState({messages:[]})}},{key:"clear_print",value:function(){this.setState({print:null,print_append:null})}},{key:"captcha",value:function(){this.print(React.createElement("div",{id:"recaptcha-slot"})),MatchButtonClient.set_state("start"),setTimeout(function(){grecaptcha.render("recaptcha-slot",{sitekey:rpk,callback:function(e){0!==e.length&&$.ajax({type:"GET",url:"/unlock_captcha?response="+e,dataType:"json",success:function(){MatchButtonClient.modify_state()}})}})}.bind(this),100)}},{key:"captcha_callback",value:function(){alert("hooooo")}},{key:"start_typing",value:function(e){e.id!=App.user.id&&(this.setState({typing:e.display_name}),window.typing_timer=setTimeout(function(){this.stop_typing()}.bind(this),1e4))}},{key:"stop_typing",value:function(){this.setState({typing:null}),App.room.typing=null}},{key:"send",value:function(e){this.append({messages:[e],user:App.user}),App.room.client.speak({message:e}),this.scroll()}},{key:"send_picture",value:function(e){this.append({messages:[],user:App.user,picture:e}),App.room.client.speak({picture:e}),this.scroll()}},{key:"input",value:function(e){var t=$(e.target).val();13==e.keyCode&&t.length>0&&16!=e.keyCode&&(this.send(t),$(e.target).val(""),e.preventDefault()),App.room.client.typing()}},{key:"append",value:function(e){this.trim_messages();var t=this.state.messages;if(t[t.length-1]&&t[t.length-1].user.id==e.user.id&&!t[t.length-1].picture&&!e.picture&&t[t.length-1].messages.length<16){var n=t[t.length-1].messages,r=n[n.length-1];if(e.messages[0]==r)return;t[t.length-1].messages.push(e.messages[0])}else t.push(e);this.setState({messages:t}),console.log(t)}},{key:"prepend",value:function(e){this.trim_messages();var t=this.state.messages;if(t[0]&&t[0].user.id==e.user.id&&!t[t.length-1].picture&&!e.picture&&t[0].messages.length<16){var n=t[t.length-1].messages,r=n[n.length-1];if(e.messages[0]==r)return;t[0].messages.unshift(e.messages[0])}else t.unshift(e);this.setState({messages:t})}},{key:"trim_messages",value:function(){var e=5e3;"channel"==this.state.mode&&(e=50);var t=this.state.messages;t.length>e&&(t.shift(),this.setState({messages:t}))}},{key:"upload_picture",value:function(){if(!App.user.gold)return void alert("Sorry! But you can't use this feature. You need to be a gold user before you can upload images into the chatroom.");element=React.createElement(MenuMicro,null,React.createElement(MessagePictureUpload,null)),ReactDOM.render(element,document.getElementById("ui-hatch-2")),MessagePictureUploader.onUploaded=function(e){this.send_picture(e),MenuReactMicro.close()}.bind(this)}},{key:"room_disconnected",value:function(){component=React.createElement(MenuMicroStatic,null,React.createElement(RoomDisconnected,null)),ReactDOM.render(component,document.getElementById("ui-hatch-2"))}},{key:"room_reconnected",value:function(){MenuReactMicroStatic.close()}},{key:"room_messages",value:function(){for(var e=(arguments.length<=0||arguments[0]===undefined||arguments[0],"room-component-messages"),t=null,n="",r=0,a=0;a<this.state.messages.length;a++)r+=this.state.messages[a].messages.length;return this.state.messages_count>r&&this.state.messages.length>0&&(t=React.createElement("div",{onMouseDown:this.load_messages.bind(this,r),className:"room-component-load-button"},"Load More (",r," of ",this.state.messages_count,")")),"private"==this.state.mode&&this.state.messages.length<1&&(n=React.createElement("div",{className:"room-notification"},"No messages here yet. Start a conversation!")),RoomChannelSelectClient.state&&"channel"==this.state.mode&&this.state.messages.length<1&&(n=React.createElement("div",{className:"room-notification"},"No messages here yet!")),body=React.createElement("div",{id:"messages",className:e},React.createElement(MuteButton,null),this.state.print,n,t,this.state.messages.map(function(e){return React.createElement(Message,{data:e})}),this.state.print_append),body}},{key:"room_input",value:function(){return body=React.createElement("div",{className:"room-component-input"},React.createElement("textarea",{className:"room-component-input-textarea",onMouseDown:this.scroll,onKeyDown:this.input.bind(this),id:"room-input",placeholder:"Say Something..."})),body}},{key:"room_input_match",value:function(){return body=React.createElement("div",{className:"room-component-input"},React.createElement(MatchButton,null),React.createElement("textarea",{className:"room-component-input-textarea",onMouseDown:this.scroll,onKeyDown:this.input.bind(this),id:"room-input",placeholder:"Say Something..."}),React.createElement("a",{href:"#",onMouseDown:this.upload_picture},React.createElement("img",{src:"assets/picture-icon.svg",className:"room-component-picture-icon"}))),body}},{key:"room_input_video",value:function(){return body=React.createElement("div",{className:"room-component-input room-component-video-input-mobile"},React.createElement(MatchButton,null),React.createElement("textarea",{className:"room-component-input-textarea",onMouseDown:this.scroll,onKeyDown:this.input.bind(this),id:"room-input",placeholder:""}),React.createElement("a",{href:"#",onMouseDown:this.upload_picture},React.createElement("img",{src:"assets/picture-icon.svg",className:"room-component-picture-icon"}))),body}},{key:"room_typing",value:function(){var e=arguments.length<=0||arguments[0]===undefined?null:arguments[0],t="room-component-typing-body";return"video"==e&&(t="room-component-typing-body room-component-video-input-mobile"),typing=null,this.state.typing&&(typing=React.createElement("div",{className:t},React.createElement("div",{className:"line-scale-pulse-out-rapid"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null)),React.createElement("div",{id:"typing-label",name:"typing-label",className:"room-component-typing-label"},this.state.typing," is typing"))),body=React.createElement("div",{id:"typing-container",className:"room-component-typing-container"},typing),body}},{key:"room_left",value:function(){var e=null;return this.state.left_panel?("private"==this.state.mode&&(e=React.createElement("div",{className:"room-component-left"},React.createElement(RoomPrivateLeft,null))),"match"==this.state.mode&&(e=React.createElement("div",{className:"room-component-left"},React.createElement(RoomMatchHistory,null))),"match_voice"==this.state.mode&&(e=React.createElement("div",{className:"room-component-left"},React.createElement(RoomMatchHistory,null))),"match_video"==this.state.mode&&(e=React.createElement("div",{className:"room-component-left-video"},React.createElement(RightComponentVideo,null))),"channel"==this.state.mode&&(e=React.createElement("div",{id:"channel-select",className:"room-component-left channel-select-mobile-mode"},React.createElement(RoomChannelSelect,null))),e):null}},{key:"room_center_default",value:function(){}},{key:"room_center",value:function(){var e=this.room_messages(),t=this.room_input(),n=this.room_typing();return"match"==this.state.mode&&(t=this.room_input_match()),"match_video"==this.state.mode&&(e=this.room_messages("video"),t=this.room_input_video(),n=this.room_typing("video")),"match_voice"==this.state.mode&&(t=this.room_input_match()),this.state.mode,React.createElement("div",{className:"room-component-center"},e,t,n)}},{key:"room_right",value:function(){var e=null;return this.state.right_panel?("private"==this.state.mode?e=React.createElement(RoomPrivate,null):"match_video"==this.state.mode?e=React.createElement(RoomMatchHistory,null):"channel"==this.state.mode&&(e=React.createElement(RoomChannelMembers,null)),React.createElement("div",{className:"room-component-right"},e)):null}},{key:"render",value:function(){return React.createElement("div",{id:"room",className:"room-component-container"},this.room_left(),this.room_center(),this.room_right())}}]),t}(React.Component);$(window).resize(function(){var e=document.getElementById("messages");e.scrollTop=e.scrollHeight});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};RoomChannelMembersClient={};var RoomChannelMembers=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={members:[]},RoomChannelMembersClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"add_member",value:function(e){for(var t=this.state.members,n=0;n<t.length;n++)if(t[n].id==e.id)return;t.push(e),this.setState({members:t})}},{key:"remove_member",value:function(e){for(var t=null,n=0;n<this.state.members.length;n++)this.state.members[n].id==e.id&&(t=this.state.members[n]);var r=this.state.members;r.splice(r.indexOf(t),1),this.setState({members:r})}},{key:"body",value:function(){return this.state.members.length<1?React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"empty")):this.state.members?React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"online \u2014 ",this.state.members.length),this.state.members.map(function(e){return React.createElement(UserUnit,{key:JSON.stringify(e)+(99999*Math.random()).toString(36),data:e})})):void 0}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-right-container"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};RoomChannelSelectClient={};var RoomChannelSelect=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),RoomChannelSelectClient=this,this.state={text_channels:[],voice_channels:[],current_channel:null,cached_messages:{},expanded:!0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"channels_default",dataType:"json",success:function(e){this.setState({text_channels:e.text_channels,voice_channels:e.voice_channels}),this.joinStartingChannel(e.text_channels)}.bind(this)})}},{key:"joinStartingChannel",value:function(e){var t=100;e=e.sort(function(e,t){return t.members>e.members?1:-1}),console.log("channels"),console.log(e);for(var n=0;n<e.length;n++){var r=e[n];if(console.log(r.members),r.members.length>0&&r.members.length<t)return this.join(r),void!0}e=e.sort(function(){return Math.random()-.5}),this.join(e[0])}},{key:"join",value:function(e){console.log("joined strangers",e),e.members.length>=e.channel.capacity||(App.webrtc.client&&this.voice_disconnect(),this.expand(!1),RoomClient.setState({messages:[]}),RoomClient.updated=function(){this.setState({current_channel:e.channel}),$.ajax({type:"GET",url:"channel_json?id="+e.channel.id,dataType:"json",success:function(e){console.log("loading chat",e),RoomChannelMembersClient.setState({members:e.members});for(var t=0;t<e.messages.length;t++)RoomClient.append(e.messages[t]);RoomClient.scroll()}.bind(this)}),App.room.join("channel"+e.channel.id),setTimeout(function(){RoomClient.scroll()},0),"voice"==e.channel.channel_type&&this.voice_connect(e)}.bind(this),RoomClient.updated(),RoomClient.updated=function(){})}},{key:"voice_connect",value:function(e){App.webrtc.incompatible=function(){component=React.createElement(MenuMicro,null,"NO MIC DETECTED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"
},"We couldn't find your mic. Make sure the device is connected and refresh the page to try again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2")),this.setState({current_channel:null})}.bind(this),App.webrtc.compatible=function(){App.webrtc.init(),App.webrtc["switch"]("channel"+e.channel.id)}.bind(this),App.webrtc.media_compatible({video:!1,audio:!0})}},{key:"voice_disconnect",value:function(){setTimeout(function(){App.webrtc.disconnect()},100)}},{key:"expand",value:function(){this.state.expanded?(document.getElementById("channel-select").classList.add("channel-select-mobile-mode-hidden"),this.setState({expanded:!1})):(document.getElementById("channel-select").classList.remove("channel-select-mobile-mode-hidden"),this.setState({expanded:!0}))}},{key:"expand_button",value:function(){return this.state.expanded?React.createElement("div",{onMouseDown:this.expand.bind(this),className:"channel-expand-icon material-icons"},"chevron_left"):React.createElement("div",{onMouseDown:this.expand.bind(this),className:"channel-expand-icon material-icons"},"chevron_right")}},{key:"channel_button",value:function(e){var t="channel-unit";this.state.current_channel==e.channel&&(t="channel-unit channel-unit-active");var n=null;e.members.length>0&&(n=React.createElement("div",{className:"channel-unit-label"},e.members.length)),e.members.length>=e.channel.capacity&&(n=React.createElement("div",{className:"channel-unit-label"},"FULL"));var r;return e.channel.channel_type,r=null,React.createElement("div",{key:JSON.stringify(e),onMouseDown:this.join.bind(this,e),className:t},r,e.channel.name,n)}},{key:"body",value:function(){var e=this;return React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"text channels"),this.state.text_channels.map(function(t){return e.channel_button(t)}),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null),React.createElement(BR,null))}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-right-container"},this.expand_button(),this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RoomDisconnected=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"notification-menu-container-text-parent"},"Error connecting to server.",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"notification-menu-container-text"},"We had some trouble connecting to Emerald. Please check your internet connection.",React.createElement("div",{style:{height:"149px"},className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};RoomMatchHistoryClient={};var RoomMatchHistory=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={},RoomMatchHistoryClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/match_history_json",dataType:"json",success:function(e){this.setState({history:e})}.bind(this)})}},{key:"body",value:function(){if(this.state.history)return React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"history"),this.state.history.map(function(e){return React.createElement(UserUnit,{key:JSON.stringify(e)+(99999*Math.random()).toString(36),data:e})}))}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-right-container"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RoomPrivate=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={online:[],offline:[],search:[]}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"private_friends",dataType:"json",success:function(e){this.setState({online:e.online,offline:e.offline,search:[]})}.bind(this)})}},{key:"search_user",value:function(e){var t=$(e.target).val()+String.fromCharCode(e.keyCode);t=t.toLowerCase().replace("\b",""),$.ajax({type:"GET",url:"/private_friends_search?id="+t,dataType:"json",success:function(e){this.setState({search:e})}.bind(this)})}},{key:"body",value:function(){var e=null;return e=this.state.online.length<1&&this.state.offline.length<1?React.createElement("div",{className:"room-component-module"},React.createElement(BR,null),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0}),React.createElement(RoomUserUnit,{loader:!0})):React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"SEARCH"),React.createElement("div",{className:"room-search-unit"},React.createElement("div",{style:{width:"100%",marginBottom:"5px"},className:"ui-search-box"},React.createElement("input",{onInput:this.search_user.bind(this),style:{width:"100%"},type:"text",className:"ui-search-box-input",placeholder:"Search"}))),this.state.search.map(function(e){return React.createElement(RoomUserUnit,{key:JSON.stringify(e),data:e})}),React.createElement("div",{className:"room-user-label"},"ONLINE \u2013 ",this.state.online.length),this.state.online.map(function(e){return React.createElement(RoomUserUnit,{key:JSON.stringify(e),data:e})}),React.createElement("div",{className:"room-user-label"},"offline \u2013 ",this.state.offline.length),this.state.offline.map(function(e){return React.createElement(RoomUserUnit,{key:JSON.stringify(e),data:e})})),e}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-right-container"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RoomPrivateLeft=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){for(var e=[],t=MessageNotificationsReact.state.data.read,n=0;n<t.length;n++)e.push(t[n].data.sender);this.setState({recent:e})}},{key:"body",value:function(){return this.state.recent&&this.state.recent.length<1?React.createElement("div",{className:"room-component-module"}):this.state.recent?React.createElement("div",{className:"room-component-module"},React.createElement("div",{className:"room-user-label"},"recent"),this.state.recent.map(function(e){return React.createElement(RoomUserUnit,{key:JSON.stringify(e),data:e})})):void 0}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-right-container"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RoomUserUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"message",value:function(){$.ajax({type:"GET",url:"/message_user?id="+this.props.data.id,dataType:"json",success:function(e){e&&(MenuReactMicro&&MenuReactMicro.close(),MenuReact&&MenuReact.close(),UserProfileReact&&UserProfileReact.close(),RoomGenerator.generate({id:e.room_id,mode:"private"}))}.bind(this)})}},{key:"body",value:function(){return this.props.loader?React.createElement("div",{className:"notification-unit-body"},React.createElement("div",{style:{background:"#41454f"},className:"notification-unit-skeleton notification-unit-skeleton-circle"}),React.createElement("div",{style:{background:"#41454f",width:"50%"},className:"notification-unit-skeleton notification-unit-skeleton-line"})):React.createElement("div",{className:"notification-unit-body"},React.createElement("img",{className:"navigation-notification-unit-image",style:{marginRight:"20px"},src:this.props.data.display_picture}),React.createElement(Flair,{data:{string:this.props.data.display_name,flair:this.props.data.flair}}))}},{key:"render",value:function(){return React.createElement("div",{onMouseDown:this.message.bind(this),className:"room-user-unit"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},RightComponentVideo=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return React.createElement("div",{className:"room-component-video-container ",id:"match-video"},React.createElement("div",{className:"room-component-video room-component-video-partner",id:"remoteVideos"}),React.createElement("div",{className:"room-component-video room-component-video-local"},React.createElement("video",{id:"localVideo"})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SearchMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={search:[],count:0}}return _inherits(t,e),_createClass(t,[{key:"close",value:function(){MenuReact.close()}},{key:"search_user",value:function(){var e=$("#searchbox").val();e=e.toLowerCase(),$.ajax({type:"GET",url:"/main_search_json?search="+e,dataType:"json",success:function(e){this.setState({search:e})}.bind(this)})}},{key:"search",value:function(){return this.state.search.length>0?results=React.createElement("div",null,React.createElement("div",{className:"m1"},"search"),this.state.search.map(function(e){return React.createElement(SearchUnit,{key:"friend"+e.id,data:e})}),React.createElement(BR,null)):results=null,React.createElement("div",null,React.createElement("div",{className:"ui-search-box"},React.createElement("input",{id:"searchbox",type:"text",className:"ui-search-box-input",placeholder:"Enter a username..."})),React.createElement("div",{onMouseDown:this.search_user.bind(this),style:{marginLeft:"13px"},className:"ui-button"},React.createElement("span",{className:"ui-button-match-mega-icon material-icons"},"search"),"Search"),results)}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("div",{className:"m1"},"search for people"),this.search())}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"SEARCH",React.createElement(BR,null),React.createElement(BR,null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SearchUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"body",value:function(){return React.createElement("div",{className:"notification-unit-body"},React.createElement("img",{className:"navigation-notification-unit-image",src:this.props.data.display_picture}),React.createElement(Flair,{data:{string:this.props.data.display_name,flair:this.props.data.flair}}),React.createElement("span",{style:{margin:"0px",marginLeft:"4px",textTransform:"lowercase"},className:"m1"},"#",this.props.data.username))}},{key:"render",value:function(){var e=this;return React.createElement("div",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.props.data})},style:{marginTop:"5px"},className:"notification-unit"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Tutorial=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={screen:0}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"next",value:function(){this.setState({screen:this.state.screen+1}),this.state.screen>=4&&!App.mobile.enabled?$("#tutorial-menu").attr("style","text-align: center;"):$("#tutorial-menu").attr("style","top: 56px; margin-left: initial; margin-right: initial; left: 94px; text-align: center;")}},{key:"previous",value:function(){this.setState({screen:this.state.screen-1}),this["this"].state.screen<1&&!App.mobile.enabled&&$("#tutorial-menu").attr("style","")}},{key:"render",value:function(){return App.mobile.enabled?style={textAlign:"center",marginLeft:"64px",width:"calc(100% - 56px)"}:style={textAlign:"center"},tutorial=[{html:React.createElement("div",null,React.createElement("img",{src:"/emoticons-flat/Users/student_male-48.png",className:"em-mega"}),React.createElement("br",null),React.createElement("br",null),React.createElement("b",null,"Welcome!"),React.createElement("br",null),React.createElement("br",null),"This is the tutorial. We recommend going through it just to get an idea how to use this thing.")},{html:React.createElement("div",null,React.createElement("span",{className:"material-icons nanopost-icon-blue"},"flash_on"),React.createElement("br",null),React.createElement("br",null),"To meet people, press the ",React.createElement("b",null,"thunderbolt")," icon. This is the main feature of Emerald.",React.createElement("br",null),React.createElement("br",null),"Try our 1 on 1 chat mode, add some interests and we will match you to a conversation with a stranger from around the world.")},{html:React.createElement("div",null,React.createElement("span",{className:"material-icons nanopost-icon-blue"},"message"),React.createElement("br",null),React.createElement("br",null),"Press this icon to view your inbox and pm people you've added as friends.")},{html:React.createElement("div",null,React.createElement("span",{className:"material-icons nanopost-icon-blue"},"account_circle"),React.createElement("br",null),React.createElement("br",null),"Press this icon to view your friends list.")},{html:React.createElement("div",null,React.createElement("img",{src:"/emoticons-flat/Users/student_male-48.png",className:"em-mega"}),React.createElement("br",null),React.createElement("br",null),"That's it! I'm pretty sure you want to crack on. There are a few other things you should know about but you'll learn them quick enough.",React.createElement("br",null),React.createElement("br",null),"We hope you meet some great people!")}],next=null,this.state.screen<tutorial.length-1&&(next=React.createElement("div",{onMouseDown:this.next.bind(this),style:{display:"inline-block"}},React.createElement("div",{className:"micro-button"},"Next"))),previous=null,this.state.screen>0&&this.state.screen<tutorial.length-1&&(previous=React.createElement("div",{onMouseDown:this.previous.bind(this),style:{display:"inline-block"}},React.createElement("div",{className:"micro-button"},"Previous"))),close=null,this.state.screen==tutorial.length-1&&(close=React.createElement("div",{onClick:this.close.bind(this),style:{display:"inline-block"}},React.createElement("div",{className:"micro-button"},"Finish!"))),multiplier=42,App.mobile.enabled?base=110:base=61,1==this.state.screen?$("#arrow-tutorial").attr("style","z-index: 2147483647; position: fixed; top: "+base+"px; left: 48px"):2==this.state.screen?$("#arrow-tutorial").attr("style","z-index: 2147483647; position: fixed; top: "+(base+multiplier)+"px; left: 48px"):3==this.state.screen?$("#arrow-tutorial").attr("style","z-index: 2147483647; position: fixed; top: "+(base+2*multiplier)+"px; left: 48px"):$("#arrow-tutorial").attr("style","display: none;"),React.createElement("div",null,React.createElement("div",{style:{pointerEvents:"none"},className:"emerald-screen"}),React.createElement("div",{id:"tutorial-menu",style:{textAlign:"center"},className:"tutorial-menu"},React.createElement("img",{id:"arrow-tutorial",style:{zIndex:"99999999999999999",position:"fixed",top:"58px",left:"36px",display:"none"},className:"em-mega animated pulse-infinite",src:"/emoticons-flat/Arrows/sort_left-48.png"}),tutorial[this.state.screen].html,React.createElement("div",{style:{margin:"15px"}},previous,next,close),React.createElement("s3",null,this.state.screen+1," / ",tutorial.length)))}}]),t}(React.Component);$(document).ready(function(){function e(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}tutorial=e("tutorial",window.location.href),tutorial&&ReactDOM.render(React.createElement(Tutorial,null),document.getElementById("notification-menu"))});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};AppLoaderClient={};var AppLoader=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},AppLoaderClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"refresh_page",value:function(){this.setState({tab:"default"}),window.location="/"}},{key:"body",value:function(){return"default"==this.state.tab?React.createElement("div",{className:"loader-bg"},React.createElement("div",{style:{height:"142px"},className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))):"error"==this.state.tab?React.createElement("div",{className:"loader-bg"},"Oops! Something went wrong. Please try again later.",React.createElement("div",{onClick:this.refresh_page.bind(this),className:"btn btn-pink m-y-5 waves-effect waves-light"},"Try Again")):void 0}},{key:"render",value:function(){return this.body()}}]),t}(React.Component),AppLoaderGenerator={generate:function(){element=React.createElement(AppLoader,null),ReactDOM.render(element,document.getElementById("ui-hatch"))}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MenuReact=null;var Menu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={},MenuReact=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){$(".ui-bg").removeClass("animated fadeIn"),$(".ui-bg").addClass("animated fadeOut"),$(".ui-menu").addClass("animated zoomOut"),setTimeout(function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this),250)}},{key:"render",value:function(){return React.createElement("div",{className:"ui-menu-container"},React.createElement("div",{id:"ui-menu-bg",onMouseDown:this.close.bind(this),className:"animated fadeIn ui-bg"}),React.createElement("div",{className:"animated zoomIn ui-menu"},this.props.children))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MenuReactMicro=null;var MenuMicro=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={},MenuReactMicro=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){$("#menu-micro-bg").removeClass("animated fadeIn"),$("#menu-micro-bg").addClass("animated fadeOut"),$("#menu-micro").addClass("animated zoomOut"),setTimeout(function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this),250)}},{key:"render",value:function(){return React.createElement("div",{id:"ui-menu-micro",className:"ui-menu-container"},React.createElement("div",{id:"menu-micro-bg",style:{zIndex:"99999999"},onMouseDown:this.close.bind(this),className:"animated fadeIn ui-bg"}),React.createElement("div",{id:"menu-micro",className:"animated zoomIn ui-menu"},this.props.children))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};MenuReactMicroStatic=null;var MenuMicroStatic=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={},MenuReactMicroStatic=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){$("#menu-micro-bg").removeClass("animated fadeIn"),$("#menu-micro-bg").addClass("animated fadeOut"),$("#menu-micro").addClass("animated zoomOut"),setTimeout(function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this),250)}},{key:"render",value:function(){return React.createElement("div",{id:"ui-menu-micro",className:"ui-menu-container"},React.createElement("div",{id:"menu-micro-bg",style:{zIndex:"99999999"},className:"animated fadeIn ui-bg"}),React.createElement("div",{id:"menu-micro",className:"animated zoomIn ui-menu"},this.props.children))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},MuteButtonClient={},MuteButton=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={muted:!1},MuteButtonClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){"t"==Cookies.get("muted")?this.setState({muted:!0}):this.setState({muted:!1})}},{key:"mute",value:function(){this.setState({muted:!0})}},{key:"unmute",value:function(){this.setState({muted:!1})}},{key:"body",value:function(){return this.state.muted?React.createElement("div",{onMouseDown:this.unmute.bind(this),className:"material-icons mute-button"},"volume_mute"):React.createElement("div",{onMouseDown:this.mute.bind(this),className:"material-icons mute-button"},"volume_down")}},{key:"render",value:function(){return this.body()}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Switch=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={checked:this.props.data.checked}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"check",value:function(){this.setState({checked:!this.state.checked}),this.props.data.on_check(this)}},{key:"render",value:function(){return this.state.checked?React.createElement("div",{style:this.props.data.style||{},onMouseDown:this.check.bind(this),className:"ui-switch"},React.createElement("span",{className:"material-icons"},"check")):React.createElement("div",{style:this.props.data.style||{},onMouseDown:this.check.bind(this),className:"ui-switch"})}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},DeleteAccount=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"delete_confirmed",value:function(){$.ajax({type:"DELETE",url:"/delete_user?password="+$("#password").val(),dataType:"json",success:function(){window.location="/"}.bind(this),error:function(){alert("Your password was incorrect.")}})}},{key:"close",value:function(){MenuReact.close()}},{
key:"body",value:function(){return React.createElement("div",{style:{marginTop:"5px"}},React.createElement("div",{className:"m1"},"Are you sure?"),React.createElement("div",{className:"notification-menu-container-text"},"In compliance with new ",React.createElement("a",{href:"https://www.eugdpr.org",target:"_blank"},"GDPR rules")," we are providing our users with the ability to completely remove all their data from our website.",React.createElement(BR,null),React.createElement(BR,null),"If you delete your account we will delete all your user data including photos, friends, posts etc. Any and all references in our database to you or your account will be irreversibly destroyed immediately. This data cannot be recovered."),React.createElement(BR,null),React.createElement("div",{style:{color:"gold"},className:"notification-menu-container-text"},"WARNING: Your data will be completely and irreversibly deleted. Please make sure you are absolutely sure before proceeding."),React.createElement(BR,null),React.createElement("div",{className:"m1"},"enter your password to proceed"),React.createElement("input",{id:"password",type:"password",className:"ui-input"}),React.createElement("div",{onMouseDown:this.delete_confirmed.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"I'm Sure, Delete My Account"),React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"check"),"Actually, I'll Keep my Account"))}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"DELETE YOUR ACCOUNT",React.createElement(BR,null),React.createElement(BR,null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},Flair=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.props.data.flair?flair=this.props.data.flair:flair={color:""},React.createElement("span",{className:"user-flair",style:flair},this.props.data.string)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},LoginClient=null,Login=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},LoginClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.key_down.bind(this)),this.captcha()}},{key:"componentDidUpdate",value:function(){"default"==this.state.tab&&(grecaptcha.reset(),this.captcha())}},{key:"reset_password",value:function(){component=React.createElement(MenuMicro,null,React.createElement(PasswordReset,null)),ReactDOM.render(component,document.getElementById("notification-menu"))}},{key:"captcha",value:function(){}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"key_down",value:function(e){13==e.keyCode&&this.login()}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"login",value:function(){var e=document.getElementById("email").value,t=document.getElementById("password").value,n=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"POST",url:"login?email="+e+"&password="+t+"&captcha="+grecaptcha.getResponse(),dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",n)},success:function(e){"success"==e.status?window.location="/":"locked"==e.status?this.setState({tab:"locked"}):this.setState({tab:"fail"})}.bind(this)}),this.setState({tab:"loading"})}},{key:"login_form",value:function(){element=React.createElement(MenuMicro,null,React.createElement(t,null)),ReactDOM.render(element,document.getElementById("notification-menu"))}},{key:"body",value:function(){return React.createElement("div",null,"LOG IN",React.createElement("div",{className:"m1"},"email"),React.createElement("input",{id:"email",className:"ui-input"}),React.createElement("div",{className:"m1"},"password"),React.createElement("input",{id:"password",type:"password",className:"ui-input"}),React.createElement("div",{style:{marginTop:"16px"},id:"login-captcha-hatch"}),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.reset_password.bind(this),className:"ui-button-text"},"Forgotten Password?"),React.createElement("div",{onMouseDown:this.login.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Log In")))}},{key:"locked",value:function(){return React.createElement("div",null,"ACCOUNT LOCKED",React.createElement("div",{className:"m1"},"too many failed log in attempts"),React.createElement("div",{className:"notification-menu-container-text"},"We've temporarily locked your account as we detected many failed login attempts. Please wait for 10 minutes before attempting to log in again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"loading",value:function(){return React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't log you in. Make sure you entered the correct email and password combination and correctly filled in the captcha."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"render",value:function(){return"loading"==this.state.tab?body=this.loading():"fail"==this.state.tab?body=this.fail():"locked"==this.state.tab?body=this.locked():body=this.body(),React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},body)}}]),t}(React.Component);$(document).on("mousedown","[data-login]",function(){ReactDOM.render(React.createElement(Login,null),document.getElementById("notification-menu")),LoginClient.login_form()});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PasswordChange=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:"idle"}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){MenuReact.close()}},{key:"retry",value:function(){this.setState({data:"idle"})}},{key:"submit",value:function(){var e=$("#old_password").val(),t=$("#new_password").val(),n=$("#confirm").val();$.ajax({type:"GET",url:"/reset_password?&old_password="+e+"&new_password="+t+"&confirm="+n,dataType:"json",success:function(e){e?this.setState({data:"success"}):this.setState({data:"failed"})}.bind(this)})}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("div",{className:"m1"},"your current password"),React.createElement("input",{id:"old_password",type:"password",className:"ui-input"}),React.createElement(BR,null),React.createElement("div",{className:"m1"},"new password"),React.createElement("input",{id:"new_password",type:"password",className:"ui-input"}),React.createElement("div",{className:"m1"},"confirm new password"),React.createElement("input",{id:"confirm",type:"password",className:"ui-input"}))}},{key:"render",value:function(){return"success"==this.state.data?html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"SUCCESS!",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"your password has been changed"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"))):"failed"==this.state.data?html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FAILED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"we couldn't change your password"),React.createElement(BR,null),React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"}},"Make sure your password is at least 6 characters and does not use any non-standard symbols. Also make sure you enter in the correct current password."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),className:"ui-button"},"Retry"))):html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"CHANGE PASSWORD",React.createElement(BR,null),React.createElement(BR,null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.submit.bind(this),className:"ui-button"},"Confirm"))),html}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},PasswordResetClient=null,PasswordReset=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},PasswordResetClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidUpdate",value:function(){}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"send",value:function(){var e=document.getElementById("email").value,t=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"POST",url:"create_password_reset?email="+e,dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",t)},success:function(e){"success"==e.status?this.setState({tab:"success"}):this.setState({tab:"failed"})}.bind(this)})}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"body",value:function(){return React.createElement("div",null,"RESET PASSWORD",React.createElement("div",{className:"notification-menu-container-text"},"Enter your email address and we will send you a password reset link."),React.createElement(BR,null),React.createElement("div",{className:"m1"},"email"),React.createElement("input",{id:"email",className:"ui-input"}),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:"",className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.send.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Send")))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't find an account with that email address, please try again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"success",value:function(){return React.createElement("div",null,"SUCCESS",React.createElement("div",{className:"m1"},"password reset link sent"),React.createElement("div",{className:"notification-menu-container-text"},"We've sent you an email with a link to reset your password. It should arrive in a few seconds."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close")))}},{key:"render",value:function(){return"default"==this.state.tab?body=this.body():"success"==this.state.tab?body=this.success():body=this.fail(),React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},body)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SetGenderRenderer={render:function(){element=React.createElement(MenuMicroStatic,null,React.createElement(SetGender,null)),ReactDOM.render(element,document.getElementById("notification-menu"))}},SetGender=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.key_down.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.key_down.bind(this))}},{key:"close",value:function(){MenuReactMicroStatic.close()}},{key:"key_down",value:function(e){13==e.keyCode&&this.signup()}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"set_gender",value:function(){this.setState({tab:"loading"});var e=$.param({token:$('meta[name="csrf-token"]').attr("content"),id:document.getElementById("gender-select").value});$.ajax({type:"GET",url:"update_gender?"+e,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",e.token)},error:function(){this.setState({tab:"failed"})}.bind(this),success:function(){this.close()}.bind(this)})}},{key:"body",value:function(){return React.createElement("div",null,"CONFIRM YOUR DETAILS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"i am a"),React.createElement("label",{className:"ui-select",htmlFor:"gender-select"},React.createElement("select",{onLoad:null,onChange:null,name:"gender-select",id:"gender-select"},React.createElement("option",{value:"m"},"Male"),React.createElement("option",{value:"f"},"Female"),React.createElement("option",{value:"o"},"Other"))),React.createElement(BR,null),React.createElement("div",{style:{color:"red"}},"WARNING: To use Emerald chat you must be over 18 years old. If you are under 18 please exit this webpage."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.set_gender.bind(this),style:{fontWeight:"600"},className:"ui-button"},"I confirm I am over 18 years old.")))}},{key:"loading",value:function(){return React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"Please try again"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"success",value:function(){return React.createElement("div",null,"SUCCESS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"account created successfully"),React.createElement("div",{className:"notification-menu-container-text"},"Congratulations, you're now all signed up. Log in using your email address and password to access this account again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close")))}},{key:"render",value:function(){return"default"==this.state.tab?body=this.body():"loading"==this.state.tab?body=this.loading():"success"==this.state.tab?body=this.success():body=this.fail(),React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},body)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SettingsAccount=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:"idle",email:App.user.email,username:App.user.username}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){MenuReact.close()}},{key:"change_password",value:function(){element=React.createElement(Menu,null,React.createElement(PasswordChange,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"on_text_change",value:function(e){this.setState({name:e})}},{key:"delete_my_account",value:function(){element=React.createElement(Menu,null,React.createElement(DeleteAccount,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"retry",value:function(){this.setState({data:"idle"})}},{key:"input",value:function(){}},{key:"save",value:function(){var e=$("#email").val(),t=$("#username").val(),n=$("#pword").val();$.ajax({type:"GET",url:"/update_account_settings?&email="+e+"&username="+t+"&password="+n,dataType:"json",success:function(e){e?(this.setState({data:"success"}),console.log("success")):(this.setState({data:"failed"}),console.log("failed"))}.bind(this)})}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("span",{className:"m1"},"Email address"),React.createElement("input",{onChange:this.input,id:"email",className:"ui-input",defaultValue:this.state.email}),React.createElement("span",{className:"m1"},"Username"),React.createElement("input",{id:"username",className:"ui-input",defaultValue:this.state.username}),React.createElement("span",{className:"m1"},"enter your password to save changes"),React.createElement("input",{id:"pword",type:"password",className:"ui-input"}),React.createElement("div",{onMouseDown:this.change_password.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"vpn_key"),"change my password"))}},{key:"render",value:function(){return"idle"==this.state.data?html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"ACCOUNT SETTINGS",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"Delete your account"),React.createElement("div",{onMouseDown:this.delete_my_account.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"delete"),"Delete My Account"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.save.bind(this),className:"ui-button"},"Save"))):"success"==this.state.data?html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"SUCCESS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"account updated"),React.createElement(BR,null),React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"}},"Your account information has been saved."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"))):html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FAILED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"we couldn't update your account"),React.createElement(BR,null),React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"}},"Make sure your password is correct."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),className:"ui-button"},"Retry"))),html}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SettingsMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){MenuReact.close()}},{key:"account_settings",value:function(){element=React.createElement(Menu,null,React.createElement(SettingsAccount,null)),ReactDOM.render(element,document.getElementById("ui-hatch"))}},{key:"toggle_push_notifications",value:function(e){var t=!e.state.checked;$.ajax({type:"GET",url:"/update_notification_settings?id="+t,dataType:"json",success:function(){}.bind(this)}),App.user.settings||(App.user.settings={}),App.user.settings.push_notifications=t}},{key:"push_notifications_activated",value:function(){return!App.user.settings||!!App.user.settings.push_notifications&&(!!App.user.settings.push_notifications||void 0)}},{key:"gold_settings",value:function(){if(App.user.gold){var e=React.createElement(MenuMicro,null,React.createElement(GoldSubscribed,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close")));ReactDOM.render(e,document.getElementById("ui-hatch-2"))}}},{key:"body",value:function(){var e=null;return App.user.gold&&(e=React.createElement("div",null,React.createElement(BR,null),React.createElement("div",{onMouseDown:this.gold_settings.bind(this),className:"ui-button-mega gold-button"},React.createElement("span",{className:"ui-button-mega-icon material-icons gold-button"},"settings"),"Emerald Gold"))),React.createElement("div",{style:{marginTop:"5px"}},React.createElement("div",{className:"m1"},"Edit your account"),React.createElement("div",{onMouseDown:this.account_settings.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"account_balance"),"Account Settings"),e,React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"Push Notifications"),React.createElement(Switch,{data:{checked:this.push_notifications_activated(),on_check:this.toggle_push_notifications.bind(this),id:"toggle_push_notifications"}}))}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"SETTINGS",React.createElement(BR,null),React.createElement(BR,null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close,className:"ui-button-text"},"Close")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SettingsProfile=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},this.colors={normal:"",red:"#f53c44",green:"#25d253",yellow:"#ffd700",blue:"#3f6fff",purple:"#7155ff",violet:"#c17bff",indigo:"#5e61ff",electric_blue:"#00a6ff",orange:"#ffa22b",pink:"#ff82e3",crimson:"#d44c4c",lime:"#bfe011",cyan:"#09d0ff",white:"#ffffff",gold:"#ffca00"}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){UserProfileReact.load(this.props.user.id),MenuReactMicro.close()}},{key:"save",value:function(){params={display_name:$("#display_name").val(),bio:$("#bio").val(),flair:{color:$("#flair-select").val()},gender:$("#gender-select").val()},$.ajax({type:"GET",url:"/update_profile?"+$.param(params),dataType:"json",success:function(){UserProfileReact.load(this.props.user.id),App.user.display_name=params.display_name,App.user.flair=params.flair,this.close()}.bind(this),error:function(){this.setState({tab:"error"})}.bind(this)})}},{key:"color",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){setTimeout(function(){color=$("#flair-select").val(),$("#flair-select").attr("style","color: "+color)})})},{key:"restart",value:function(){this.setState({tab:"default"})}},{key:"flair_color",value:function(){return this.props.user.flair?this.props.user.flair.color:""}},{key:"body",value:function(){return React.createElement("div",null,React.createElement("span",{className:"m1"},"Display Name"),React.createElement("input",{id:"display_name",className:"ui-input",defaultValue:this.props.user.display_name}),React.createElement("span",{className:"m1"},"Flair Color"),React.createElement("label",{className:"ui-select",htmlFor:"flair-select"},React.createElement("select",{defaultValue:this.flair_color(),onLoad:this.color(),onChange:this.color,name:"flair-select",id:"flair-select"},React.createElement("option",{value:this.colors.normal},"Default"),React.createElement("option",{value:this.colors.red},"Red"),React.createElement("option",{value:this.colors.orange},"Orange"),React.createElement("option",{value:this.colors.green},"Green"),React.createElement("option",{value:this.colors.violet},"Violet"),React.createElement("option",{value:this.colors.blue},"Blue"),React.createElement("option",{value:this.colors.electric_blue},"Electric Blue"),React.createElement("option",{value:this.colors.purple},"Purple"),React.createElement("option",{value:this.colors.lime},"Lime"),React.createElement("option",{value:this.colors.yellow},"Yellow"),React.createElement("option",{value:this.colors.crimson},"Crimson"),React.createElement("option",{value:this.colors.pink},"Pink"),React.createElement("option",{value:this.colors.indigo},"Indigo"),React.createElement("option",{value:this.colors.cyan},"Cyan"),React.createElement("option",{value:this.colors.white},"White"),React.createElement("option",{value:this.colors.gold},"Gold"))),React.createElement("span",{className:"m1"},"Gender"),React.createElement("label",{className:"ui-select",htmlFor:"gender-select"},React.createElement("select",{defaultValue:this.props.user.gender,name:"gender-select",id:"gender-select"},React.createElement("option",{value:"m"},"Male"),React.createElement("option",{value:"f"},"Female"),React.createElement("option",{value:"o"},"Other"))),React.createElement("span",{className:"m1"},"Bio"),React.createElement("textarea",{id:"bio",className:"ui-input"},this.props.user.bio),React.createElement("span",{className:"m1"},"Interests"),React.createElement(InterestsEdit,{interests:this.props.user.interests}))}},{key:"render",value:function(){return"default"==this.state.tab?html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"EDIT YOUR PROFILE",React.createElement("br",null),React.createElement("br",null),this.body(),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.save.bind(this),className:"ui-button"},"Save"))):"error"==this.state.tab&&(html=React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},"FAILED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"we couldn't update your profile"),React.createElement(BR,null),React.createElement("div",{style:{fontWeight:"normal",fontSize:"16px"}},"Make sure your display name is under 16 characters and that your bio is under 1,000 characters."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.restart.bind(this),className:"ui-button"},"Retry")))),html}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},SignUpClient=null,SignUp=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default"},SignUpClient=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.key_down.bind(this)),this.captcha()}},{key:"componentDidUpdate",value:function(){"default"==this.state.tab&&(grecaptcha.reset(),this.captcha())}},{key:"captcha",value:function(){}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"key_down",value:function(e){13==e.keyCode&&this.signup()}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"signup",value:function(){this.setState({tab:"loading"});var e=$.param({user:{token:$('meta[name="csrf-token"]').attr("content"),username:document.getElementById("username").value,email:document.getElementById("email").value,password:document.getElementById("password").value,captcha:grecaptcha.getResponse()}});$.ajax({type:"GET",url:"create_user?"+e,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",e.token)},success:function(e){console.log(e),"success"==e.status?window.location="/":this.setState({tab:"failed"})}.bind(this)})}},{key:"signup_temp",value:function(){this.setState({tab:"loading"});var e=$.param({token:$('meta[name="csrf-token"]').attr("content"),captcha:grecaptcha.getResponse()});$.ajax({type:"GET",url:"create_user_temp?"+e,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",e.token)},error:function(){AppLoaderClient.setState({tab:"error"})},success:function(e){console.log(e),"success"==e.status?window.location="/":this.setState({tab:"failed"})}.bind(this)})}},{key:"signup_form",value:function(){element=React.createElement(MenuMicro,null,React.createElement(t,null)),ReactDOM.render(element,document.getElementById("notification-menu"))}},{key:"body",value:function(){return React.createElement("div",null,"SIGN UP",React.createElement("div",{className:"m1"},"username"),React.createElement("input",{id:"username",className:"ui-input"}),React.createElement("div",{className:"m1"},"email"),React.createElement("input",{id:"email",className:"ui-input"}),React.createElement("div",{className:"m1"},"password"),React.createElement("input",{id:"password",type:"password",className:"ui-input"}),React.createElement("div",{style:{marginTop:"8px"},className:"notification-menu-container-text"},'By checking "I\'m not a robot" and clicking "Sign Up" you agree to the',React.createElement("a",{href:"/terms.txt",target:"_blank",className:"link"}," Terms and Conditions ")," and our ",React.createElement("a",{href:"/privacy.txt",target:"_blank",className:"link"}," Privacy and Cookie Policy")),React.createElement("div",{style:{marginTop:"16px"},id:"login-captcha-hatch"}),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.signup.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Sign Up")))}},{key:"loading",value:function(){return React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't create your account. Make sure you have submitted a",React.createElement(BR,null),React.createElement(BR,null),"* Username with a minimum of 3 characters only containing letters and numbers",React.createElement(BR,null),React.createElement(BR,null),"* Valid Email Address",React.createElement(BR,null),React.createElement(BR,null),"* Password with a minimum of 6 characters",React.createElement(BR,null),React.createElement(BR,null),"* Filled in the captcha",React.createElement(BR,null)),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"render",value:function(){return"default"==this.state.tab?body=this.body():"loading"==this.state.tab?body=this.loading():body=this.fail(),null}}]),t}(React.Component);$(document).on("click","[data-signup]",function(){ReactDOM.render(React.createElement(SignUp,null),document.getElementById("notification-menu")),SignUpClient.signup_temp(),ReactDOM.render(React.createElement(AppLoader),document.getElementById("body"))});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},UpgradeClient={form:function(){element=React.createElement(MenuMicro,null,React.createElement(UpgradeAccount,null)),ReactDOM.render(element,document.getElementById("notification-menu"))}},UpgradeAccount=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={tab:"default",captcha_response:""}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.key_down.bind(this)),this.captcha()}},{key:"componentDidUpdate",value:function(){"default"==this.state.tab&&this.captcha()}},{key:"captcha",value:function(){setTimeout(function(){grecaptcha.render("login-captcha-hatch",{sitekey:rpk,theme:"light",callback:function(e){console.log(e),this.setState({captcha_response:e})}.bind(this)})}.bind(this),100)}},{key:"close",value:function(){MenuReactMicro.close()}},{key:"key_down",value:function(e){13==e.keyCode&&this.signup()}},{key:"retry",value:function(){this.setState({tab:"default"})}},{key:"upgrade",value:function(){this.setState({tab:"loading"});var e=$.param({user:{token:$('meta[name="csrf-token"]').attr("content"),username:document.getElementById("username").value,email:document.getElementById("email").value,password:document.getElementById("password").value,captcha:this.state.captcha_response}});$.ajax({type:"GET",url:"upgrade_temp_user?"+e,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",e.token)},success:function(e){console.log(e),"success"==e.status?($.ajax({type:"GET",url:"/current_user_json",dataType:"json",success:function(e){App.user=e}.bind(this)}),this.close(),component=React.createElement(MenuMicro,null,React.createElement(GoldBuy,null),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2"))):this.setState({tab:"failed"})}.bind(this)})}},{key:"body",value:function(){return React.createElement("div",null,"SIGN UP TO CONTINUE",React.createElement("div",{style:{marginTop:"8px"},className:"notification-menu-container-text2"},"Thanks for choosing Emerald. We've detected you're using a temporary account. To access all of our features we need you to enter in a username, email and password so you can use this account in the future."),React.createElement(BR,null),React.createElement("div",{className:"m1"},"username"),React.createElement("input",{id:"username",className:"ui-input"}),React.createElement("div",{className:"m1"},"email"),React.createElement("input",{id:"email",className:"ui-input"}),React.createElement("div",{className:"m1"},"password"),React.createElement("input",{id:"password",type:"password",className:"ui-input"}),React.createElement("div",{style:{marginTop:"16px"},id:"login-captcha-hatch"}),React.createElement("div",{style:{marginTop:"8px"},className:"notification-menu-container-text"},'By checking "I\'m not a robot" and clicking "Sign Up" you agree to the',React.createElement("a",{href:"/terms.txt",target:"_blank",className:"link"}," Terms and Conditions ")," and our ",React.createElement("a",{href:"/privacy.txt",target:"_blank",className:"link"}," Privacy and Cookie Policy")),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.upgrade.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Sign Up")))}},{key:"loading",value:function(){return React.createElement("div",{className:"line-scale-pulse-out-rapid2"},React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null),React.createElement("div",null))}},{key:"fail",value:function(){return React.createElement("div",null,"OOPS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"that didn't work"),React.createElement("div",{className:"notification-menu-container-text"},"We couldn't create your account. Make sure you have submitted a",React.createElement(BR,null),React.createElement(BR,null),"* Username with a minimum of 3 characters only containing letters and numbers",React.createElement(BR,null),React.createElement(BR,null),"* Valid Email Address",React.createElement(BR,null),React.createElement(BR,null),"* Password with a minimum of 6 characters",React.createElement(BR,null),React.createElement(BR,null),"* Filled in the captcha",React.createElement(BR,null)),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close"),React.createElement("div",{onMouseDown:this.retry.bind(this),style:{fontWeight:"600"},className:"ui-button"},"Retry")))}},{key:"success",value:function(){return React.createElement("div",null,"SUCCESS",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"account created successfully"),React.createElement("div",{className:"notification-menu-container-text"},"Congratulations, you're now all signed up. Log in using your email address and password to access this account again."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-text"},"Close")))}},{key:"render",value:function(){return"default"==this.state.tab?body=this.body():"loading"==this.state.tab?body=this.loading():"success"==this.state.tab?body=this.success():body=this.fail(),React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},body)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}};UserProfileReact=null;var UserProfile=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={data:null,tab:"feed",compact_bio:!0,pic_upload_requested:!1},UserProfileReact=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){$.ajax({type:"GET",url:"/profile_json?id="+this.props.id,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this)})}},{key:"privacy_check",value:function(){return user=this.state.data.user,current_user=this.state.data.current_user,user.id==current_user.id||!!this.state.data.friend}},{key:"switch",value:function(e){$.ajax({type:"GET",url:"/profile_json?id="+e,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this)})}},{key:"close",value:function(){$(".ui-bg").removeClass("animated fadeIn"),$(".ui-bg").addClass("animated fadeOut"),$(".user-profile-menu").addClass("animated zoomOut"),setTimeout(function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode),UserProfileReact=null}.bind(this),250)}},{key:"load",value:function(e){this.setState({data:null}),$.ajax({type:"GET",url:"/profile_json?id="+e,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}.bind(this)})}},{key:"bio_expand",value:function(){this.setState({compact_bio:!1})}},{key:"bio",value:function(){if(this.state.compact_bio&&this.state.data.user.bio.length>202)var e=this.state.data.user.bio.substr(0,202)+"...",t=React.createElement("span",{onMouseDown:this.bio_expand.bind(this),style:{color:"#00abf3",fontWeight:"bold",cursor:"pointer"}}," Show more");else var e=this.state.data.user.bio,t=null;return React.createElement("span",null,e,t)}},{key:"subscribe",value:function(){data=this.state.data,data.subscribed=!0,this.setState({data:data}),$.ajax({type:"GET",url:"/user_subscribe?id="+this.state.data.user.id,dataType:"json"})}},{key:"unsubscribe",value:function(){data=this.state.data,data.subscribed=!1,this.setState({data:data}),$.ajax({type:"GET",url:"/user_unsubscribe?id="+this.state.data.user.id,dataType:"json"})}},{key:"settings_profile",value:function(){element=React.createElement(MenuMicro,null,React.createElement(SettingsProfile,{user:this.state.data.user})),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"friend_settings",value:function(){element=React.createElement(MenuMicro,null,React.createElement(FriendsSettings,{id:this.state.data.user.id})),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"open_profile_menu",value:function(){element=React.createElement(MenuMicro,null,React.createElement(UserProfileMenu,{parent:this})),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}},{key:"send_friend_request",value:function(){$.ajax({type:"GET",url:"/friend_create?friend_id="+this.state.data.user.id,dataType:"json"}),data=this.state.data,data.friend_request_sent=!0,this.setState({data:data})}},{key:"online_icon",value:function(){return this.state.data.user.online?React.createElement("div",{className:"user-online-icon user-online-icon-profile"}):React.createElement("div",{className:"user-offline-icon user-online-icon-profile"})}},{key:"update_profile_picture",value:function(){element=React.createElement(MenuMicro,null,React.createElement(PictureUpload,null)),ReactDOM.render(element,document.getElementById("ui-hatch-2")),PictureUploader.onUploaded=function(e){this.setState({pic_upload_requested:!0}),i=e.id,$.ajax({type:"GET",url:"/set_display_picture?id="+i,dataType:"json",success:function(e){UserProfileReact.load(this.props.id),MenuReactMicro.close(),App.user.display_picture=e.url}.bind(this)})}.bind(this)}},{key:"profile_picture",value:function(){return this.state.data.user.id==this.state.data.current_user.id&&this.state.data.user.gold?React.createElement("span",null,React.createElement("img",{onMouseDown:this.update_profile_picture.bind(this),className:"user-profile-avatar",src:this.state.data.user.display_picture}),React.createElement("div",{onMouseDown:this.update_profile_picture.bind(this),className:"user-profile-picture-hover"},React.createElement("span",{style:{fontSize:"36px"},className:"material-icons"},"cloud_upload"))):(open_picture=function(){element=React.createElement(Picture,{data:{src:this.state.data.user.display_picture}}),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}.bind(this),React.createElement("img",{onMouseDown:open_picture,className:"user-profile-avatar",src:this.state.data.user.display_picture}))}},{key:"profile_settings",value:function(){return React.createElement("div",{style:{position:"absolute",right:"15px"}},React.createElement("div",{onMouseDown:this.open_profile_menu.bind(this),className:"material-icons user-profile-more"},"more_vert"))}},{key:"profile_buttons",value:function(){var e=null,t=null,n=null,r=null;return this.state.data.friend&&(n=React.createElement("div",{onMouseDown:this.friend_settings.bind(this),className:"ui-button-micro"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"check")," Friends")),this.state.data.user.id==this.state.data.current_user.id?t=React.createElement("div",{onMouseDown:this.settings_profile.bind(this),className:"ui-button-micro"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"settings"),"Edit Profile"):this.state.data.friend||(e=this.state.data.friend_request_sent?React.createElement("div",{className:"ui-button-micro"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"check")," Friend Request Sent"):React.createElement("div",{onMouseDown:this.send_friend_request.bind(this),className:"ui-button-micro"}," ",React.createElement("span",{className:"ui-button-mega-icon material-icons"},"add")," Send Friend Request")),this.state.data.friend&&(r=this.state.data.subscribed?React.createElement("div",{onMouseDown:this.unsubscribe.bind(this),className:"ui-button-micro"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"notifications_active")," Subscribed"):React.createElement("div",{onMouseDown:this.subscribe.bind(this),className:"ui-button-micro"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"notifications_off")," Unsubscribed")),React.createElement("div",null,e,t,n,r)}},{key:"tabs",value:function(){return feed=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="feed"),className:"user-profile-tab"},"Feed"),info=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="info"),className:"user-profile-tab"},"Info"),pictures=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="pictures"),className:"user-profile-tab"},"Pictures"),"feed"==this.state.tab?feed=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="feed"),className:"user-profile-tab user-profile-tab-active"},"Feed"):"info"==this.state.tab?info=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="feed"),className:"user-profile-tab user-profile-tab-active"},"Info"):"pictures"==this.state.tab&&(pictures=React.createElement("div",{onMouseDown:this.switch_tab.bind(this,tab="feed"),className:"user-profile-tab user-profile-tab-active"},"Pictures")),React.createElement("div",null,feed,info,pictures)}},{key:"pic_upload_notification",value:function(){if(this.state.pic_upload_requested)return React.createElement("div",{className:"emerald-jumbotron-message",style:{marginBottom:"10px"}},React.createElement("span",null,"Your profile picture is being checked by the Emerald team. This can take some time."),React.createElement("span",{onClick:this.close_pic_upload_notification.bind(this),className:"material-icons"},"close"))}},{key:"close_pic_upload_notification",value:function(){this.setState({pic_upload_requested:!1})}},{key:"top",value:function(){return React.createElement("div",{className:"user-profile-top"},this.profile_settings(),React.createElement("div",{className:"user-profile-top-left"},React.createElement("div",{className:"user-profile-picture-wrapper"},this.profile_picture(),this.online_icon())),React.createElement("div",{className:"user-profile-top-right"},React.createElement("div",{className:"user-profile-header"},React.createElement(Flair,{data:{string:this.state.data.user.display_name,flair:this.state.data.user.flair}})),React.createElement("div",{className:"user-profile-sub"},"#",this.state.data.user.username),this.profile_buttons(),React.createElement("div",{className:"user-profile-tabs"},this.tabs())))}},{key:"switch_tab",value:function(e){this.setState({tab:e})}},{key:"locked",value:function(){return React.createElement("div",{style:{textAlign:"center"}},React.createElement(BR,null),React.createElement("div",{className:"material-icons"},"lock"),React.createElement(BR,null),React.createElement(BR,null),"You need to be friends with ",this.state.data.user.display_name," to view their profile.")}},{key:"feed",value:function(){return React.createElement(Microposts,{key:this.state.data.user.id,data:{wall_id:this.state.data.wall_id}})}},{key:"info",value:function(){return interests=null,this.state.data.user.interests.length>0&&(interests=React.createElement("div",null,React.createElement("div",{className:"user-profile-seperator"}),React.createElement("div",{className:"m2"},"INTERESTS"),this.state.data.user.interests.map(function(e){return React.createElement("div",{className:"user-profile-interest user-profile-interest-block"},e.name)}))),React.createElement("div",{className:"user-profile-info"},React.createElement("div",{style:{marginTop:"0px"},className:"user-profile-seperator"}),React.createElement("div",{className:"m2"},"Bio"),React.createElement("div",{className:""},this.bio()),interests,React.createElement("div",{className:"user-profile-seperator"}),React.createElement("div",{className:"m2"},"EMERALD MEMBER FOR"),React.createElement("div",null,jQuery.timeago(new Date(this.state.data.user.created_at))))}},{key:"pictures",value:function(){return React.createElement(PictureAlbum,{data:{id:this.state.data.user.id,current_user:this.state.data.current_user}})}},{key:"bottom",value:function(){return this.privacy_check()?"feed"==this.state.tab?body=this.feed():"info"==this.state.tab?body=this.info():"pictures"==this.state.tab&&(body=this.pictures()):body=this.locked(),React.createElement("div",{className:"user-profile-bottom"},body)}},{key:"render",value:function(){return this.state.data?React.createElement("div",{className:"ui-menu-container"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"animated fadeIn ui-bg"}),React.createElement("div",{className:"animated zoomIn user-profile-menu"},this.top(),this.pic_upload_notification(),this.bottom())):React.createElement("div",{className:"ui-menu-container"},React.createElement("div",{onMouseDown:this.close.bind(this),className:"animated fadeIn ui-bg"}),React.createElement("div",{className:"animated zoomIn user-profile-menu"}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},UserProfileMenu=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={}}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){UserProfileReact.close(),MenuReactMicro.close()}},{key:"exit",value:function(){MenuReactMicro.close()}},{key:"message_user",value:function(){this.close(),ReactDOM.render(React.createElement(Room,{data:{id:this.props.parent.state.data.room_id,mode:"private"}}),document.getElementById("container"))}},{key:"message",value:function(){return this.props.parent.state.data.friend?React.createElement("div",{onMouseDown:this.message_user.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"email"),"Message"):null}},{key:"render",value:function(){return React.createElement("div",{key:"notification_menu",className:"notification-menu-container"},this.message(),React.createElement("div",{onMouseDown:this.close.bind(this),className:"ui-button-mega"},React.createElement("span",{className:"ui-button-mega-icon material-icons"},"close"),"Close Profile"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:this.exit,className:"ui-button-text"},"Back")))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},UserUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"body",value:function(){return React.createElement("div",{className:"notification-unit-body"},React.createElement("img",{className:"navigation-notification-unit-image",src:this.props.data.display_picture}),React.createElement(Flair,{data:{string:this.props.data.display_name,flair:this.props.data.flair}}))}},{key:"render",value:function(){var e=this;return React.createElement("div",{onMouseDown:function(t){return UserViewGenerator.generate({event:t,user:e.props.data})},style:{marginTop:"5px"},className:"room-user-unit"},this.body())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},UserViewGenerator={generate:function(e){e.event.preventDefault();var t=e.event.clientX,n=e.event.clientY,r=React.createElement(UserView,{data:{x:t,y:n,user:e.user}});ReactDOM.render(r,document.getElementById("ui-hatch-3")),UserViewReact&&UserViewReact["switch"](e.user)}},UserView=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={karma:this.props.data.user.karma,karma_award:0,user:this.props.data.user,x:0,y:0,muted:this.is_muted(this.props.data.user.id)},this.exit_click=this.exit_click.bind(this),UserViewReact=this}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.exit_click,!0),this.position();var e=this.state.user.id;if(App.karma.awards["user"+e]){var t=parseInt(this.props.data.user.karma)+parseInt(App.karma.awards["user"+e]);setTimeout(function(){this.setState({karma_award:App.karma.awards["user"+e],karma:t})}.bind(this),0)}}},{key:"is_muted",value:function(e){return-1!=App.room.muted.indexOf(e)}},{key:"position",value:function(){var e=277,t=240,n=this.props.data.x+20,r=this.props.data.y-125,a=window.innerWidth,i=window.innerHeight;n>=a/2&&(n=n-t-40),r<52&&(r=52),r+e>i&&(r=i-e),n<0&&(n=0),n+t>a&&(n=a-t),this.setState({x:n,y:r})}},{key:"switch",value:function(e){this.setState({user:e,karma:e.karma})}},{key:"exit_click",value:function(e){(e.clientX>this.state.x+240||e.clientX<this.state.x||e.clientY>this.state.y+300||e.clientY<this.state.y)&&this.close()}},{key:"close",value:function(){document.removeEventListener("mousedown",this.exit_click,!0),ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)}},{key:"mod_panel",value:function(){element=React.createElement(MenuMicro,null,React.createElement(ModPanel,{id:this.state.user.id})),ReactDOM.render(element,document.getElementById("ui-hatch-2")),this.close()}},{key:"message",value:function(){$.ajax({type:"GET",url:"/message_user?id="+this.state.user.id,dataType:"json",success:function(e){e?(this.close(),MenuReactMicro&&MenuReactMicro.close(),MenuReact&&MenuReact.close(),UserProfileReact&&UserProfileReact.close(),RoomGenerator.generate({id:e.room_id,mode:"private"})):(this.close(),component=React.createElement(MenuMicro,null,"MESSAGE",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"you need to be friends to message this user"),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2")))}.bind(this)})}},{key:"karma_give",value:function(){App.karma.awards["user"+this.state.user.id]=1,this.setState({karma_award:1,karma:this.state.karma+1}),$.ajax({type:"GET",url:"/karma_give?id="+this.state.user.id+"&polarity=1",dataType:"json"})}},{key:"karma_take",value:function(){App.karma.awards["user"+this.state.user.id]=-1,this.setState({karma_award:-1,karma:this.state.karma-1}),$.ajax({type:"GET",url:"/karma_give?id="+this.state.user.id+"&polarity=-1",dataType:"json"})}},{key:"mute",value:function(){App.room.mute(this.state.user.id),this.setState({muted:!0}),element=React.createElement(MenuMicro,null,"MUTED",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"you have muted this user."),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close")))}},{key:"unmute",value:function(){App.room.unmute(this.state.user.id),this.setState({muted:!1})}},{key:"view_profile",value:function(){UserProfileReact?(UserProfileReact["switch"](this.state.user.id),ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)):(ReactDOM.render(React.createElement(UserProfile,{key:this.state.user.id,id:this.state.user.id}),document.getElementById("ui-hatch")),ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode))}},{key:"mod_button",value:function(){return App.user.mod||App.user.master?React.createElement("div",{onMouseDown:this.mod_panel.bind(this),className:"user-profile-micro-button"},"Mod"):null}},{key:"karma_buttons",value:function(){var e=null,t=null;return 1==this.state.karma_award?e={color:"#6b9eff",pointerEvents:"none"}:-1==this.state.karma_award&&(t={color:"#6b9eff",pointerEvents:"none"}),React.createElement("div",{className:"user-profile-micro-top-left"},React.createElement("div",{onMouseDown:this.karma_give.bind(this),style:e,className:"material-icons karma-button"},"arrow_drop_up"),React.createElement("div",{className:"karma-value"},this.state.karma),React.createElement("div",{onMouseDown:this.karma_take.bind(this),style:t,className:"material-icons karma-button"},"arrow_drop_down"))}},{key:"top",value:function(){if(this.state.user.online)var e=React.createElement("div",{className:"user-online-icon-micro"});else var e=React.createElement("div",{className:"user-offline-icon-micro"});return picture=this.state.user.display_picture,open_picture=function(){element=React.createElement(Picture,{data:{src:picture}}),ReactDOM.render(element,document.getElementById("ui-hatch-2"))}.bind(this),profile_picture=React.createElement("img",{onMouseDown:open_picture,src:picture,className:"user-profile-micro-avatar",style:{width:"100px",height:"100px"}}),React.createElement("div",{className:"user-profile-micro-top"},React.createElement("div",{className:"user-profile-micro-top-container"
},this.karma_buttons(),React.createElement("div",{className:"user-profile-micro-top-center"},React.createElement("div",{id:"display-picture",className:"avatar-holder",style:{height:"auto"}},profile_picture,e))),React.createElement("div",{className:"user-profile-micro-flair"},this.state.user.display_name," ",React.createElement("span",{className:"user-profile-micro-username"},"#",this.state.user.username)))}},{key:"middle",value:function(){return karma=App.karma.get(this.state.karma),React.createElement("div",{className:"user-profile-micro-middle"},React.createElement("div",{className:"user-profile-micro-module-label"},React.createElement("div",{className:"material-icons karma-icon"},"flag"),React.createElement("div",{className:"karma-label"},"level ",karma.level)),React.createElement("div",{className:"user-profile-micro-module"},React.createElement("div",{style:karma.style,className:"karma-rank"},karma.rank)))}},{key:"report_user",value:function(){var e=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"POST",url:"report?user_id="+this.state.user.id,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",e)},success:function(e){1==e.reported&&(this.close(),component=React.createElement(MenuMicro,null,"MESSAGE",React.createElement(BR,null),React.createElement(BR,null),React.createElement("div",{className:"m1"},"Reported "),React.createElement("div",{className:"ui-menu-buttons"},React.createElement("div",{onMouseDown:function(){MenuReactMicro.close()},className:"ui-button-text"},"Close"))),ReactDOM.render(component,document.getElementById("ui-hatch-2")))}.bind(this)})}},{key:"is_user_reported",value:function(e){var t=this,n=$('meta[name="csrf-token"]').attr("content");$.ajax({type:"GET",url:"is_user_reported?user_id="+e,dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",n)},success:function(e){t.setState({reported:e.reported})}})}},{key:"bottom",value:function(){var e=null,t=null;return e=-1!=App.room.muted.indexOf(this.state.user.id)?React.createElement("div",{onMouseDown:this.unmute.bind(this),className:"user-profile-micro-button"},"Unmute"):React.createElement("div",{onMouseDown:this.mute.bind(this),className:"user-profile-micro-button"},"Mute"),t=React.createElement("div",{onMouseDown:this.report_user.bind(this),className:"user-profile-micro-button"},"Report"),React.createElement("div",{className:"user-profile-micro-bottom"},React.createElement("div",{onMouseDown:this.view_profile.bind(this),className:"user-profile-micro-button"},"View Profile"),React.createElement("div",{onMouseDown:this.message.bind(this),className:"user-profile-micro-button"},"Message"),t,this.mod_button(),e,React.createElement("div",{onMouseDown:this.close.bind(this),className:"user-profile-micro-button"},"Close"))}},{key:"render",value:function(){return React.createElement("div",{key:this.state.user.id,style:{left:this.state.x,top:this.state.y},className:"user-profile-micro animate-micro-menu"},this.top(),this.middle(),this.bottom())}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},GAUnits={served:0,limit:3},AdDragon=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){GAUnits.served++}},{key:"render",value:function(){if(GAUnits.served>GAUnits.limit)return null;if(App.user.gold)return null;var e=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.props.id),t="dragon_unit_"+e,n=Math.floor(1e5*Math.random()+1),r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://ads.addragon.com/ad_units/"+e+"?r="+parseInt(n);var a=document.body;return a&&a.appendChild(r),React.createElement("div",{id:t,style:this.props.style})}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},GAUnits={served:0,limit:3},GA=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){GAUnits.served<GAUnits.limit&&!App.user.gold&&(window.adsbygoogle=window.adsbygoogle||[]).push({}),GAUnits.served++}},{key:"render",value:function(){window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return GAUnits.served>=GAUnits.limit?null:App.user.gold?null:React.createElement("div",{style:{maxHeight:"400px"}},React.createElement("ins",{"data-def":!0,className:"adsbygoogle",style:this.props.style,"data-ad-client":this.props.client,"data-ad-slot":this.props.slot,"data-ad-layout":this.props.layout,"data-ad-format":this.props.format}))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},VideoModeration=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={video_moderations:[]},this["delete"]=this["delete"].bind(this),this.bulk_delete=this.bulk_delete.bind(this)}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this.fetch_data()}},{key:"fetch_data",value:function(){$.ajax({type:"GET",url:"/video_moderations",dataType:"json",success:function(e){state={video_moderations:e},this.setState(state)}.bind(this)})}},{key:"delete",value:function(e){$.ajax({type:"DELETE",url:"/video_moderations/"+e,dataType:"json",success:function(){state={video_moderations:this.state.video_moderations.filter(function(t){return t.id!=e})},this.setState(state)}.bind(this)})}},{key:"bulk_delete",value:function(e){$.ajax({type:"DELETE",url:"/video_moderations/bulk_delete?all="+e,dataType:"json",success:function(){e?this.setState({video_moderations:[]}):this.fetch_data()}.bind(this)})}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"dashboard-background"},React.createElement("div",{className:"dashboard-container"},React.createElement("div",{className:"meet-cards-container video-moderation"},React.createElement("div",{className:"video-moderation-controls-container"},React.createElement("button",{className:"ui-button-match-mega gold-button",onClick:function(){return e.bulk_delete(!1)}},"Delete 100"),React.createElement("button",{className:"ui-button-match-mega red-button",onClick:function(){return e.bulk_delete(!0)}},"Delete All")),React.createElement("div",null,this.state.video_moderations.map(function(t){return React.createElement(VideoModerationUnit,{key:"video_moderation"+t.id,data:t,"delete":e["delete"]})})))))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(s!==undefined){if("value"in s)return s.value;var c=s.get;return c===undefined?undefined:c.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return undefined;e=l,t=i,n=o,r=!0,s=l=undefined}},VideoModerationUnit=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this["delete"]=this["delete"].bind(this)}return _inherits(t,e),_createClass(t,[{key:"delete",value:function(){this.props["delete"](this.props.data.id)}},{key:"render",value:function(){return data=this.props.data,React.createElement("div",{className:"dashboard-button animated",style:{paddingTop:"30px"}},React.createElement("img",{src:data.image_url}),React.createElement("h2",null,data.display_name+"("+data.username+")"),React.createElement("button",{className:"ui-button-match-mega gold-button",onClick:this["delete"]},"Delete"))}}]),t}(React.Component);(function(){App.generic={muted:!1,params:function(){var e,t,n,r,a,i,o,s,c;for(a=window.location.search.substring(1),i=a.split("&"),r={},e=0,n=i.length;e<n;e++)s=i[e],o=s.split("="),t=o[0],c=o[1],r[t]=decodeURIComponent(c);return r},escape_html:function(e){var t;return t=document.createElement("div"),$(t).text(e).html()},subscribed:function(e){var t;for(t in App.cable.subscriptions.subscriptions)if(App.cable.subscriptions.subscriptions[t].identifier.includes(e))return!0;return!1},audio:function(e,t){var n;if(!App.generic.muted)return n=new Audio(e),n.volume=t,n.play()},shorten_number:function(e){var t;return e>=1e9?(t=e/1e9,Math.round(10*t)/10+"bn"):e>=1e6?(t=e/1e6,Math.round(10*t)/10+"m"):e>=1e3?(t=e/1e3,Math.round(10*t)/10+"k"):e}},$(document).ready(function(){setTimeout(function(){$(".fadeout").fadeTo(1e3,0)},4e3),$(".slideanim2").each(function(){$(this).offset().top,$(this).addClass("slide")}),$(window).scroll(function(){$(".slideanim").each(function(){var e,t;e=$(this).offset().top,t=$(window).scrollTop(),e<t+600&&$(this).addClass("slide")})})}),$(document).on("click","[data-behavior=expand-text]",function(){var e;return e=$(this).closest(".hidden-text"),$(e).removeClass("hidden-text")}),window.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"===e?t:3&t|8,n.toString(16)})}).call(this),function(){App.hamburger={enabled:!0,mousedown:!1,reset:function(){return App.hamburger.toggle(),App.hamburger.toggle()},toggle:function(){if(App.hamburger.enabled=!App.hamburger.enabled,!0===App.hamburger.enabled&&App.hamburger.on(),!1===App.hamburger.enabled)return App.hamburger.off()},on:function(){return $("#side-panel-hatch").addClass("animated slideOutLeft"),$("#hamburger").attr("style",""),App.hamburger.enabled=!0},off:function(){return $("#side-panel-hatch").removeClass("animated slideOutLeft"),$("#side-panel-hatch").addClass("animated slideInLeft"),!(App.hamburger.enabled=!1)}},$(document).on("mousedown","#hamburger",function(){return App.hamburger.toggle(),$("#side-panel-hatch").show()}),$(document).on("mousedown",function(e){if(!App.hamburger.enabled&&"hamburger"!==$(e.target).attr("id"))return App.hamburger.on()})}.call(this),function(){App.karma={awards:{},data:[{range:[-30,-9999],rank:"super villain",style:{background:"#94a5c6",color:"#000"}},{range:[-20,-30],rank:"villain",style:{background:"#c9cfdb",color:"#666b77"}},{range:[-10,-20],rank:"rogue",style:{background:"#ffc6c6",color:"#f03f3f"}},{range:[0,-10],rank:"new",style:{background:"#bef6c9",color:"#2ec53d"}},{range:[0,10],rank:"new",style:{background:"#bef6c9",color:"#2ec53d"}},{range:[10,20],rank:"initiate",style:{background:"#cde7ff",color:"#4699e8"}},{range:[20,30],rank:"citizen",style:{background:"#b7f0ff",color:"#00a9d6"}},{range:[30,40],rank:"popular",style:{color:"#d040ff",background:"#f5d6ff"}},{range:[40,60],rank:"rising star",style:{color:"#7acd03",background:"#d6ff9a"}},{range:[60,80],rank:"celebrity",style:{color:"#ea41d1",background:"#ffc9f7"}},{range:[80,100],rank:"a-lister",style:{color:"#4198ea",background:"#c9eaff"}},{range:[100,120],rank:"superstar",style:{color:"#ff5ca3",background:"#ffcdde"}},{range:[120,140],rank:"hero",style:{background:"#d7d1ff",color:"#7c67ff"}},{range:[140,160],rank:"legend",style:{background:"#d1d6ff",color:"#475aff"}},{range:[160,180],rank:"myth",style:{background:"#ededed",color:"#b9b9b9"}},{range:[180,200],rank:"super hero",style:{color:"#e32dff",background:"#f7c3ff"}},{range:[200,250],rank:"cadet",style:{color:"#ff4747",background:"#ffcdcd"}},{range:[250,300],rank:"officer",style:{color:"#466bff",background:"#cdd7ff"}},{range:[300,350],rank:"captain",style:{color:"#479dff",background:"#cdebff"}},{range:[350,400],rank:"chief",style:{background:"#ededed",color:"#b9b9b9"}},{range:[400,450],rank:"general",style:{color:"#0a9a0b",background:"#95e396"}},{range:[450,500],rank:"admiral of the fleet",style:{color:"#466bff",background:"#cdd7ff"}},{range:[500,550],rank:"royalty",style:{background:"#d7d1ff",color:"#7c67ff"}},{range:[550,600],rank:"emperor",style:{color:"#0dcb68",background:"#c3ffe0"}},{range:[600,650],rank:"overlord",style:{color:"#e32dff",background:"#f7c3ff"}},{range:[650,700],rank:"magician",style:{color:"#666b77",background:"#c9cfdb"}},{range:[700,750],rank:"wizard",style:{color:"#4665e8",background:"#cde7ff"}},{range:[750,800],rank:"demigod",style:{color:"#57bfea",background:"#ddf5ff"}},{range:[800,900],rank:"intergalatic royalty",style:{background:"#c9cfdb",color:"#666b77"}},{range:[900,1e3],rank:"trancendental overlord",style:{background:"#ededed",color:"#b9b9b9"}},{range:[1e3,1200],rank:"cosmic magician",style:{color:"#8577de",background:"#d7d1ff"}},{range:[1200,1400],rank:"galactic wizard",style:{background:"#c9cfdb",color:"#666b77"}},{range:[1400,1600],rank:"cosmic demigod",style:{background:"#ededed",color:"#b9b9b9"}},{range:[1600,1800],rank:"grand master wizard",style:{color:"#e32dff",background:"#f7c3ff"}},{range:[1800,2e3],rank:"lord of time",style:{color:"#466bff",background:"#cdd7ff"}},{range:[2e3,2500],rank:"grand cosmic trancendental royalty",style:{color:"#7d43ff",background:"#d5c2ff"}},{range:[2500,3e3],rank:"emperor of the universe",style:{color:"#0a9a0b",background:"#95e396"}},{range:[3e3,4e3],rank:"master of time and space",style:{background:"#d1d6ff",color:"#475aff"}},{range:[4e3,9999999999999],rank:"grand master of the universe",style:{background:"#c9cfdb",color:"#666b77"}}],get:function(e){var t,n,r,a,i,o,s,c,l;for(l=this.data,n=o=0,s=l.length;o<s;n=++o)if(t=l[n],i=t,a=i.range[0],r=i.range[1],c=Math.abs(e/1e3*100),e>=0){if(e>=a&&e<r)return i.level=Math.round(c),i}else if(e<0&&e<=a&&e>r)return i.level=Math.round(c),i}}}.call(this);var Nsfw={live_endpoint:"/nsfw",get:function(){var e=document.getElementById("remoteVideos").children[0],t=document.createElement("canvas");if(e){t.height=150,t.width=150;t.getContext("2d").drawImage(e,0,0,t.width,t.height);return(new Image).src=t.toDataURL(),t.toDataURL().split(",")[1]}},check:function(){var e=Nsfw.get(),t=document.getElementById("matched-message");if(e&&t){var n=this.b64toBlob(e,null,null),r=new FormData;r.append("image",n),r.append("user_id",t.getAttribute("data-matched-id"));var a=new XMLHttpRequest;a.open("POST",this.live_endpoint),a.send(r),a.onreadystatechange=function(){a.readyState}}},b64toBlob:function(e,t,n){t=t||"",n=n||512;for(var r=atob(e),a=[],i=0;i<r.length;i+=n){for(var o=r.slice(i,i+n),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o.charCodeAt(c);var l=new Uint8Array(s);a.push(l)}return new Blob(a,{type:t})}},moderationEnabled=document.head.querySelector("meta[name=video-moderation]").content;setInterval(function(){moderationEnabled&&Nsfw.check()},12e4),function(){App.params={}}.call(this),function(){App.promises={}}.call(this);var PushNotifications={idle:function(){return document.hidden},send:function(e,t){if(!App.user.settings||App.user.settings.push_notifications){var t={title:e,body:t.body,silent:!0,icon:t.icon};App.serviceWorker.showNotification(e,t)}},subscribe:function(){return navigator.serviceWorker.register("service-worker.js").then(function(e){const t={userVisibleOnly:!0,applicationServerKey:urlBase64ToUint8Array("AAAAq_2_Zfw:APA91bFcthUCTz3t55R3X1LS3cqoKJRgk9l87ccF5LV2TG63GgMrngcUgWspqJbUwFmHnuvoBylQjV7AGYwRlJGh3IsrozhMIUXWNdy2yr0eUtxvjbzlvCUC92MnkNkpsj03TLg0Fx5J")};return e.pushManager.subscribe(t)}).then(function(e){return console.log("Received PushSubscription: ",JSON.stringify(e)),e})},request_permissions:function(){return new Promise(function(e,t){const n=Notification.requestPermission(function(t){e(t)});n&&n.then(e,t)}).then(function(e){if("granted"!==e)throw new Error("We weren't granted permission.");console.log("# notification permission granted #")})}};PushNotifications.request_permissions(),App.serviceWorker={},"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){App.serviceWorker=e,console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});var stripe_emerald={public_key:"",emerald_gold_plan:"",emerald_unban_sku:"",hall_of_fame_sku:"",set_stripe_data:function(){$.ajax({type:"GET",url:"/stripe/data",dataType:"json",success:function(e){stripe_emerald.public_key=e.public_key,stripe_emerald.emerald_gold_plan=e.emerald_gold_plan,stripe_emerald.emerald_unban_sku=e.emerald_unban_sku,stripe_emerald.hall_of_fame_sku=e.hall_of_fame_sku}.bind(this)})},buy_emerald_gold:function(){Stripe(stripe_emerald.public_key).redirectToCheckout({items:[{plan:stripe_emerald.emerald_gold_plan,quantity:1}],customerEmail:App.user.email,successUrl:window.location.href,cancelUrl:window.location.href}).then(function(e){e.error&&(document.getElementById("error-message").textContent=e.error.message)})},buy_hall_of_fame:function(){Stripe(stripe_emerald.public_key).redirectToCheckout({items:[{sku:stripe_emerald.hall_of_fame_sku,quantity:1}],customerEmail:App.user.email,successUrl:window.location.href,cancelUrl:window.location.href}).then(function(e){e.error&&(document.getElementById("error-message").textContent=e.error.message)})},buy_unban:function(){Stripe(stripe_emerald.public_key).redirectToCheckout({items:[{sku:stripe_emerald.emerald_unban_sku,quantity:1}],customerEmail:App.user.email,successUrl:window.location.href,cancelUrl:window.location.href}).then(function(e){e.error&&(document.getElementById("error-message").textContent=e.error.message)})}};window.addEventListener("load",function(){stripe_emerald.set_stripe_data()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function t(){var t=i.settings;if(t.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var o=n(this);return isNaN(o.datetime)||(0===t.cutoff||Math.abs(a(o.datetime))<t.cutoff?e(this).text(r(o.datetime)):e(this).attr("title").length>0&&e(this).text(e(this).attr("title"))),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:i.datetime(t)});var n=e.trim(t.text());i.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||i.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function r(e){return i.inWords(a(e))}function a(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return r(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var i=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"from now",inPast:"any moment now",seconds:"Now",minute:"1 min",minutes:"%d min",hour:"1 hr",hours:"%d hrs",day:"1 day",days:"%d days",month:"1 month",months:"%d months",year:"1 year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,a){var i=e.isFunction(n)?n(a,t):n,o=r.numbers&&r.numbers[a]||a;return i.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings,a=r.prefixAgo,i=r.suffixAgo;if(this.settings.allowFuture&&t<0&&(a=r.prefixFromNow,i=r.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var o=Math.abs(t)/1e3,s=o/60,c=s/60,l=c/24,u=l/365,d=o<45&&n(r.seconds,Math.round(o))||o<90&&n(r.minute,1)||s<45&&n(r.minutes,Math.round(s))||s<90&&n(r.hour,1)||c<24&&n(r.hours,Math.round(c))||c<42&&n(r.day,1)||l<30&&n(r.days,Math.round(l))||l<45&&n(r.month,1)||l<365&&n(r.months,Math.round(l/30))||u<1.5&&n(r.year,1)||n(r.years,Math.round(u)),p=r.wordSeparator||"";return r.wordSeparator===undefined&&(p=" "),e.trim([a,d,i].join(p))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=i.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return i.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var o={init:function(){o.dispose.call(this);var n=e.proxy(t,this);n();var r=i.settings;r.refreshMillis>0&&(this._timeagoInterval=setInterval(n,r.refreshMillis))},update:function(n){var r=n instanceof Date?n:i.parse(n);e(this).data("timeago",{datetime:r}),i.settings.localeTitle&&e(this).attr("title",r.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:i.parse(i.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),function(){App.user={},$.ajax({type:"GET",url:"/current_user_json",dataType:"json",success:function(e){if(App.user=e,"m"!==e.gender&&"f"!==e.gender&&"o"!==e.gender&&SetGenderRenderer.render(),DashboardClient.setState({user:e}),!1===e.temp&&!Cookies.get("goldad")&&!e.gold)return GoldAdClient.serve(),Cookies.set("goldad","1")}}),App.temp={check:function(){return $.ajax({type:"GET",url:"/user_is_temp",dataType:"json",success:function(e){if(!0===e.status)return UpgradeClient.form()}})}},App.temp.check(),setInterval(App.temp.check,24e4),$(window).focus(function(){return window.user_focus=!0}).blur(function(){return window.user_focus=!1})}.call(this),function(){App.youtube={process:function(e,t){var n,r;return n=234,void 0!==t&&t.micro&&(n=120),e.includes("www.youtube.com")||e.includes("m.youtube.com")||e.includes("youtu.be")?(e=e.replace("</span><br>",""),e=e.replace("https://m.",""),r="<iframe style='margin-top: 10px; border-radius: 4px;' width='100%' height='"+n+"' src='https://www.youtube.com/embed/$1' frameborder='0' allowfullscreen></iframe>",e.replace(/(?:https:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/g,r)):e}}}.call(this),App.webrtc={client:null,stream:null,init:function(){var e=document.head.querySelector("meta[name=web-rtc-url]").content;e||(e="https://webrtc.emeraldchat.com:8888/"),App.webrtc.client=new SimpleWebRTC({localVideoEl:"localVideo",remoteVideosEl:"remoteVideos",autoRequestMedia:!0,audio:!0,media:App.webrtc.get_media(),debug:!1,url:e}),App.webrtc.client.on("videoAdded",function(e,t){console.log(t,"# peer added #");var n=[];$("video").each(function(){$(this).attr("id").includes("incoming")&&n.push($(this))});for(var r=1;r<n.length;r++)n[r].remove();"match_video"==RoomClient.state.mode&&$("#messages").addClass("room-component-video-messages-mobile"),t&&t.pc&&t.pc.on("iceConnectionStateChange",function(){switch(t.pc.iceConnectionState){case"checking":console.log("# ice : connecting to peer... #");break;case"connected":case"completed":console.log("# ice : connection established... #");break;case"disconnected":console.log("# ice : disconnected... #");break;case"failed":break;case"closed":console.log("# ice : connection closed... #")}})}),App.webrtc.client.on("videoRemoved",function(){"match_video"==RoomClient.state.mode&&$("#messages").removeClass("room-component-video-messages-mobile"),$("video").each(function(){$(this).attr("id").includes("incoming")&&$(this).remove()})}),App.webrtc.client.on("localMediaError",function(e){console.log(e,"ERROR, media not found")}),App.webrtc.client.on("iceFailed",function(e){var t=e.pc;console.log("# ice failed : had local relay candidate #",t.hadLocalRelayCandidate),console.log("# ice failed : had remote relay candidate #",t.hadRemoteRelayCandidate)}),App.webrtc.client.on("connectivityError",function(e){var t=e.pc;console.log("# connectivity error : had local relay candidate #",t.hadLocalRelayCandidate),console.log("# connectivity error : had remote relay candidate #",t.hadRemoteRelayCandidate)})},join:function(e){App.webrtc.client.on("readyToCall",function(){App.webrtc.client.joinRoom(e)})},connect:function(e){App.webrtc.init(),App.webrtc.join(e)},disconnect:function(){App.webrtc.client.leaveRoom(App.webrtc.client.roomName)},"switch":function(e){this.remove_partner_videos(),App.webrtc.client.leaveRoom(App.webrtc.client.roomName),App.webrtc.client.joinRoom(e)},remove_partner_videos:function(){$("video").each(function(){$(this).attr("id").includes("incoming")&&$(this).remove()})},get_media:function(){return{audio:!0,video:!0}},close:function(){if(App.webrtc.stream){tracks=App.webrtc.stream.getTracks();for(var e=0;e<tracks.length;e++)tracks[e].stop();App.webrtc.client.stopLocalVideo()}},media_compatible:function(e){return navigator.mediaDevices.getUserMedia(e).then(function(){App.webrtc.compatible(e)})["catch"](function(t){console.log(t),App.webrtc.incompatible(e)})},compatible:function(e){console.log("media is compatible",e)},incompatible:function(e){console.log("media is incompatible",e)}},function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.adapter=e()}}(function(){return function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return a(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t){"use strict";var n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;default:n[t[r]]=t[r+1]}return n},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},n.writeRtpMap=function(e){var t=e.payloadType;return e.preferredPayloadType!==undefined&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),a=0;a<r.length;a++)t=r[a].trim().split("="),n[t[0].trim()]=t[1];return n},n.writeFmtp=function(e){var t="",n=e.payloadType;if(e.preferredPayloadType!==undefined&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",n=e.payloadType;return e.preferredPayloadType!==undefined&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},n.getIceParameters=function(e,t){var r=n.splitLines(e);return r=r.concat(n.splitLines(t)),{usernameFragment:r.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e),a=r[0].split(" "),i=3;i<a.length;i++){var o=a[i],s=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var c=n.parseRtpMap(s),l=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(c.parameters=l.length?n.parseFmtp(l[0]):{},c.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(e){return e.preferredPayloadType!==undefined?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)});var a=0;return t.codecs.forEach(function(e){e.maxptime>a&&(a=e.maxptime)}),a>0&&(r+="a=maxptime:"+a+"\r\n"),r+="a=rtcp-mux\r\n",
t.headerExtensions.forEach(function(e){r+=n.writeExtmap(e)}),r},n.parseRtpEncodingParameters=function(e){var t,r=[],a=n.parseRtpParameters(e),i=-1!==a.fecMechanisms.indexOf("RED"),o=-1!==a.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,l=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),a.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};r.push(n),i&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:t,mechanism:o?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&c&&r.push({ssrc:c});var u=n.matchPrefix(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),r.forEach(function(e){e.maxBitrate=u})),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var a=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=a.length>0,t.compound=0===a.length;var i=n.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var a=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return a.length>0?(t=a[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},n.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,a){var i=n.writeRtpDescription(e.kind,t);if(i+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var o="msid:"+a.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+o,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),i},n.getDirection=function(e,t){for(var r=n.splitLines(e),a=0;a<r.length;a++)switch(r[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[a].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.exports=n},{}],2:[function(e,t){(function(n){"use strict";var r=e("./adapter_factory.js");t.exports=r({window:n.window})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter_factory.js":3}],3:[function(e,t){"use strict";t.exports=function(t){var n=t&&t.window,r=e("./utils"),a=r.log,i=r.detectBrowser(n),o={browserDetails:i,extractVersion:r.extractVersion,disableLog:r.disableLog},s=e("./chrome/chrome_shim")||null,c=e("./edge/edge_shim")||null,l=e("./firefox/firefox_shim")||null,u=e("./safari/safari_shim")||null;switch(i.browser){case"chrome":if(!s||!s.shimPeerConnection)return a("Chrome shim is not included in this adapter release."),o;a("adapter.js shimming chrome."),o.browserShim=s,s.shimGetUserMedia(n),s.shimMediaStream(n),r.shimCreateObjectURL(n),s.shimSourceObject(n),s.shimPeerConnection(n),s.shimOnTrack(n),s.shimGetSendersWithDtmf(n);break;case"firefox":if(!l||!l.shimPeerConnection)return a("Firefox shim is not included in this adapter release."),o;a("adapter.js shimming firefox."),o.browserShim=l,l.shimGetUserMedia(n),r.shimCreateObjectURL(n),l.shimSourceObject(n),l.shimPeerConnection(n),l.shimOnTrack(n);break;case"edge":if(!c||!c.shimPeerConnection)return a("MS edge shim is not included in this adapter release."),o;a("adapter.js shimming edge."),o.browserShim=c,c.shimGetUserMedia(n),r.shimCreateObjectURL(n),c.shimPeerConnection(n),c.shimReplaceTrack(n);break;case"safari":if(!u)return a("Safari shim is not included in this adapter release."),o;a("adapter.js shimming safari."),o.browserShim=u,u.shimCallbacksAPI(n),u.shimAddStream(n),u.shimOnAddStream(n),u.shimGetUserMedia(n);break;default:a("Unsupported browser!")}return o}},{"./chrome/chrome_shim":4,"./edge/edge_shim":6,"./firefox/firefox_shim":9,"./safari/safari_shim":11,"./utils":12}],4:[function(e,t){"use strict";var n=e("../utils.js"),r=n.log,a={shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){var n=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(r){var a;a=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track.id===r.track.id}):{track:r.track};var i=new Event("track");i.track=r.track,i.receiver=a,i.streams=[t.stream],n.dispatchEvent(i)}),t.stream.getTracks().forEach(function(r){var a;a=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track.id===r.id}):{track:r};var i=new Event("track");i.track=r,i.receiver=a,i.streams=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders||[]};var t=e.RTCPeerConnection.prototype.addStream,n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.addTrack||(e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var a=[].slice.call(arguments,1);if(1!==a.length||!a[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(r._senders=r._senders||[],r._senders.find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");r._streams=r._streams||{};var i=r._streams[n.id];if(i)i.addTrack(t),r.removeStream(i),r.addStream(i);else{var o=new e.MediaStream([t]);r._streams[n.id]=o,r.addStream(o)}var s={track:t,get dtmf(){return this._dtmf===undefined&&("audio"===t.kind?this._dtmf=r.createDTMFSender(t):this._dtmf=null),this._dtmf}};return r._senders.push(s),s}),e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],t.apply(n,[e]),e.getTracks().forEach(function(e){n._senders.push({track:e,get dtmf(){return this._dtmf===undefined&&("audio"===e.kind?this._dtmf=n.createDTMFSender(e):this._dtmf=null),this._dtmf}})})},e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],n.apply(t,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),!e)return this.src="",undefined;this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})}}))},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCPeerConnection){var a=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(console.warn("RTCIceServer.url is deprecated! Use urls instead."),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,n.push(i)):n.push(e.iceServers[r])}e.iceServers=n}return new a(e,t)},e.RTCPeerConnection.prototype=a.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return a.generateCertificate}})}else e.RTCPeerConnection=function(t,n){return r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}});var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,n){var r=this,a=arguments;if(arguments.length>0&&"function"==typeof e)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof arguments[0]))return i.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var c=function(e){a[1](s(o(e)))};return i.apply(this,[c,arguments[0]])}return new Promise(function(e,t){i.apply(r,[function(t){e(s(o(t)))},t])}).then(t,n)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,r=new Promise(function(r,a){n.apply(t,[e[0],r,a])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:undefined;return new Promise(function(r,a){n.apply(e,[r,a,t])})}return n.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.exports={shimMediaStream:a.shimMediaStream,shimOnTrack:a.shimOnTrack,shimGetSendersWithDtmf:a.shimGetSendersWithDtmf,shimSourceObject:a.shimSourceObject,shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils.js":12,"./getusermedia":5}],5:[function(e,t){"use strict";var n=e("../utils.js"),r=n.log;t.exports=function(e){var t=n.detectBrowser(e),a=e&&e.navigator,i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};r.exact!==undefined&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(r.ideal!==undefined){t.optional=t.optional||[];var i={};"number"==typeof r.ideal?(i[a("min",n)]=r.ideal,t.optional.push(i),i={},i[a("max",n)]=r.ideal,t.optional.push(i)):(i[a("",n)]=r.ideal,t.optional.push(i))}r.exact!==undefined&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=r.exact):["min","max"].forEach(function(e){r[e]!==undefined&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,n){if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var c=t.version<61;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!a.mediaDevices.getSupportedConstraints||!a.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var l;if("environment"===s.exact||"environment"===s.ideal?l=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(l=["front"]),l)return a.mediaDevices.enumerateDevices().then(function(t){t=t.filter(function(e){return"videoinput"===e.kind});var a=t.find(function(e){return l.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!a&&t.length&&-1!==l.indexOf("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=s.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=i(e.video),r("chrome: "+JSON.stringify(e)),n(e)})}e.video=i(e.video)}return r("chrome: "+JSON.stringify(e)),n(e)},s=function(e){return{name:{PermissionDeniedError:"NotAllowedError",InvalidStateError:"NotReadableError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotReadableError",MediaDeviceKillSwitchOn:"NotReadableError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},c=function(e,t,n){o(e,function(e){a.webkitGetUserMedia(e,t,function(e){n(s(e))})})};a.getUserMedia=c;var l=function(e){return new Promise(function(t,n){a.getUserMedia(e,t,n)})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:l,enumerateDevices:function(){return new Promise(function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),a.mediaDevices.getUserMedia){var u=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(e){return o(e,function(e){return u(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(s(e))})})}}else a.mediaDevices.getUserMedia=function(e){return l(e)};"undefined"==typeof a.mediaDevices.addEventListener&&(a.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof a.mediaDevices.removeEventListener&&(a.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":12}],6:[function(e,t){"use strict";var n=e("../utils"),r=e("./rtcpeerconnection_shim");t.exports={shimGetUserMedia:e("./getusermedia"),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var a=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){a.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCPeerConnection=r(e,t.version)},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},{"../utils":12,"./getusermedia":7,"./rtcpeerconnection_shim":8}],7:[function(e,t){"use strict";t.exports=function(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e)["catch"](function(e){return Promise.reject(n(e))})}}},{}],8:[function(e,t){"use strict";function n(e){var t=e.filter(function(e){return"audio"===e.kind}),n=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||n.length;)t.length&&e.push(t.shift()),n.length&&e.push(n.shift());return e}function r(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var a="string"==typeof r;return a&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393:(n=!0,!0)}),delete e.url,e.urls=a?r[0]:r,!!r.length}return!1})}function a(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},a=function(e,t,n,a){var i=r(e.parameters.apt,n),o=r(t.parameters.apt,a);return i&&o&&i.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach(function(r){for(var i=0;i<t.codecs.length;i++){var o=t.codecs[i];if(r.name.toLowerCase()===o.name.toLowerCase()&&r.clockRate===o.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&o.parameters.apt&&!a(r,o,e.codecs,t.codecs))continue;o=JSON.parse(JSON.stringify(o)),o.numChannels=Math.min(r.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var a=t.headerExtensions[r];if(e.uri===a.uri){n.headerExtensions.push(a);break}}}),n}function i(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}var o=e("sdp");t.exports=function(e,t){var s=function(n){var a=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){a[e]=i[e].bind(i)}),this.needNegotiation=!1,this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.canTrickleIceCandidates=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return a.localStreams},this.getRemoteStreams=function(){return a.remoteStreams},this.localDescription=new e.RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new e.RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},n&&n.iceTransportPolicy)switch(n.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=n.iceTransportPolicy}this.usingBundle=n&&"max-bundle"===n.bundlePolicy,n&&n.iceServers&&(this.iceOptions.iceServers=r(n.iceServers,t)),this._config=n||{},this.transceivers=[],this._localIceCandidatesBuffer=[]};return s.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},s.prototype._emitBufferedCandidates=function(){var e=this,t=o.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n";else for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&"complete"!==e.iceGatheringStateChange&&(e.iceGatheringState="complete",e._emitGatheringStateChange())}}),this._localIceCandidatesBuffer=[]},s.prototype.getConfiguration=function(){return this._config},s.prototype._createTransceiver=function(e){var t=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,wantReceive:!0};if(this.usingBundle&&t)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();n.iceTransport=r.iceTransport,n.dtlsTransport=r.dtlsTransport}return this.transceivers.push(n),n},s.prototype.addTrack=function(t,n){for(var r,a=0;a<this.transceivers.length;a++)this.transceivers[a].track||this.transceivers[a].kind!==t.kind||(r=this.transceivers[a]);return r||(r=this._createTransceiver(t.kind)),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),this._maybeFireNegotiationNeeded(),r.rtpSender},s.prototype.addStream=function(e){var n=this;if(t>=15025)this.localStreams.push(e),e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){n.addTrack(e,r)}),this.localStreams.push(r)}this._maybeFireNegotiationNeeded()},s.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},s.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},s.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},s.prototype._createIceGatherer=function(t,n){var r=this,a=new e.RTCIceGatherer(r.iceOptions);return a.onlocalcandidate=function(e){var i=new Event("icecandidate");i.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;c?a.state===undefined&&(a.state="completed"):(s.component=1,i.candidate.candidate=o.writeCandidate(s));var l=o.splitSections(r.localDescription.sdp);l[i.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+i.candidate.candidate+"\r\n",r.localDescription.sdp=l.join("");var u=r._pendingOffer?r._pendingOffer:r.transceivers,d=u.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(r.iceGatheringState){case"new":c||r._localIceCandidatesBuffer.push(i),c&&d&&r._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":r._emitBufferedCandidates(),c||(r.dispatchEvent(i),null!==r.onicecandidate&&r.onicecandidate(i)),d&&(r.dispatchEvent(new Event("icecandidate")),null!==r.onicecandidate&&r.onicecandidate(new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},a},s.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},s.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlssttatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},s.prototype._transceive=function(e,n,r){var i=a(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:o.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.rtcpParameters.cname,compound:e.rtcpParameters.compound},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},s.prototype.setLocalDescription=function(t){var n=this;if(!i("setLocalDescription",t.type,this.signalingState)){var r=new Error("Can not set local "+t.type+" in state "+this.signalingState);return r.name="InvalidStateError",arguments.length>2&&"function"==typeof arguments[2]&&e.setTimeout(arguments[2],0,r),Promise.reject(r)}var s,c;if("offer"===t.type)this._pendingOffer&&(s=o.splitSections(t.sdp),c=s.shift(),s.forEach(function(e,t){var r=o.parseRtpParameters(e);n._pendingOffer[t].localCapabilities=r}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===t.type){s=o.splitSections(n.remoteDescription.sdp),c=s.shift();var l=o.matchPrefix(c,"a=ice-lite").length>0;s.forEach(function(e,t){var r=n.transceivers[t],i=r.iceGatherer,s=r.iceTransport,u=r.dtlsTransport,d=r.localCapabilities,p=r.remoteCapabilities;if(!o.isRejected(e)&&!r.isDatachannel){var f=o.getIceParameters(e,c),m=o.getDtlsParameters(e,c);l&&(m.role="server"),n.usingBundle&&0!==t||(s.start(i,f,l?"controlling":"controlled"),u.start(m));var h=a(d,p);n._transceive(r,h.codecs.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var u=arguments.length>1&&"function"==typeof arguments[1];if(u){var d=arguments[1];e.setTimeout(function(){d(),"new"===n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),n._emitBufferedCandidates()},0)}var p=Promise.resolve();return p.then(function(){u||("new"===n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),e.setTimeout(n._emitBufferedCandidates.bind(n),500))}),p},s.prototype.setRemoteDescription=function(n){var r=this;if(!i("setRemoteDescription",n.type,this.signalingState)){var a=new Error("Can not set remote "+n.type+" in state "+this.signalingState);return a.name="InvalidStateError",arguments.length>2&&"function"==typeof arguments[2]&&e.setTimeout(arguments[2],0,a),Promise.reject(a)}var s={},c=[],l=o.splitSections(n.sdp),u=l.shift(),d=o.matchPrefix(u,"a=ice-lite").length>0,p=o.matchPrefix(u,"a=group:BUNDLE ").length>0;this.usingBundle=p;var f=o.matchPrefix(u,"a=ice-options:")[0];switch(this.canTrickleIceCandidates=!!f&&f.substr(14).split(" ").indexOf("trickle")>=0,l.forEach(function(a,i){var l=o.splitLines(a),f=o.getKind(a),m=o.isRejected(a),h=l[0].substr(2).split(" ")[2],y=o.getDirection(a,u),v=o.parseMsid(a),g=o.getMid(a)||o.generateIdentifier();if("application"===f&&"DTLS/SCTP"===h)return void(r.transceivers[i]={mid:g,isDatachannel:!0});var b,E,w,R,_,k,C,x,O,S,T,N=o.parseRtpParameters(a);m||(S=o.getIceParameters(a,u),T=o.getDtlsParameters(a,u),T.role="client"),C=o.parseRtpEncodingParameters(a);var P=o.parseRtcpParameters(a),j=o.matchPrefix(a,"a=end-of-candidates",u).length>0,M=o.matchPrefix(a,"a=candidate:").map(function(e){return o.parseCandidate(e)}).filter(function(e){return"1"===e.component||1===e.component});("offer"===n.type||"answer"===n.type)&&!m&&p&&i>0&&r.transceivers[i]&&(r._disposeIceAndDtlsTransports(i),r.transceivers[i].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[i].iceTransport=r.transceivers[0].iceTransport,r.transceivers[i].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[i].rtpSender&&r.transceivers[i].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[i].rtpReceiver&&r.transceivers[i].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==n.type||m?"answer"!==n.type||m||(b=r.transceivers[i],E=b.iceGatherer,w=b.iceTransport,R=b.dtlsTransport,_=b.rtpReceiver,k=b.sendEncodingParameters,x=b.localCapabilities,r.transceivers[i].recvEncodingParameters=C,r.transceivers[i].remoteCapabilities=N,r.transceivers[i].rtcpParameters=P,(d||j)&&M.length&&w.setRemoteCandidates(M),p&&0!==i||(w.start(E,S,"controlling"),R.start(T)),r._transceive(b,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!_||"sendrecv"!==y&&"sendonly"!==y?delete b.rtpReceiver:(O=_.track,v?(s[v.stream]||(s[v.stream]=new e.MediaStream),s[v.stream].addTrack(O),c.push([O,_,s[v.stream]])):(s["default"]||(s["default"]=new e.MediaStream),s["default"].addTrack(O),c.push([O,_,s["default"]])))):(b=r.transceivers[i]||r._createTransceiver(f),b.mid=g,b.iceGatherer||(b.iceGatherer=p&&i>0?r.transceivers[0].iceGatherer:r._createIceGatherer(g,i)),!j||p&&0!==i||b.iceTransport.setRemoteCandidates(M),x=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),k=[{ssrc:1001*(2*i+2)}],"sendrecv"!==y&&"sendonly"!==y||(_=new e.RTCRtpReceiver(b.dtlsTransport,f),O=_.track,v?(s[v.stream]||(s[v.stream]=new e.MediaStream,Object.defineProperty(s[v.stream],"id",{get:function(){return v.stream}})),Object.defineProperty(O,"id",{get:function(){return v.track}}),s[v.stream].addTrack(O),c.push([O,_,s[v.stream]])):(s["default"]||(s["default"]=new e.MediaStream),s["default"].addTrack(O),c.push([O,_,s["default"]]))),b.localCapabilities=x,b.remoteCapabilities=N,b.rtpReceiver=_,b.rtcpParameters=P,b.sendEncodingParameters=k,b.recvEncodingParameters=C,r._transceive(r.transceivers[i],!1,"sendrecv"===y||"sendonly"===y))}),this.remoteDescription={type:n.type,sdp:n.sdp},n.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+n.type+'"')}return Object.keys(s).forEach(function(t){var n=s[t];if(n.getTracks().length){r.remoteStreams.push(n);var a=new Event("addstream");a.stream=n,r.dispatchEvent(a),null!==r.onaddstream&&e.setTimeout(function(){r.onaddstream(a)},0),c.forEach(function(t){var a=t[0],i=t[1];if(n.id===t[2].id){var o=new Event("track");o.track=a,o.receiver=i,o.streams=[n],r.dispatchEvent(o),null!==r.ontrack&&e.setTimeout(function(){r.ontrack(o)},0)}})}}),e.setTimeout(function(){r&&r.transceivers&&r.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),arguments.length>1&&"function"==typeof arguments[1]&&e.setTimeout(arguments[1],0),Promise.resolve()},s.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},s.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),
null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},s.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(!1!==t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t.dispatchEvent(e),null!==t.onnegotiationneeded&&t.onnegotiationneeded(e)}},0))},s.prototype._updateConnectionState=function(){var e,t=this,n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n["new"]>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},s.prototype.createOffer=function(){var r=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var a;1===arguments.length&&"function"!=typeof arguments[0]?a=arguments[0]:3===arguments.length&&(a=arguments[2]);var i=this.transceivers.filter(function(e){return"audio"===e.kind}).length,s=this.transceivers.filter(function(e){return"video"===e.kind}).length;if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");a.offerToReceiveAudio!==undefined&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),a.offerToReceiveVideo!==undefined&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(this.transceivers.forEach(function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)});i>0||s>0;)i>0&&(this._createTransceiver("audio"),i--),s>0&&(this._createTransceiver("video"),s--);var c=n(this.transceivers),l=o.writeSessionBoilerplate();c.forEach(function(n,a){var i=n.track,s=n.kind,l=o.generateIdentifier();n.mid=l,n.iceGatherer||(n.iceGatherer=r.usingBundle&&a>0?c[0].iceGatherer:r._createIceGatherer(l,a));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&e.parameters["level-asymmetry-allowed"]===undefined&&(e.parameters["level-asymmetry-allowed"]="1")});var d=[{ssrc:1001*(2*a+1)}];i&&t>=15019&&"video"===s&&(d[0].rtx={ssrc:1001*(2*a+1)+1}),n.wantReceive&&(n.rtpReceiver=new e.RTCRtpReceiver(n.dtlsTransport,s)),n.localCapabilities=u,n.sendEncodingParameters=d}),"max-compat"!==this._config.bundlePolicy&&(l+="a=group:BUNDLE "+c.map(function(e){return e.mid}).join(" ")+"\r\n"),l+="a=ice-options:trickle\r\n",c.forEach(function(e){l+=o.writeMediaSection(e,e.localCapabilities,"offer",e.stream),l+="a=rtcp-rsize\r\n"}),this._pendingOffer=c;var u=new e.RTCSessionDescription({type:"offer",sdp:l});return arguments.length&&"function"==typeof arguments[0]&&e.setTimeout(arguments[0],0,u),Promise.resolve(u)},s.prototype.createAnswer=function(){var n=o.writeSessionBoilerplate();this.usingBundle&&(n+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(e,r){if(e.isDatachannel)return void(n+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+e.mid+"\r\n");if(e.stream){var i;"audio"===e.kind?i=e.stream.getAudioTracks()[0]:"video"===e.kind&&(i=e.stream.getVideoTracks()[0]),i&&t>=15019&&"video"===e.kind&&(e.sendEncodingParameters[0].rtx={ssrc:1001*(2*r+2)+1})}var s=a(e.localCapabilities,e.remoteCapabilities);!s.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,n+=o.writeMediaSection(e,s,"answer",e.stream),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(n+="a=rtcp-rsize\r\n")});var r=new e.RTCSessionDescription({type:"answer",sdp:n});return arguments.length&&"function"==typeof arguments[0]&&e.setTimeout(arguments[0],0,r),Promise.resolve(r)},s.prototype.addIceCandidate=function(t){if(t){var n=t.sdpMLineIndex;if(t.sdpMid)for(var r=0;r<this.transceivers.length;r++)if(this.transceivers[r].mid===t.sdpMid){n=r;break}var a=this.transceivers[n];if(a){var i=Object.keys(t.candidate).length>0?o.parseCandidate(t.candidate):{};if("tcp"===i.protocol&&(0===i.port||9===i.port))return Promise.resolve();if(i.component&&"1"!==i.component&&1!==i.component)return Promise.resolve();a.iceTransport.addRemoteCandidate(i);var s=o.splitSections(this.remoteDescription.sdp);s[n+1]+=(i.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var c=0;c<this.transceivers.length;c++)if(this.transceivers[c].iceTransport.addRemoteCandidate({}),this.usingBundle)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&e.setTimeout(arguments[1],0),Promise.resolve()},s.prototype.getStats=function(){var t=[];this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){e[n]&&t.push(e[n].getStats())})});var n=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],r=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(a){var i=new Map;Promise.all(t).then(function(t){t.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=r(e[t]),i.set(t,e[t])})}),n&&e.setTimeout(n,0,i),a(i)})})},s}},{sdp:1}],9:[function(e,t){"use strict";var n=e("../utils"),r={shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(e){"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(n,r){if(t.version<38&&n&&n.iceServers){for(var a=[],i=0;i<n.iceServers.length;i++){var o=n.iceServers[i];if(o.hasOwnProperty("urls"))for(var s=0;s<o.urls.length;s++){var c={url:o.urls[s]};0===o.urls[s].indexOf("turn")&&(c.username=o.username,c.credential=o.credential),a.push(c)}else a.push(n.iceServers[i])}n.iceServers=a}return new e.mozRTCPeerConnection(n,r)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var a=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){return o.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=a(e)),t.version<53&&!n)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(n,r)}}}};t.exports={shimOnTrack:r.shimOnTrack,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":12,"./getusermedia":10}],10:[function(e,t){"use strict";var n=e("../utils"),r=n.log;t.exports=function(e){var t=n.detectBrowser(e),a=e&&e.navigator,i=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,n,i){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(r.min===undefined&&r.max===undefined&&r.exact===undefined||t.push(n),r.exact!==undefined&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),r.ideal!==undefined){e.advanced=e.advanced||[];var a={};"number"==typeof r.ideal?a[n]={min:r.ideal,max:r.ideal}:a[n]=r.ideal,e.advanced.push(a),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),a.mozGetUserMedia(e,n,function(e){i(o(e))})},c=function(e){return new Promise(function(t,n){s(e,t,n)})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:c,addEventListener:function(){},removeEventListener:function(){}}),a.mediaDevices.enumerateDevices=a.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var l=a.mediaDevices.enumerateDevices.bind(a.mediaDevices);a.mediaDevices.enumerateDevices=function(){return l().then(undefined,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var u=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(e){return u(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(o(e))})}}if(!(t.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var d=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},p=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),d(e.audio,"autoGainControl","mozAutoGainControl"),d(e.audio,"noiseSuppression","mozNoiseSuppression")),p(e)},i&&i.prototype.getSettings){var f=i.prototype.getSettings;i.prototype.getSettings=function(){var e=f.apply(this,arguments);return d(e,"mozAutoGainControl","autoGainControl"),d(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var m=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),d(e,"autoGainControl","mozAutoGainControl"),d(e,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[e])}}}a.getUserMedia=function(e,n,r){if(t.version<44)return s(e,n,r);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(e).then(n,r)}}},{"../utils":12}],11:[function(e,t){"use strict";var n={shimAddStream:function(e){"object"!=typeof e||!e.RTCPeerConnection||"addStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.addStream=function(e){var t=this;e.getTracks().forEach(function(n){t.addTrack(n,e)})})},shimOnAddStream:function(e){"object"!=typeof e||!e.RTCPeerConnection||"onaddstream"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){var t=e.streams[0];if(this._streams||(this._streams=[]),!(this._streams.indexOf(t)>=0)){this._streams.push(t);var n=new Event("addstream");n.stream=e.streams[0],this.dispatchEvent(n)}}.bind(this))}})},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,a=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],a=n.apply(this,[r]);return t?(a.then(e,t),Promise.resolve()):a},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],a=r.apply(this,[n]);return t?(a.then(e,t),Promise.resolve()):a};var s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))}};t.exports={shimCallbacksAPI:n.shimCallbacksAPI,shimAddStream:n.shimAddStream,shimOnAddStream:n.shimOnAddStream,shimGetUserMedia:n.shimGetUserMedia}},{}],12:[function(e,t){"use strict";var n=!0,r={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(e){var t=e&&e.navigator,n={};if(n.browser=null,n.version=null,void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=this.extractVersion(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)if(e.webkitRTCPeerConnection)n.browser="chrome",n.version=this.extractVersion(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.userAgent.match(/Version\/(\d+).(\d+)/))return n.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",n;n.browser="safari",n.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=this.extractVersion(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.mediaDevices||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n},shimCreateObjectURL:function(e){var t=e&&e.URL;if(!("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype))return undefined;var n=t.createObjectURL.bind(t),r=t.revokeObjectURL.bind(t),a=new Map,i=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++i;return a.set(t,e),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),t}return n(e)},t.revokeObjectURL=function(e){r(e),a["delete"](e)};var o=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return o.get.apply(this)},set:function(e){return this.srcObject=a.get(e)||null,o.set.apply(this,[e])}});var s=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=a.get(arguments[1])||null),s.apply(this,arguments)}}};t.exports={log:r.log,disableLog:r.disableLog,extractVersion:r.extractVersion,shimCreateObjectURL:r.shimCreateObjectURL,detectBrowser:r.detectBrowser.bind(r)}},{}]},{},[2])(2)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.SimpleWebRTC=e()}}(function(){var e;return function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return a(n||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t){function n(e,t,n){function a(e,r){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(i=!0,t(e),t=n):0!==a.count||i||t(null,r)}var i=!1;return n=n||r,a.count=e,0===e?t():a}function r(){}t.exports=n},{}],2:[function(e,t){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var a=new Uint8Array(e),i=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)i[s]=a[o];return i.buffer}},{}],3:[function(e,t){e("webrtc-adapter");t.exports=function(e,t,n){var r,a=(window.URL,t),i={autoplay:!0,mirror:!1,muted:!1,audio:!1,disableContextMenu:!1};if(n)for(r in n)i[r]=n[r];return a?"audio"===a.tagName.toLowerCase()&&(i.audio=!0):a=document.createElement(i.audio?"audio":"video"),i.disableContextMenu&&(a.oncontextmenu=function(e){e.preventDefault()}),i.autoplay&&(a.autoplay="autoplay"),i.muted&&(a.muted=!0),!i.audio&&i.mirror&&["","moz","webkit","o","ms"].forEach(function(e){var t=e?e+"Transform":"transform";a.style[t]="scaleX(-1)"}),a.srcObject=e,a}},{"webrtc-adapter":4}],4:[function(e,t){"use strict";!function(){var n=e("./utils").log,r=e("./utils").browserDetails;t.exports.browserDetails=r,t.exports.extractVersion=e("./utils").extractVersion,t.exports.disableLog=e("./utils").disableLog;var a=e("./chrome/chrome_shim")||null,i=e("./edge/edge_shim")||null,o=e("./firefox/firefox_shim")||null,s=e("./safari/safari_shim")||null;switch(r.browser){case"opera":case"chrome":if(!a||!a.shimPeerConnection)return void n("Chrome shim is not included in this adapter release.");n("adapter.js shimming chrome."),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimMediaStream(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"firefox":if(!o||!o.shimPeerConnection)return void n("Firefox shim is not included in this adapter release.");n("adapter.js shimming firefox."),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimSourceObject(),o.shimPeerConnection(),o.shimOnTrack();break;case"edge":if(!i||!i.shimPeerConnection)return void n("MS edge shim is not included in this adapter release.");n("adapter.js shimming edge."),t.exports.browserShim=i,i.shimGetUserMedia(),i.shimPeerConnection();break;case"safari":if(!s)return void n("Safari shim is not included in this adapter release.");n("adapter.js shimming safari."),t.exports.browserShim=s,s.shimGetUserMedia();break;default:n("Unsupported browser!")}}()},{"./chrome/chrome_shim":5,"./edge/edge_shim":7,"./firefox/firefox_shim":9,"./safari/safari_shim":11,"./utils":12}],5:[function(e,t){"use strict";var n=e("../utils.js").log,r=e("../utils.js").browserDetails,a={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;if(this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),!e)return void(this.src="");this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){n("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var r=new webkitRTCPeerConnection(e,t),a=r.getStats.bind(r);return r.getStats=function(e,t,n){var r=this,i=arguments;if(arguments.length>0&&"function"==typeof e)return a(e,t);var o=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));return t=t||e,Object.keys(t).forEach(function(e){n[e]=t[e]}),n};if(arguments.length>=2){var c=function(e){i[1](s(o(e)))};return a.apply(this,[c,arguments[0]])}return new Promise(function(t,n){1===i.length&&"object"==typeof e?a.apply(r,[function(e){t(s(o(e)))},n]):a.apply(r,[function(e){t(s(o(e),e.result()))},n])}).then(t,n)},r},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:undefined;return new Promise(function(r,a){t.apply(e,[r,a,n])})}return t.apply(this,arguments)}}),r.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise(function(r,a){t.apply(n,[e[0],r,a])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.exports={shimMediaStream:a.shimMediaStream,shimOnTrack:a.shimOnTrack,shimSourceObject:a.shimSourceObject,shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils.js":12,"./getusermedia":6}],6:[function(e,t){"use strict";var n=e("../utils.js").log;t.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};r.exact!==undefined&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(r.ideal!==undefined){t.optional=t.optional||[];var i={};"number"==typeof r.ideal?(i[a("min",n)]=r.ideal,t.optional.push(i),i={},i[a("max",n)]=r.ideal,t.optional.push(i)):(i[a("",n)]=r.ideal,t.optional.push(i))}r.exact!==undefined&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",n)]=r.exact):["min","max"].forEach(function(e){r[e]!==undefined&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,r){if(t=JSON.parse(JSON.stringify(t)),t&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var a=t.video.facingMode;if((a=a&&("object"==typeof a?a:{ideal:a}))&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===a.exact||"environment"===a.ideal))return navigator.mediaDevices.enumerateDevices().then(function(i){i=i.filter(function(e){return"videoinput"===e.kind});var o=i.find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||i.length&&i[i.length-1];return o&&(t.video.deviceId=a.exact?{exact:o.deviceId}:{ideal:o.deviceId}),t.video=e(t.video),n("chrome: "+JSON.stringify(t)),r(t)});t.video=e(t.video)}return n("chrome: "+JSON.stringify(t)),r(t)},r=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},a=function(e,n,a){t(e,function(e){navigator.webkitGetUserMedia(e,n,function(e){a(r(e))})})};navigator.getUserMedia=a;var i=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return o(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(r(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){n("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){n("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":12}],7:[function(e,t){"use strict";var n=e("sdp"),r=e("../utils").browserDetails,a={shimPeerConnection:function(){if(window.RTCIceGatherer){window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e});var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var n=new Event("enabled");n.enabled=t,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var a=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=a.filter(function(e){if(e&&e.urls){var t=e.urls;return"string"==typeof t&&(t=[t]),!!(t=t.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")||0===e.indexOf("stun:")&&r.version>=14393})[0])}return!1})}this._config=e,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=n.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");else for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&(e.iceGatheringState="complete")}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(e){var t=e.clone();e.getTracks().forEach(function(e,n){var r=t.getTracks()[n];e.addEventListener("enabled",function(e){r.enabled=e.enabled})}),this.localStreams.push(t),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var r=0;r<t.codecs.length;r++){var a=t.codecs[r];if(e.name.toLowerCase()===a.name.toLowerCase()&&e.clockRate===a.clockRate){a.numChannels=Math.min(e.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var a=t.headerExtensions[r];if(e.uri===a.uri){n.headerExtensions.push(a);break}}}),n},
window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var r=this,a=new RTCIceGatherer(r.iceOptions),i=new RTCIceTransport(a);a.onlocalcandidate=function(o){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=o.candidate,l=!c||0===Object.keys(c).length;l?(a.state===undefined&&(a.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===i.component?2:1,s.candidate.candidate=n.writeCandidate(c));var u=n.splitSections(r.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?u[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":u[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",r.localDescription.sdp=u.join("");var d=r.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(r.iceGatheringState){case"new":r._localIceCandidatesBuffer.push(s),l&&d&&r._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":r._emitBufferedCandidates(),r.dispatchEvent(s),null!==r.onicecandidate&&r.onicecandidate(s),d&&(r.dispatchEvent(new Event("icecandidate")),null!==r.onicecandidate&&r.onicecandidate(new Event("icecandidate")),r.iceGatheringState="complete")}},i.onicestatechange=function(){r._updateConnectionState()};var o=new RTCDtlsTransport(i);return o.ondtlsstatechange=function(){r._updateConnectionState()},o.onerror=function(){o.state="failed",r._updateConnectionState()},{iceGatherer:a,iceTransport:i,dtlsTransport:o}},window.RTCPeerConnection.prototype._transceive=function(e,t,r){var a=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),r&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),a.encodings=e.recvEncodingParameters,a.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,r,a=this;if("offer"===e.type)this._pendingOffer&&(t=n.splitSections(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=n.parseRtpParameters(e);a._pendingOffer[t].localCapabilities=r}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=n.splitSections(a.remoteDescription.sdp),r=t.shift();var i=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach(function(e,t){var o=a.transceivers[t],s=o.iceGatherer,c=o.iceTransport,l=o.dtlsTransport,u=o.localCapabilities,d=o.remoteCapabilities;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!o.isDatachannel){var p=n.getIceParameters(e,r);if(i){var f=n.matchPrefix(e,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return"1"===e.component});f.length&&c.setRemoteCandidates(f)}var m=n.getDtlsParameters(e,r);i&&(m.role="server"),a.usingBundle&&0!==t||(c.start(s,p,i?"controlling":"controlled"),l.start(m));var h=a._getCommonCapabilities(u,d);a._transceive(o,h.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&"function"==typeof arguments[1];if(o){var s=arguments[1];window.setTimeout(function(){s(),"new"===a.iceGatheringState&&(a.iceGatheringState="gathering"),a._emitBufferedCandidates()},0)}var c=Promise.resolve();return c.then(function(){o||("new"===a.iceGatheringState&&(a.iceGatheringState="gathering"),window.setTimeout(a._emitBufferedCandidates.bind(a),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,r=new MediaStream,a=[],i=n.splitSections(e.sdp),o=i.shift(),s=n.matchPrefix(o,"a=ice-lite").length>0;switch(this.usingBundle=n.matchPrefix(o,"a=group:BUNDLE ").length>0,i.forEach(function(i,c){var l=n.splitLines(i),u=l[0].substr(2).split(" "),d=u[0],p="0"===u[1],f=n.getDirection(i,o),m=n.matchPrefix(i,"a=mid:");if(m=m.length?m[0].substr(6):n.generateIdentifier(),"application"===d&&"DTLS/SCTP"===u[2])return void(t.transceivers[c]={mid:m,isDatachannel:!0});var h,y,v,g,b,E,w,R,_,k,C,x,O=n.parseRtpParameters(i);p||(C=n.getIceParameters(i,o),x=n.getDtlsParameters(i,o),x.role="client"),R=n.parseRtpEncodingParameters(i);var S,T=n.matchPrefix(i,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];T&&(S=T.value);var N=n.matchPrefix(i,"a=end-of-candidates",o).length>0,P=n.matchPrefix(i,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||p)"answer"!==e.type||p||(h=t.transceivers[c],y=h.iceGatherer,v=h.iceTransport,g=h.dtlsTransport,b=h.rtpSender,E=h.rtpReceiver,w=h.sendEncodingParameters,_=h.localCapabilities,t.transceivers[c].recvEncodingParameters=R,t.transceivers[c].remoteCapabilities=O,t.transceivers[c].cname=S,(s||N)&&P.length&&v.setRemoteCandidates(P),t.usingBundle&&0!==c||(v.start(y,C,"controlling"),g.start(x)),t._transceive(h,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!E||"sendrecv"!==f&&"sendonly"!==f?delete h.rtpReceiver:(k=E.track,a.push([k,E]),r.addTrack(k)));else{var j=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(m,c);if(N&&j.iceTransport.setRemoteCandidates(P),_=RTCRtpReceiver.getCapabilities(d),_.codecs=_.codecs.filter(function(e){return"rtx"!==e.name}),w=[{ssrc:1001*(2*c+2)}],E=new RTCRtpReceiver(j.dtlsTransport,d),k=E.track,a.push([k,E]),r.addTrack(k),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c){var M;"audio"===d?M=t.localStreams[0].getAudioTracks()[0]:"video"===d&&(M=t.localStreams[0].getVideoTracks()[0]),M&&(b=new RTCRtpSender(M,j.dtlsTransport))}t.transceivers[c]={iceGatherer:j.iceGatherer,iceTransport:j.iceTransport,dtlsTransport:j.dtlsTransport,localCapabilities:_,remoteCapabilities:O,rtpSender:b,rtpReceiver:E,kind:d,mid:m,cname:S,sendEncodingParameters:w,recvEncodingParameters:R},t._transceive(t.transceivers[c],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return r.getTracks().length&&(t.remoteStreams.push(r),window.setTimeout(function(){var e=new Event("addstream");e.stream=r,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),a.forEach(function(n){var a=n[0],i=n[1],o=new Event("track");o.track=a,o.receiver=i,o.streams=[r],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n["new"]>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var r=[],a=0,i=0;if(this.localStreams.length&&(a=this.localStreams[0].getAudioTracks().length,i=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");t.offerToReceiveAudio!==undefined&&(a=t.offerToReceiveAudio),t.offerToReceiveVideo!==undefined&&(i=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){r.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?a>0:i>0}),"audio"===e.kind?a--:"video"===e.kind&&i--});a>0||i>0;)a>0&&(r.push({kind:"audio",wantReceive:!0}),a--),i>0&&(r.push({kind:"video",wantReceive:!0}),i--);var o=n.writeSessionBoilerplate(),s=[];r.forEach(function(t,r){var a=t.track,i=t.kind,o=n.generateIdentifier(),c=e.usingBundle&&r>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:e._createIceAndDtlsTransports(o,r),l=RTCRtpSender.getCapabilities(i);l.codecs=l.codecs.filter(function(e){return"rtx"!==e.name}),l.codecs.forEach(function(e){"H264"===e.name&&e.parameters["level-asymmetry-allowed"]===undefined&&(e.parameters["level-asymmetry-allowed"]="1")});var u,d,p=[{ssrc:1001*(2*r+1)}];a&&(u=new RTCRtpSender(a,c.dtlsTransport)),t.wantReceive&&(d=new RTCRtpReceiver(c.dtlsTransport,i)),s[r]={iceGatherer:c.iceGatherer,iceTransport:c.iceTransport,dtlsTransport:c.dtlsTransport,localCapabilities:l,remoteCapabilities:null,rtpSender:u,rtpReceiver:d,kind:i,mid:o,sendEncodingParameters:p,recvEncodingParameters:null}}),this.usingBundle&&(o+="a=group:BUNDLE "+s.map(function(e){return e.mid}).join(" ")+"\r\n"),r.forEach(function(t,r){var a=s[r];o+=n.writeMediaSection(a,a.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:o});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=n.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(r){if(r.isDatachannel)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+r.mid+"\r\n");var a=e._getCommonCapabilities(r.localCapabilities,r.remoteCapabilities);t+=n.writeMediaSection(r,a,"answer",e.localStreams[0])});var r=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,r),Promise.resolve(r)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var r=0;r<this.transceivers.length;r++)if(this.transceivers[r].mid===e.sdpMid){t=r;break}var a=this.transceivers[t];if(a){var i=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===i.protocol&&(0===i.port||9===i.port))return;if("1"!==i.component)return;"endOfCandidates"===i.type&&(i={}),a.iceTransport.addRemoteCandidate(i);var o=n.splitSections(this.remoteDescription.sdp);o[t+1]+=(i.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=o.join("")}}else this.transceivers.forEach(function(e){e.iceTransport.addRemoteCandidate({})});return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){r.set(t,e[t]),r[t]=e[t]})}),t&&window.setTimeout(t,0,r),n(r)})})}}};t.exports={shimPeerConnection:a.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":12,"./getusermedia":8,sdp:59}],8:[function(e,t){"use strict";t.exports=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n)["catch"](function(t){return Promise.reject(e(t))})}}},{}],9:[function(e,t){"use strict";var n=e("../utils").browserDetails,r={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(n.version<38&&e&&e.iceServers){for(var r=[],a=0;a<e.iceServers.length;a++){var i=e.iceServers[a];if(i.hasOwnProperty("urls"))for(var o=0;o<i.urls.length;o++){var s={url:i.urls[o]};0===i.urls[o].indexOf("turn")&&(s.username=i.username,s.credential=i.credential),r.push(s)}else r.push(e.iceServers[a])}e.iceServers=r}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;if(RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())},n.version<48){var t=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},r=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,a){return r.apply(this,[e||null]).then(function(e){return t(e)}).then(n,a)}}}}};t.exports={shimOnTrack:r.shimOnTrack,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":12,"./getusermedia":10}],10:[function(e,t){"use strict";var n=e("../utils").log,r=e("../utils").browserDetails;t.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,a,i){var o=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(r.min===undefined&&r.max===undefined&&r.exact===undefined||t.push(n),r.exact!==undefined&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),r.ideal!==undefined){e.advanced=e.advanced||[];var a={};"number"==typeof r.ideal?a[n]={min:r.ideal,max:r.ideal}:a[n]=r.ideal,e.advanced.push(a),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),r.version<38&&(n("spec: "+JSON.stringify(t)),t.audio&&(t.audio=o(t.audio)),t.video&&(t.video=o(t.video)),n("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,a,function(t){i(e(t))})},a=function(e){return new Promise(function(n,r){t(e,n,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:a,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},r.version<41){var i=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return i().then(undefined,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(r.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,a){if(r.version<44)return t(e,n,a);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(n,a)}}},{"../utils":12}],11:[function(e,t){"use strict";var n={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};t.exports={shimGetUserMedia:n.shimGetUserMedia}},{}],12:[function(e,t){"use strict";var n=!0,r={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return e}};t.exports={log:r.log,disableLog:r.disableLog,browserDetails:r.detectBrowser(),extractVersion:r.extractVersion}},{}],13:[function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},{}],14:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),a=r.length,i="";for(n=0;n<a;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return a%3==2?i=i.substring(0,i.length-1)+"=":a%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,r,a,i,o,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),a=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),o=e.indexOf(t[n+3]),d[l++]=r<<2|a>>4,d[l++]=(15&a)<<4|i>>2,d[l++]=(3&i)<<6|63&o;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],15:[function(e,t){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var a=new Uint8Array(n.byteLength);a.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=a.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var a=0;a<e.length;a++)r.append(e[a]);return t.type?r.getBlob(t.type):r.getBlob()}function a(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=o&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return o?s?e.Blob:a:c?r:undefined}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},{}],17:[function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],18:[function(e,t){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],19:[function(e,t){function n(e){return n.enabled(e)?function(t){t=r(t);var a=new Date,i=a-(n[e]||a);n[e]=a,t=e+" "+t+" +"+n.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e}t.exports=n,n.names=[],n.skips=[],n.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),r=t.length,a=0;a<r;a++)e=t[a].replace("*",".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$"))},n.disable=function(){n.enable("")},n.humanize=function(e){var t=1e3,n=6e4,r=60*n;return e>=r?(e/r).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},n.enabled=function(e){for(var t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(var t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(e){}},{}],20:[function(e,t){t.exports=e("./lib/")},{"./lib/":21}],21:[function(e,t){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":22,"engine.io-parser":33}],22:[function(e,t){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var a=t.host.split(":");t.hostname=a.shift(),a.length?t.port=a.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),o=e("component-emitter"),s=e("debug")("engine.io-client:socket"),c=e("indexof"),l=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,o(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=a(this.query);return t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id),new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(s('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(s("changing transport and sending upgrade packet"),l(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,l(),u.close(),u=null)}function a(t){var r=new Error("probe error: "+t);r.transport=u.name,n(),s('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function i(){a("transport closed")}function o(){a("socket closed")}function c(e){u&&e.name!=u.name&&(s('"%s" works - aborting "%s"',e.name,u.name),n())}function l(){u.removeListener("open",t),u.removeListener("error",a),u.removeListener("close",i),p.removeListener("close",o),p.removeListener("upgrading",c)}s('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;r.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",a),u.once("close",i),this.once("close",o),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},r.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:e,data:t};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}
},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":23,"./transports":24,"component-emitter":17,debug:30,"engine.io-parser":33,indexof:41,parsejson:49,parseqs:50,parseuri:32}],23:[function(e,t){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var r=e("engine.io-parser"),a=e("component-emitter");t.exports=n,a(n.prototype),n.timestamps=0,n.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},n.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":17,"engine.io-parser":33}],24:[function(e,t,n){(function(t){function r(e){var n=!1,r=!1,s=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80),n=e.hostname!=location.hostname||l!=e.port,r=e.secure!=c}if(e.xdomain=n,e.xscheme=r,"open"in new a(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)}var a=e("xmlhttprequest"),i=e("./polling-xhr"),o=e("./polling-jsonp"),s=e("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":25,"./polling-xhr":26,"./websocket":28,xmlhttprequest:29}],25:[function(e,t){(function(n){function r(){}function a(e){i.call(this,e),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),o=e("component-inherit");t.exports=a;var s,c=/\n/g,l=/\\n/g;o(a,i),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+a.iframeId+'">';i=document.createElement(e)}catch(e){i=document.createElement("iframe"),i.name=a.iframeId,i.src="javascript:0"}i.id=a.iframeId,a.form.appendChild(i),a.iframe=i}var a=this;if(!this.form){var i,o=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=u,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==a.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":27,"component-inherit":18}],26:[function(e,t){(function(n){function r(){}function a(e){if(c.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function o(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var s=e("xmlhttprequest"),c=e("./polling"),l=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=a,t.exports.Request=i,u(a,c),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new i(e)},a.prototype.doWrite=function(e,t){var n="string"!=typeof e&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),a=this;r.on("success",t),r.on("error",function(e){a.onError("xhr post error",e)}),this.sendXhr=r},a.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),r=this;try{if(d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",o):n.addEventListener&&n.addEventListener("beforeunload",o,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":27,"component-emitter":17,"component-inherit":18,debug:30,xmlhttprequest:29}],27:[function(e,t){function n(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),a=e("parseqs"),i=e("engine.io-parser"),o=e("component-inherit"),s=e("debug")("engine.io-client:polling");t.exports=n;var c=function(){return null!=new(e("xmlhttprequest"))({xdomain:!1}).responseType}();o(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){s("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(s("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){s("pre-pause polling complete"),--r||t()})),this.writable||(s("we are currently writing - waiting to pause"),r++,this.once("drain",function(){s("pre-pause writing complete"),--r||t()}))}else t()},n.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;s("polling got data %s",e);var n=function(e){if("opening"==t.readyState&&t.onOpen(),"close"==e.type)return t.onClose(),!1;t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){s("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(s("transport open - closing"),e()):(s("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":23,"component-inherit":18,debug:30,"engine.io-parser":33,parseqs:50,xmlhttprequest:29}],28:[function(e,t){function n(e){e&&e.forceBase64&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),a=e("engine.io-parser"),i=e("parseqs"),o=e("component-inherit"),s=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=n,o(n,r),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.ws=new c(e,void 0,t),this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,i=e.length;r<i;r++)a.encodePacket(e[r],this.supportsBinary,function(e){try{n.ws.send(e)}catch(e){s("websocket closed before onclose event")}});setTimeout(t,0)},n.prototype.onClose=function(){r.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=i.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},{"../transport":23,"component-inherit":18,debug:30,"engine.io-parser":33,parseqs:50,ws:76}],29:[function(e,t){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,a=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&a)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":40}],30:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function a(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var a=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(e){}}function s(){var e;try{e=localStorage.debug}catch(e){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=a,n.save=o,n.load=s,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":31}],31:[function(e,t,n){function r(){return n.colors[u++%n.colors.length]}function a(e){function t(){}function a(){var e=a,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var a=n.formatters[r];if("function"==typeof a){var i=o[s];t=a.call(e,i),o.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(e,o)),(a.log||n.log||console.log.bind(console)).apply(e,o)}t.enabled=!1,a.enabled=!0;var i=n.enabled(e)?a:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,a=0;a<r;a++)t[a]&&(e=t[a].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function o(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=a,n.coerce=c,n.disable=o,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var l,u=0},{ms:47}],32:[function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,a=e.indexOf("["),i=e.indexOf("]");-1!=a&&-1!=i&&(e=e.substring(0,a)+e.substring(a,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},c=14;c--;)s[r[c]]=o[c]||"";return-1!=a&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],33:[function(e,t,n){(function(t){function r(e,t){return t("b"+n.packets[e.type]+e.data.data)}function a(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var a=e.data,i=new Uint8Array(a),o=new Uint8Array(1+a.byteLength);o[0]=v[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return r(o.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var a=new FileReader;return a.onload=function(){e.data=a.result,n.encodePacket(e,t,!0,r)},a.readAsArrayBuffer(e.data)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(y)return i(e,t,r);var a=new Uint8Array(1);return a[0]=v[e.type],r(new E([a.buffer,e.data]))}function s(e,t,n){for(var r=new Array(e.length),a=p(e.length,n),i=function(e,n,a){t(n,function(t,n){r[e]=n,a(t,r)})},o=0;o<e.length;o++)i(o,e[o],a)}var c=e("./keys"),l=e("has-binary"),u=e("arraybuffer.slice"),d=e("base64-arraybuffer"),p=e("after"),f=e("utf8"),m=navigator.userAgent.match(/Android/i),h=/PhantomJS/i.test(navigator.userAgent),y=m||h;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=c(v),b={type:"error",data:"parser error"},E=e("blob");n.encodePacket=function(e,n,i,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof i&&(s=i,i=null);var c=e.data===undefined?undefined:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return a(e,n,s);if(E&&c instanceof t.Blob)return o(e,n,s);if(c&&c.base64)return r(e,s);var l=v[e.type];return undefined!==e.data&&(l+=i?f.encode(String(e.data)):String(e.data)),s(""+l)},n.encodeBase64Packet=function(e,r){var a="b"+n.packets[e.type];if(E&&e.data instanceof E){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(a+e)},i.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];o=String.fromCharCode.apply(null,c)}return a+=t.btoa(o),r(a)},n.decodePacket=function(e,t,r){if("string"==typeof e||e===undefined){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=f.decode(e)}catch(e){return b}var a=e.charAt(0);return Number(a)==a&&g[a]?e.length>1?{type:g[a],data:e.substring(1)}:{type:g[a]}:b}var i=new Uint8Array(e),a=i[0],o=u(e,1);return E&&"blob"===t&&(o=new E([o])),{type:g[a],data:o}},n.decodeBase64Packet=function(e,n){var r=g[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var a=d.decode(e.substr(1));return"blob"===n&&E&&(a=new E([a])),{type:r,data:a}},n.encodePayload=function(e,t,r){function a(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,!!o&&t,!0,function(e){r(null,a(e))})}"function"==typeof t&&(r=t,t=null);var o=l(e);return t&&o?E&&!y?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,i,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var a;if(""==e)return r(b,0,1);for(var i,o,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(i=Number(s)))return r(b,0,1);if(o=e.substr(c+1,i),s!=o.length)return r(b,0,1);if(o.length){if(a=n.decodePacket(o,t,!0),b.type==a.type&&b.data==a.data)return r(b,0,1);if(!1===r(a,c+i,l))return}c+=i,s=""}}return""!=s?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return t(new ArrayBuffer(0));s(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),a=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);n=r.buffer}a[i++]=t?0:1;for(var s=n.byteLength.toString(),o=0;o<s.length;o++)a[i++]=parseInt(s[o]);a[i++]=255;for(var r=new Uint8Array(n),o=0;o<r.length;o++)a[i++]=r[o]}),t(a.buffer)})},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,o=i.toString(),s=new Uint8Array(o.length+1),a=0;a<o.length;a++)s[a]=parseInt(o[a]);if(s[o.length]=255,E){var c=new E([n.buffer,s.buffer,e]);t(null,c)}})}s(e,r,function(e,n){return t(new E(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var a=e,i=[],o=!1;a.byteLength>0;){for(var s=new Uint8Array(a),c=0===s[0],l="",d=1;255!=s[d];d++){if(l.length>310){o=!0;break}l+=s[d]}if(o)return r(b,0,1);a=u(a,2+l.length),l=parseInt(l);var p=u(a,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var f=new Uint8Array(p);p="";for(var d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}i.push(p),a=u(a,l)}var m=i.length;i.forEach(function(e,a){r(n.decodePacket(e,t,!0),a,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":34,after:1,"arraybuffer.slice":2,"base64-arraybuffer":14,blob:15,"has-binary":39,utf8:70}],34:[function(e,t){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],35:[function(e,t){function n(e){a.call(this);var t=e||{};this.config={chunksize:16384,pacing:0};var n;for(n in t)this.config[n]=t[n];this.file=null,this.channel=null}function r(){a.call(this),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null}var a=e("wildemitter"),i=e("util");i.inherits(n,a),n.prototype.send=function(e,t){var n=this;this.file=e,this.channel=t;var r="number"!=typeof t.bufferedAmountLowThreshold,a=0,i=function(){var o=new window.FileReader;o.onload=function(){return function(o){n.channel.send(o.target.result),n.emit("progress",a,e.size,o.target.result),e.size>a+o.target.result.byteLength?r?window.setTimeout(i,n.config.pacing):t.bufferedAmount<=t.bufferedAmountLowThreshold&&window.setTimeout(i,0):(n.emit("progress",e.size,e.size,null),n.emit("sentFile")),a+=n.config.chunksize}}();var s=e.slice(a,a+n.config.chunksize);o.readAsArrayBuffer(s)};r||(t.bufferedAmountLowThreshold=8*this.config.chunksize,t.addEventListener("bufferedamountlow",i)),window.setTimeout(i,0)},i.inherits(r,a),r.prototype.receive=function(e,t){var n=this;e&&(this.metadata=e),this.channel=t,t.binaryType="arraybuffer",this.channel.onmessage=function(e){var t=e.data.byteLength;n.received+=t,n.receiveBuffer.push(e.data),n.emit("progress",n.received,n.metadata.size,e.data),n.received===n.metadata.size?(n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},t.exports={},t.exports.support="undefined"!=typeof window&&window&&window.File&&window.FileReader&&window.Blob,t.exports.Sender=n,t.exports.Receiver=r},{util:73,wildemitter:75}],36:[function(e,t){var n={};t.exports=function(e,t){var r,a=2===arguments.length,i=a?t:e;if("undefined"==typeof window||"http:"===window.location.protocol)return r=new Error("NavigatorUserMediaError"),r.name="HTTPS_REQUIRED",i(r);if(window.navigator.userAgent.match("Chrome")){var o=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),s=33,c=!window.chrome.webstore;if(window.navigator.userAgent.match("Linux")&&(s=35),sessionStorage.getScreenMediaJSExtensionId)chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId,{type:"getScreen",id:1},null,function(t){if(t&&""!==t.sourceId)e=a&&e||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3}}},e.video.mandatory.chromeMediaSourceId=t.sourceId,window.navigator.mediaDevices.getUserMedia(e).then(function(e){i(null,e)})["catch"](function(e){i(e)});else{var n=new Error("NavigatorUserMediaError");n.name="NotAllowedError",i(n)}});else if(window.cefGetScreenMedia)window.cefGetScreenMedia(function(t){if(t)e=a&&e||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},e.video.mandatory.chromeMediaSourceId=t,window.navigator.mediaDevices.getUserMedia(e).then(function(e){i(null,e)})["catch"](function(e){i(e)});else{var n=new Error("cefGetScreenMediaError");n.name="CEF_GETSCREENMEDIA_CANCELED",i(n)}});else if(c||o>=26&&o<=s)e=a&&e||{video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3,chromeMediaSource:"screen"}}},window.navigator.mediaDevices.getUserMedia(e).then(function(e){i(null,e)})["catch"](function(e){i(e)});else{var l=window.setTimeout(function(){return r=new Error("NavigatorUserMediaError"),r.name="EXTENSION_UNAVAILABLE",i(r)},1e3);n[l]=[i,a?e:null],window.postMessage({type:"getScreen",id:l},"*")}}else if(window.navigator.userAgent.match("Firefox")){var u=parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10);u>=33?(e=a&&e||{video:{mozMediaSource:"window",mediaSource:"window"}},window.navigator.mediaDevices.getUserMedia(e).then(function(e){i(null,e);var t=e.currentTime,n=window.setInterval(function(){e||window.clearInterval(n),e.currentTime==t&&(window.clearInterval(n),e.onended&&e.onended()),t=e.currentTime},500)})["catch"](function(e){i(e)})):(r=new Error("NavigatorUserMediaError"),r.name="EXTENSION_UNAVAILABLE")}},"undefined"!=typeof window&&window.addEventListener("message",function(e){if(e.origin==window.location.origin)if("gotScreen"==e.data.type&&n[e.data.id]){var t=n[e.data.id],r=t[1],a=t[0];if(delete n[e.data.id],""===e.data.sourceId){var i=new Error("NavigatorUserMediaError");i.name="NotAllowedError",a(i)}else r=r||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},r.video.mandatory.chromeMediaSourceId=e.data.sourceId,window.navigator.mediaDevices.getUserMedia(r).then(function(e){a(null,e)})["catch"](function(e){a(e)})}else"getScreenPending"==e.data.type&&window.clearTimeout(e.data.id)})},{}],37:[function(e,t){t.exports=function(){return this}()},{}],38:[function(e,t){function n(e,t){var n=-Infinity;e.getFloatFrequencyData(t);for(var r=4,a=t.length;r<a;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}var r,a=e("wildemitter");"undefined"!=typeof window&&(r=window.AudioContext||window.webkitAudioContext);var i=null;t.exports=function(e,t){var o=new a;if(!r)return o;var t=t||{},s=t.smoothing||.1,c=t.interval||50,l=t.threshold,u=t.play,d=t.history||10,p=!0;i||(i=new r);var f,m,h;h=i.createAnalyser(),h.fftSize=512,h.smoothingTimeConstant=s,m=new Float32Array(h.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(f=i.createMediaElementSource(e),void 0===u&&(u=!0),l=l||-50):(f=i.createMediaStreamSource(e),l=l||-50),f.connect(h),u&&h.connect(i.destination),o.speaking=!1,o.setThreshold=function(e){l=e},o.setInterval=function(e){c=e},o.stop=function(){p=!1,o.emit("volume_change",-100,l),o.speaking&&(o.speaking=!1,o.emit("stopped_speaking")),h.disconnect(),f.disconnect()},o.speakingHistory=[];for(var y=0;y<d;y++)o.speakingHistory.push(0);var v=function(){setTimeout(function(){if(p){var e=n(h,m);o.emit("volume_change",e,l);var t=0;if(e>l&&!o.speaking){for(var r=o.speakingHistory.length-3;r<o.speakingHistory.length;r++)t+=o.speakingHistory[r];t>=2&&(o.speaking=!0,o.emit("speaking"))}else if(e<l&&o.speaking){for(var r=0;r<o.speakingHistory.length;r++)t+=o.speakingHistory[r];0==t&&(o.speaking=!1,o.emit("stopped_speaking"))}o.speakingHistory.shift(),o.speakingHistory.push(0+(e>l)),v()}},c)};return v(),o}},{wildemitter:75}],39:[function(e,t){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(a(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var a=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:42}],40:[function(e,t){var n=e("global");try{t.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(e){t.exports=!1}},{global:37}],41:[function(e,t){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],42:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],43:[function(t,n,r){!function(t){function n(e){if(n[e]!==o)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var r,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=u.stringify,c="function"==typeof i&&d;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===i(0)&&"0"===i(new Number)&&'""'==i(new String)&&i(s)===o&&i(o)===o&&i()===o&&"1"===i(r)&&"[1]"==i([r])&&"[null]"==i([o])&&"null"==i(null)&&"[null,null,null]"==i([o,s,null])&&i({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===i(null,r)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new Date(-1))}catch(e){c=!1}}t=c}if("json-parse"==e){var l=u.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){r=l(a);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!l('"\t"')}catch(e){}if(p)try{p=1!==l("01")}catch(e){}if(p)try{p=1!==l("1.")}catch(e){}}}}catch(e){p=!1}t=p}}return n[e]=!!t}var a,i,o,s={}.toString,c="function"==typeof e&&e.amd,l="object"==typeof JSON&&JSON,u="object"==typeof r&&r&&!r.nodeType&&r;u&&l?(u.stringify=l.stringify,u.parse=l.parse):u=t.JSON=l||{};var d=new Date(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(e){}if(!n("json")){var p="[object Function]",f="[object Date]",m="[object Number]",h="[object String]",y="[object Array]",v="[object Boolean]",g=n("bug-string-char-index");if(!d)var b=Math.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return E[t]+365*(e-1970)+b((e-1969+(t=+(t>1)))/4)-b((e-1901+t)/100)+b((e-1601+t)/400)};(a={}.hasOwnProperty)||(a=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=s?a=function(e){
var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,a=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,a.call(this,e)});var R={"boolean":1,number:1,string:1,undefined:1},_=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!R[n]};if(i=function(e,t){var n,r,o,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)a.call(r,o)&&c++;return n=r=null,c?i=2==c?function(e,t){var n,r={},i=s.call(e)==p;for(n in e)i&&"prototype"==n||a.call(r,n)||!(r[n]=1)||!a.call(e,n)||t(n)}:function(e,t){var n,r,i=s.call(e)==p;for(n in e)i&&"prototype"==n||!a.call(e,n)||(r="constructor"===n)||t(n);(r||a.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(e,t){var n,i,o=s.call(e)==p,c=!o&&"function"!=typeof e.constructor&&_(e,"hasOwnProperty")?e.hasOwnProperty:a;for(n in e)o&&"prototype"==n||!c.call(e,n)||t(n);for(i=r.length;n=r[--i];c.call(e,n)&&t(n));}),i(e,t)},!n("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C="000000",x=function(e,t){return(C+(t||0)).slice(-e)},O="\\u00",S=function(e){var t,n='"',r=0,a=e.length,i=a>10&&g;for(i&&(t=e.split(""));r<a;r++){var o=e.charCodeAt(r);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=k[o];break;default:if(o<32){n+=O+x(2,o.toString(16));break}n+=i?t[r]:g?e.charAt(r):e[r]}}return n+'"'},T=function(e,t,n,r,c,l,u){var d,p,g,E,R,_,k,C,O,N,P,j,M,D,A,I;try{d=t[e]}catch(e){}if("object"==typeof d&&d)if((p=s.call(d))!=f||a.call(d,"toJSON"))"function"==typeof d.toJSON&&(p!=m&&p!=h&&p!=y||a.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&d<1/0){if(w){for(R=b(d/864e5),g=b(R/365.2425)+1970-1;w(g+1,0)<=R;g++);for(E=b((R-w(g,0))/30.42);w(g,E+1)<=R;E++);R=1+R-w(g,E),_=(d%864e5+864e5)%864e5,k=b(_/36e5)%24,C=b(_/6e4)%60,O=b(_/1e3)%60,N=_%1e3}else g=d.getUTCFullYear(),E=d.getUTCMonth(),R=d.getUTCDate(),k=d.getUTCHours(),C=d.getUTCMinutes(),O=d.getUTCSeconds(),N=d.getUTCMilliseconds();d=(g<=0||g>=1e4?(g<0?"-":"+")+x(6,g<0?-g:g):x(4,g))+"-"+x(2,E+1)+"-"+x(2,R)+"T"+x(2,k)+":"+x(2,C)+":"+x(2,O)+"."+x(3,N)+"Z"}else d=null;if(n&&(d=n.call(t,e,d)),null===d)return"null";if((p=s.call(d))==v)return""+d;if(p==m)return d>-1/0&&d<1/0?""+d:"null";if(p==h)return S(""+d);if("object"==typeof d){for(D=u.length;D--;)if(u[D]===d)throw TypeError();if(u.push(d),P=[],A=l,l+=c,p==y){for(M=0,D=d.length;M<D;M++)j=T(M,d,n,r,c,l,u),P.push(j===o?"null":j);I=P.length?c?"[\n"+l+P.join(",\n"+l)+"\n"+A+"]":"["+P.join(",")+"]":"[]"}else i(r||d,function(e){var t=T(e,d,n,r,c,l,u);t!==o&&P.push(S(e)+":"+(c?" ":"")+t)}),I=P.length?c?"{\n"+l+P.join(",\n"+l)+"\n"+A+"}":"{"+P.join(",")+"}":"{}";return u.pop(),I}};u.stringify=function(e,t,n){var r,a,i,o;if("function"==typeof t||"object"==typeof t&&t)if((o=s.call(t))==p)a=t;else if(o==y){i={};for(var c,l=0,u=t.length;l<u;c=t[l++],((o=s.call(c))==h||o==m)&&(i[c]=1));}if(n)if((o=s.call(n))==m){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else o==h&&(r=n.length<=10?n:n.slice(0,10));return T("",(c={},c[""]=e,c),a,i,r,"",[])}}if(!n("json-parse")){var N,P,j=String.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},D=function(){throw N=P=null,SyntaxError()},A=function(){for(var e,t,n,r,a,i=P,o=i.length;N<o;)switch(a=i.charCodeAt(N)){case 9:case 10:case 13:case 32:N++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=g?i.charAt(N):i[N],N++,e;case 34:for(e="@",N++;N<o;)if((a=i.charCodeAt(N))<32)D();else if(92==a)switch(a=i.charCodeAt(++N)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[a],N++;break;case 117:for(t=++N,n=N+4;N<n;N++)(a=i.charCodeAt(N))>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70||D();e+=j("0x"+i.slice(t,N));break;default:D()}else{if(34==a)break;for(a=i.charCodeAt(N),t=N;a>=32&&92!=a&&34!=a;)a=i.charCodeAt(++N);e+=i.slice(t,N)}if(34==i.charCodeAt(N))return N++,e;D();default:if(t=N,45==a&&(r=!0,a=i.charCodeAt(++N)),a>=48&&a<=57){for(48==a&&(a=i.charCodeAt(N+1))>=48&&a<=57&&D(),r=!1;N<o&&(a=i.charCodeAt(N))>=48&&a<=57;N++);if(46==i.charCodeAt(N)){for(n=++N;n<o&&(a=i.charCodeAt(n))>=48&&a<=57;n++);n==N&&D(),N=n}if(101==(a=i.charCodeAt(N))||69==a){for(a=i.charCodeAt(++N),43!=a&&45!=a||N++,n=N;n<o&&(a=i.charCodeAt(n))>=48&&a<=57;n++);n==N&&D(),N=n}return+i.slice(t,N)}if(r&&D(),"true"==i.slice(N,N+4))return N+=4,!0;if("false"==i.slice(N,N+5))return N+=5,!1;if("null"==i.slice(N,N+4))return N+=4,null;D()}return"$"},I=function(e){var t,n;if("$"==e&&D(),"string"==typeof e){if("@"==(g?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=A());n||(n=!0))n&&(","==e?"]"==(e=A())&&D():D()),","==e&&D(),t.push(I(e));return t}if("{"==e){for(t={};"}"!=(e=A());n||(n=!0))n&&(","==e?"}"==(e=A())&&D():D()),","!=e&&"string"==typeof e&&"@"==(g?e.charAt(0):e[0])&&":"==A()||D(),t[e.slice(1)]=I(A());return t}D()}return e},B=function(e,t,n){var r=L(e,t,n);r===o?delete e[t]:e[t]=r},L=function(e,t,n){var r,a=e[t];if("object"==typeof a&&a)if(s.call(a)==y)for(r=a.length;r--;)B(a,r,n);else i(a,function(e){B(a,e,n)});return n.call(e,t,a)};u.parse=function(e,t){var n,r;return N=0,P=""+e,n=I(A()),"$"!=A()&&D(),N=P=null,t&&s.call(t)==p?L((r={},r[""]=n,r),"",t):n}}}c&&e(function(){return u})}(this)},{}],44:[function(e,t){function n(e){var t=!0;return e.getTracks().forEach(function(e){t="ended"===e.readyState&&t}),t}function r(){if("undefined"==typeof window)return!1;if(!window.navigator.mozGetUserMedia)return!1;var e=window.navigator.userAgent.match(/Firefox\/(\d+)\./);return(e&&e.length>=1&&parseInt(e[1],10))<50}function a(e){c.call(this);var t,n=this.config={detectSpeakingEvents:!1,audioFallback:!1,media:{audio:!0,video:!0},harkOptions:null,logger:l};for(t in e)e.hasOwnProperty(t)&&(this.config[t]=e[t]);this.logger=n.logger,this._log=this.logger.log.bind(this.logger,"LocalMedia:"),this._logerror=this.logger.error.bind(this.logger,"LocalMedia:"),this.localStreams=[],this.localScreens=[],navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||this._logerror("Your browser does not support local media capture."),this._audioMonitors=[],this.on("localStreamStopped",this._stopAudioMonitor.bind(this)),this.on("localScreenStopped",this._stopAudioMonitor.bind(this))}var i=e("util"),o=e("hark"),s=e("getscreenmedia"),c=e("wildemitter"),l=e("mockconsole");i.inherits(a,c),a.prototype.start=function(e,t){var r=this,a=e||this.config.media;this.emit("localStreamRequested",a),navigator.mediaDevices.getUserMedia(a).then(function(e){if(a.audio&&r.config.detectSpeakingEvents&&r._setupAudioMonitor(e,r.config.harkOptions),r.localStreams.push(e),e.getTracks().forEach(function(t){t.addEventListener("ended",function(){n(e)&&r._removeStream(e)})}),r.emit("localStream",e),t)return t(null,e)})["catch"](function(e){return r.config.audioFallback&&"DevicesNotFoundError"===e.name&&!1!==a.video?(a.video=!1,void r.start(a,t)):(r.emit("localStreamRequestFailed",a),t?t(e,null):void 0)})},a.prototype.stop=function(e){this.stopStream(e),this.stopScreenShare(e)},a.prototype.stopStream=function(e){var t=this;if(e){this.localStreams.indexOf(e)>-1&&(e.getTracks().forEach(function(e){e.stop()}),r()&&this._removeStream(e))}else this.localStreams.forEach(function(e){e.getTracks().forEach(function(e){e.stop()}),r()&&t._removeStream(e)})},a.prototype.startScreenShare=function(e,t){var n=this;this.emit("localScreenRequested"),"function"!=typeof e||t||(t=e,e=null),s(e,function(e,r){if(e?n.emit("localScreenRequestFailed"):(n.localScreens.push(r),r.getTracks().forEach(function(e){e.addEventListener("ended",function(){var e=!0;r.getTracks().forEach(function(t){e="ended"===t.readyState&&e}),e&&n._removeStream(r)})}),n.emit("localScreen",r)),t)return t(e,r)})},a.prototype.stopScreenShare=function(e){var t=this;if(e){this.localScreens.indexOf(e)>-1&&(e.getTracks().forEach(function(e){e.stop()}),r()&&this._removeStream(e))}else this.localScreens.forEach(function(e){e.getTracks().forEach(function(e){e.stop()}),r()&&t._removeStream(e)})},a.prototype.mute=function(){this._audioEnabled(!1),this.emit("audioOff")},a.prototype.unmute=function(){this._audioEnabled(!0),this.emit("audioOn")},a.prototype.pauseVideo=function(){this._videoEnabled(!1),this.emit("videoOff")},a.prototype.resumeVideo=function(){this._videoEnabled(!0),this.emit("videoOn")},a.prototype.pause=function(){this.mute(),this.pauseVideo()},a.prototype.resume=function(){this.unmute(),this.resumeVideo()},a.prototype._audioEnabled=function(e){this.localStreams.forEach(function(t){t.getAudioTracks().forEach(function(t){t.enabled=!!e})})},a.prototype._videoEnabled=function(e){this.localStreams.forEach(function(t){t.getVideoTracks().forEach(function(t){t.enabled=!!e})})},a.prototype.isAudioEnabled=function(){var e=!0;return this.localStreams.forEach(function(t){t.getAudioTracks().forEach(function(t){e=e&&t.enabled})}),e},a.prototype.isVideoEnabled=function(){var e=!0;return this.localStreams.forEach(function(t){t.getVideoTracks().forEach(function(t){e=e&&t.enabled})}),e},a.prototype._removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1?(this.localStreams.splice(t,1),this.emit("localStreamStopped",e)):(t=this.localScreens.indexOf(e))>-1&&(this.localScreens.splice(t,1),this.emit("localScreenStopped",e))},a.prototype._setupAudioMonitor=function(e,t){this._log("Setup audio");var n,r=o(e,t),a=this;r.on("speaking",function(){a.emit("speaking")}),r.on("stopped_speaking",function(){n&&clearTimeout(n),n=setTimeout(function(){a.emit("stoppedSpeaking")},1e3)}),r.on("volume_change",function(e,t){a.emit("volumeChange",e,t)}),this._audioMonitors.push({audio:r,stream:e})},a.prototype._stopAudioMonitor=function(e){var t=-1;this._audioMonitors.forEach(function(n,r){n.stream===e&&(t=r)}),t>-1&&(this._audioMonitors[t].audio.stop(),this._audioMonitors.splice(t,1))},t.exports=a},{getscreenmedia:36,hark:38,mockconsole:46,util:73,wildemitter:75}],45:[function(e,t,n){(function(e){function r(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function i(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function s(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function c(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function l(e,t){return null==e?undefined:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function p(e,t){return function(n){return e(t(n))}}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=Bt?Bt(null):{}}function y(e){return this.has(e)&&delete this.__data__[e]}function v(e){var t=this.__data__;if(Bt){var n=t[e];return n===Te?undefined:n}return bt.call(t,e)?t[e]:undefined}function g(e){var t=this.__data__;return Bt?t[e]!==undefined:bt.call(t,e)}function b(e,t){return this.__data__[e]=Bt&&t===undefined?Te:t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(){this.__data__=[]}function R(e){var t=this.__data__,n=F(t,e);return!(n<0)&&(n==t.length-1?t.pop():St.call(t,n,1),!0)}function _(e){var t=this.__data__,n=F(t,e);return n<0?undefined:t[n][1]}function k(e){return F(this.__data__,e)>-1}function C(e,t){var n=this.__data__,r=F(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(){this.__data__={hash:new m,map:new(Mt||E),string:new m}}function S(e){return oe(this,e)["delete"](e)}function T(e){return oe(this,e).get(e)}function N(e){return oe(this,e).has(e)}function P(e,t){return oe(this,e).set(e,t),this}function j(e){this.__data__=new E(e)}function M(){this.__data__=new E}function D(e){return this.__data__["delete"](e)}function A(e){return this.__data__.get(e)}function I(e){return this.__data__.has(e)}function B(e,t){var n=this.__data__;if(n instanceof E){var r=n.__data__;if(!Mt||r.length<Se-1)return r.push([e,t]),this;n=this.__data__=new x(r)}return n.set(e,t),this}function L(e,t){var n=Vt(e)||ge(e)?c(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!bt.call(e,i)||a&&("length"==i||de(i,r))||n.push(i);return n}function U(e,t,n){var r=e[t];bt.call(e,t)&&ve(r,n)&&(n!==undefined||t in e)||(e[t]=n)}function F(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function $(e,t){return e&&re(t,Ce(t),e)}function G(e,t,n,r,a,o,s){var c;if(r&&(c=o?r(e,a,o,s):r(e)),c!==undefined)return c;if(!_e(e))return e;var l=Vt(e);if(l){if(c=ce(e),!t)return ne(e,c)}else{var d=Wt(e),p=d==De||d==Ae;if(Jt(e))return J(e,t);if(d==Le||d==Pe||p&&!o){if(u(e))return o?e:{};if(c=le(p?{}:e),!t)return ae(e,$(c,e))}else{if(!ot[d])return o?e:{};c=ue(e,d,G,t)}}s||(s=new j);var f=s.get(e);if(f)return f;if(s.set(e,c),!l)var m=n?ie(e):Ce(e);return i(m||e,function(a,i){m&&(i=a,a=e[i]),U(c,i,G(a,t,n,r,i,e,s))}),c}function z(e){return _e(e)?xt(e):{}}function q(e,t,n){var r=t(e);return Vt(e)?r:o(r,n(e))}function H(e){return Et.call(e)}function W(e){return!(!_e(e)||fe(e))&&(we(e)||u(e)?wt:at).test(he(e))}function V(e){if(!me(e))return Pt(e);var t=[];for(var n in Object(e))bt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function J(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Y(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function X(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function K(e,t,n){return s(t?n(d(e),!0):d(e),r,new e.constructor)}function Q(e){var t=new e.constructor(e.source,rt.exec(e));return t.lastIndex=e.lastIndex,t}function Z(e,t,n){return s(t?n(f(e),!0):f(e),a,new e.constructor)}function ee(e){return qt?Object(qt.call(e)):{}}function te(e,t){var n=t?Y(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function re(e,t,n,r){n||(n={});for(var a=-1,i=t.length;++a<i;){var o=t[a],s=r?r(n[o],e[o],o,n,e):undefined;U(n,o,s===undefined?e[o]:s)}return n}function ae(e,t){return re(e,Ht(e),t)}function ie(e){return q(e,Ce,Ht)}function oe(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=l(e,t);return W(n)?n:undefined}function ce(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function le(e){return"function"!=typeof e.constructor||me(e)?{}:z(Ct(e))}function ue(e,t,n,r){var a=e.constructor;switch(t){case He:return Y(e);case je:case Me:return new a(+e);case We:return X(e,r);case Ve:case Je:case Ye:case Xe:case Ke:case Qe:case Ze:case et:case tt:return te(e,r);case Ie:return K(e,r,n);case Be:case Ge:return new a(e);case Fe:return Q(e);case $e:return Z(e,r,n);case ze:return ee(e)}}function de(e,t){return!!(t=null==t?Ne:t)&&("number"==typeof e||it.test(e))&&e>-1&&e%1==0&&e<t}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!vt&&vt in e}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ht)}function he(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ye(e){return G(e,!0,!0)}function ve(e,t){return e===t||e!==e&&t!==t}function ge(e){return Ee(e)&&bt.call(e,"callee")&&(!Ot.call(e,"callee")||Et.call(e)==Pe)}function be(e){return null!=e&&Re(e.length)&&!we(e)}function Ee(e){return ke(e)&&be(e)}function we(e){var t=_e(e)?Et.call(e):"";return t==De||t==Ae}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ne}function _e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ke(e){return!!e&&"object"==typeof e}function Ce(e){return be(e)?L(e):V(e)}function xe(){return[]}function Oe(){return!1}var Se=200,Te="__lodash_hash_undefined__",Ne=9007199254740991,Pe="[object Arguments]",je="[object Boolean]",Me="[object Date]",De="[object Function]",Ae="[object GeneratorFunction]",Ie="[object Map]",Be="[object Number]",Le="[object Object]",Ue="[object Promise]",Fe="[object RegExp]",$e="[object Set]",Ge="[object String]",ze="[object Symbol]",qe="[object WeakMap]",He="[object ArrayBuffer]",We="[object DataView]",Ve="[object Float32Array]",Je="[object Float64Array]",Ye="[object Int8Array]",Xe="[object Int16Array]",Ke="[object Int32Array]",Qe="[object Uint8Array]",Ze="[object Uint8ClampedArray]",et="[object Uint16Array]",tt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,rt=/\w*$/,at=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,ot={};ot[Pe]=ot["[object Array]"]=ot[He]=ot[We]=ot[je]=ot[Me]=ot[Ve]=ot[Je]=ot[Ye]=ot[Xe]=ot[Ke]=ot[Ie]=ot[Be]=ot[Le]=ot[Fe]=ot[$e]=ot[Ge]=ot[ze]=ot[Qe]=ot[Ze]=ot[et]=ot[tt]=!0,ot["[object Error]"]=ot[De]=ot[qe]=!1;var st="object"==typeof e&&e&&e.Object===Object&&e,ct="object"==typeof self&&self&&self.Object===Object&&self,lt=st||ct||Function("return this")(),ut="object"==typeof n&&n&&!n.nodeType&&n,dt=ut&&"object"==typeof t&&t&&!t.nodeType&&t,pt=dt&&dt.exports===ut,ft=Array.prototype,mt=Function.prototype,ht=Object.prototype,yt=lt["__core-js_shared__"],vt=function(){var e=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gt=mt.toString,bt=ht.hasOwnProperty,Et=ht.toString,wt=RegExp("^"+gt.call(bt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=pt?lt.Buffer:undefined,_t=lt.Symbol,kt=lt.Uint8Array,Ct=p(Object.getPrototypeOf,Object),xt=Object.create,Ot=ht.propertyIsEnumerable,St=ft.splice,Tt=Object.getOwnPropertySymbols,Nt=Rt?Rt.isBuffer:undefined,Pt=p(Object.keys,Object),jt=se(lt,"DataView"),Mt=se(lt,"Map"),Dt=se(lt,"Promise"),At=se(lt,"Set"),It=se(lt,"WeakMap"),Bt=se(Object,"create"),Lt=he(jt),Ut=he(Mt),Ft=he(Dt),$t=he(At),Gt=he(It),zt=_t?_t.prototype:undefined,qt=zt?zt.valueOf:undefined;m.prototype.clear=h,m.prototype["delete"]=y,m.prototype.get=v,m.prototype.has=g,m.prototype.set=b,E.prototype.clear=w,E.prototype["delete"]=R,E.prototype.get=_,E.prototype.has=k,E.prototype.set=C,x.prototype.clear=O,x.prototype["delete"]=S,x.prototype.get=T,x.prototype.has=N,x.prototype.set=P,j.prototype.clear=M,j.prototype["delete"]=D,j.prototype.get=A,j.prototype.has=I,j.prototype.set=B;var Ht=Tt?p(Tt,Object):xe,Wt=H;(jt&&Wt(new jt(new ArrayBuffer(1)))!=We||Mt&&Wt(new Mt)!=Ie||Dt&&Wt(Dt.resolve())!=Ue||At&&Wt(new At)!=$e||It&&Wt(new It)!=qe)&&(Wt=function(e){var t=Et.call(e),n=t==Le?e.constructor:undefined,r=n?he(n):undefined;if(r)switch(r){case Lt:return We;case Ut:return Ie;case Ft:return Ue;case $t:return $e;case Gt:return qe}return t});var Vt=Array.isArray,Jt=Nt||Oe;t.exports=ye}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t){for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r=n.length,a=function(){},i={};r--;)i[n[r]]=a;t.exports=i},{}],47:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*o;case"ms":return n}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function a(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,o,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var o=1e3,s=60*o,c=60*s,l=24*c,u=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?a(e):r(e)}},{}],48:[function(e,t,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],49:[function(e,t){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(a,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],51:[function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=n.exec(e||""),a={},i=14;i--;)a[r[i]]=t[i]||"";return a}},{}],52:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){h&&f&&(h=!1,f.length?m=f.concat(m):y=-1,m.length&&s())}function s(){if(!h){var e=a(o);h=!0;for(var t=m.length;t;){for(f=m,m=[];++y<t;)f&&f[y].run();y=-1,t=m.length}f=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,m=[],h=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||h||a(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],53:[function(e,t){function n(e,t){var n,r=this;i.call(this),e=e||{},e.iceServers=e.iceServers||[],this.enableChromeNativeSimulcast=!1,t&&t.optional&&window.chrome&&null===navigator.appVersion.match(/Chromium\//)&&t.optional.forEach(function(e){e.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetRestrictBandwidth&&(r.restrictBandwidth=e.andyetRestrictBandwidth)}),this.batchIceCandidates=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetBatchIce&&(r.batchIceCandidates=e.andyetBatchIce)}),this.batchedIceCandidates=[],t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.andyetFasterICE&&(r.eliminateDuplicateCandidates=e.andyetFasterICE)}),t&&t.optional&&t.optional.forEach(function(e){e.andyetDontSignalCandidates&&(r.dontSignalCandidates=e.andyetDontSignalCandidates)}),this.assumeSetLocalSuccess=!1,t&&t.optional&&t.optional.forEach(function(e){e.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=e.andyetAssumeSetLocalSuccess)}),window.navigator.mozGetUserMedia&&t&&t.optional&&(this.wtFirefox=0,t.optional.forEach(function(e){e.andyetFirefoxMakesMeSad&&(r.wtFirefox=e.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new RTCPeerConnection(e,t),"function"==typeof this.pc.getLocalStreams?this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc):this.getLocalStreams=function(){return[]},this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=function(e){"function"==typeof r.pc.removeStream?r.pc.removeStream.apply(r.pc,arguments):"function"==typeof r.pc.removeTrack&&e.getTracks().forEach(function(e){r.pc.removeTrack(e)})},"function"==typeof this.pc.removeTrack&&(this.removeTrack=this.pc.removeTrack.bind(this.pc)),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onremovetrack=this.emit.bind(this,"removeTrack"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},this.iceCredentials={local:{},remote:{}};for(n in e)this.config[n]=e[n];this.config.debug&&this.on("*",function(){(e.logger||console).log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}var r=e("util"),a=e("sdp-jingle-json"),i=e("wildemitter"),o=e("lodash.clonedeep");r.inherits(n,i),Object.defineProperty(n.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(n.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),n.prototype._role=function(){return this.isInitiator?"initiator":"responder"},n.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},n.prototype._checkLocalCandidate=function(e){var t=a.toCandidateJSON(e);"srflx"==t.type?this.hadLocalStunCandidate=!0:"relay"==t.type&&(this.hadLocalRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},n.prototype._checkRemoteCandidate=function(e){var t=a.toCandidateJSON(e);"srflx"==t.type?this.hadRemoteStunCandidate=!0:"relay"==t.type&&(this.hadRemoteRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},n.prototype.processIce=function(e,t){t=t||function(){};var n=this;if("closed"===this.pc.signalingState)return t();if(e.contents||e.jingle&&e.jingle.contents){var r=this.remoteDescription.contents.map(function(e){return e.name});(e.contents||e.jingle.contents).forEach(function(e){var i=e.transport||{},o=i.candidates||[],s=r.indexOf(e.name),c=e.name,l=n.remoteDescription.contents.find(function(t){return t.name===e.name}),u=function(){o.forEach(function(e){var t=a.toCandidateSDP(e);n.pc.addIceCandidate(new RTCIceCandidate({candidate:t,sdpMLineIndex:s,sdpMid:c}),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(t)}),t()};if(n.iceCredentials.remote[e.name]&&i.ufrag&&n.iceCredentials.remote[e.name].ufrag!==i.ufrag)if(l){l.transport.ufrag=i.ufrag,l.transport.pwd=i.pwd;var d={type:"offer",jingle:n.remoteDescription};d.sdp=a.toSessionSDP(d.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.pc.setRemoteDescription(new RTCSessionDescription(d),function(){u()},function(e){n.emit("error",e)})}else n.emit("error","ice restart failed to find matching content");else u()})}else{if(e.candidate&&0!==e.candidate.candidate.indexOf("a=")&&(e.candidate.candidate="a="+e.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(e.candidate),t();n.pc.addIceCandidate(new RTCIceCandidate(e.candidate),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate.candidate),t()}},n.prototype.offer=function(e,t){var n=this,r=2===arguments.length,i=r&&e?e:{offerToReceiveAudio:1,offerToReceiveVideo:1};if(t=r?t:e,t=t||function(){},"closed"===this.pc.signalingState)return t("Already closed");this.pc.createOffer(function(e){var r={type:"offer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),t(null,r)),n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){var i;n.config.useJingle&&(i=a.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,i.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.local[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),r.jingle=i),r.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),n.assumeSetLocalSuccess||(n.emit("offer",r),t(null,r))},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},i)},n.prototype.handleOffer=function(e,t){t=t||function(){};var n=this;if(e.type="offer",e.jingle){if(this.enableChromeNativeSimulcast&&e.jingle.contents.forEach(function(e){"video"===e.name&&(e.application.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&e.jingle.contents.forEach(function(e){if("video"===e.name){var t=e.application.sources||[];0!==t.length&&"3735928559"===t[0].ssrc||(t.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),e.application.sources=t)}}),n.restrictBandwidth>0&&e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name){var r=e.jingle.contents[1];r.application&&r.application.bandwidth&&r.application.bandwidth.bandwidth||(e.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},e.sdp=a.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),e.sdp=a.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle}e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){t()},t)},n.prototype.answerAudioOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(t,e)},n.prototype.answerBroadcastOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(t,e)},n.prototype.answer=function(e,t){var n=2===arguments.length,r=n?t:e,a=n&&e?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(a,r)},n.prototype.handleAnswer=function(e,t){t=t||function(){};var n=this;e.jingle&&(e.sdp=a.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle,e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})})),e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(e){n.pc.addIceCandidate(new RTCIceCandidate(e),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),t(null)},t)},n.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},n.prototype._answer=function(e,t){
t=t||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return t("Already closed");n.pc.createAnswer(function(e){var r=[];if(n.enableChromeNativeSimulcast&&(e.jingle=a.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name)){var i=e.jingle.contents[1].application.sourceGroups||[],s=!1;if(i.forEach(function(e){"SIM"==e.semantics&&(s=!0)}),!s&&e.jingle.contents[1].application.sources.length){var c=JSON.parse(JSON.stringify(e.jingle.contents[1].application.sources[0]));c.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(c),r.push(e.jingle.contents[1].application.sources[0].ssrc),r.push(c.ssrc),i.push({semantics:"SIM",sources:r});var l=JSON.parse(JSON.stringify(c));l.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(l),i.push({semantics:"FID",sources:[c.ssrc,l.ssrc]}),e.jingle.contents[1].application.sourceGroups=i,e.sdp=a.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var u={type:"answer",sdp:e.sdp};if(n.assumeSetLocalSuccess){var d=o(u);n.emit("answer",d),t(null,d)}n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){if(n.config.useJingle){var r=a.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,u.jingle=r}if(n.enableChromeNativeSimulcast&&(u.jingle||(u.jingle=a.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"})),u.jingle.contents[1].application.sources.forEach(function(e,t){e.parameters=e.parameters.map(function(e){return"msid"===e.key&&(e.value+="-"+Math.floor(t/2)),e})}),u.sdp=a.toSessionSDP(u.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})),u.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),!n.assumeSetLocalSuccess){var i=o(u);n.emit("answer",i),t(null,i)}},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},e)},n.prototype._onIce=function(e){var t=this;if(e.candidate){if(this.dontSignalCandidates)return;var n=e.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i,o,s=a.toCandidateJSON(n.candidate);if(this.eliminateDuplicateCandidates&&"relay"===s.type&&(i=this._candidateBuffer.filter(function(e){return"relay"===e.type}).map(function(e){return e.foundation+":"+e.component}),(o=i.indexOf(s.foundation+":"+s.component))>-1&&s.priority>>24>=i[o].priority>>24))return;if("max-bundle"===this.config.bundlePolicy&&(i=this._candidateBuffer.filter(function(e){return s.type===e.type}).map(function(e){return e.address+":"+e.port}),(o=i.indexOf(s.address+":"+s.port))>-1))return;if("require"===this.config.rtcpMuxPolicy&&"2"===s.component)return;if(this._candidateBuffer.push(s),t.config.useJingle){if(n.sdpMid||(t.pc.remoteDescription&&"offer"===t.pc.remoteDescription.type?n.sdpMid=t.remoteDescription.contents[n.sdpMLineIndex].name:n.sdpMid=t.localDescription.contents[n.sdpMLineIndex].name),!t.iceCredentials.local[n.sdpMid]){a.toSessionJSON(t.pc.localDescription.sdp,{role:t._role(),direction:"outgoing"}).contents.forEach(function(e){var n=e.transport||{};n.ufrag&&(t.iceCredentials.local[e.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:t._role(),transport:{transportType:"iceUdp",ufrag:t.iceCredentials.local[n.sdpMid].ufrag,pwd:t.iceCredentials.local[n.sdpMid].pwd,candidates:[s]}}]},t.batchIceCandidates>0)return 0===t.batchedIceCandidates.length&&window.setTimeout(function(){var e={};t.batchedIceCandidates.forEach(function(t){t=t.contents[0],e[t.name]||(e[t.name]=t),e[t.name].transport.candidates.push(t.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(e).forEach(function(t){n.jingle.contents.push(e[t])}),t.batchedIceCandidates=[],t.emit("ice",n)},t.batchIceCandidates),void t.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},n.prototype._onDataChannel=function(e){var t=e.channel;this._remoteDataChannels.push(t),this.emit("addChannel",t)},n.prototype.createDataChannel=function(e,t){var n=this.pc.createDataChannel(e,t);return this._localDataChannels.push(n),n},n.prototype.getStats=function(){if("function"!=typeof arguments[0])return this.pc.getStats.apply(this.pc,arguments);var e=arguments[0];this.pc.getStats().then(function(t){e(null,t)},function(t){e(t)})},t.exports=n},{"lodash.clonedeep":45,"sdp-jingle-json":54,util:73,wildemitter:75}],54:[function(e,t,n){var r=e("./lib/tosdp"),a=e("./lib/tojson");n.toIncomingSDPOffer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"incoming"})},n.toOutgoingSDPOffer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"outgoing"})},n.toIncomingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"incoming"})},n.toOutgoingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"outgoing"})},n.toIncomingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"incoming"})},n.toOutgoingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"outgoing"})},n.toIncomingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"incoming"})},n.toOutgoingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"outgoing"})},n.toCandidateSDP=r.toCandidateSDP,n.toMediaSDP=r.toMediaSDP,n.toSessionSDP=r.toSessionSDP,n.toIncomingJSONOffer=function(e,t){return a.toSessionJSON(e,{role:"responder",direction:"incoming",creators:t})},n.toOutgoingJSONOffer=function(e,t){return a.toSessionJSON(e,{role:"initiator",direction:"outgoing",creators:t})},n.toIncomingJSONAnswer=function(e,t){return a.toSessionJSON(e,{role:"initiator",direction:"incoming",creators:t})},n.toOutgoingJSONAnswer=function(e,t){return a.toSessionJSON(e,{role:"responder",direction:"outgoing",creators:t})},n.toIncomingMediaJSONOffer=function(e,t){return a.toMediaJSON(e,{role:"responder",direction:"incoming",creator:t})},n.toOutgoingMediaJSONOffer=function(e,t){return a.toMediaJSON(e,{role:"initiator",direction:"outgoing",creator:t})},n.toIncomingMediaJSONAnswer=function(e,t){return a.toMediaJSON(e,{role:"initiator",direction:"incoming",creator:t})},n.toOutgoingMediaJSONAnswer=function(e,t){return a.toMediaJSON(e,{role:"responder",direction:"outgoing",creator:t})},n.toCandidateJSON=a.toCandidateJSON,n.toMediaJSON=a.toMediaJSON,n.toSessionJSON=a.toSessionJSON},{"./lib/tojson":57,"./lib/tosdp":58}],55:[function(e,t,n){n.lines=function(e){return e.split("\r\n").filter(function(e){return e.length>0})},n.findLine=function(e,t,n){for(var r=e.length,a=0;a<t.length;a++)if(t[a].substr(0,r)===e)return t[a];if(!n)return!1;for(var i=0;i<n.length;i++)if(n[i].substr(0,r)===e)return n[i];return!1},n.findLines=function(e,t,n){for(var r=[],a=e.length,i=0;i<t.length;i++)t[i].substr(0,a)===e&&r.push(t[i]);if(r.length||!n)return r;for(var o=0;o<n.length;o++)n[o].substr(0,a)===e&&r.push(n[o]);return r},n.mline=function(e){for(var t=e.substr(2).split(" "),n={media:t[0],port:t[1],proto:t[2],formats:[]},r=3;r<t.length;r++)t[r]&&n.formats.push(t[r]);return n},n.rtpmap=function(e){var t=e.substr(9).split(" "),n={id:t.shift()};return t=t[0].split("/"),n.name=t[0],n.clockrate=t[1],n.channels=3==t.length?t[2]:"1",n},n.sctpmap=function(e){var t=e.substr(10).split(" ");return{number:t.shift(),protocol:t.shift(),streams:t.shift()}},n.fmtp=function(e){for(var t,n,r,a=e.substr(e.indexOf(" ")+1).split(";"),i=[],o=0;o<a.length;o++)t=a[o].split("="),n=t[0].trim(),r=t[1],n&&r?i.push({key:n,value:r}):n&&i.push({key:"",value:n});return i},n.crypto=function(e){var t=e.substr(9).split(" ");return{tag:t[0],cipherSuite:t[1],keyParams:t[2],sessionParams:t.slice(3).join(" ")}},n.fingerprint=function(e){var t=e.substr(14).split(" ");return{hash:t[0],value:t[1]}},n.extmap=function(e){var t=e.substr(9).split(" "),n={},r=t.shift(),a=r.indexOf("/");return a>=0?(n.id=r.substr(0,a),n.senders=r.substr(a+1)):(n.id=r,n.senders="sendrecv"),n.uri=t.shift()||"",n},n.rtcpfb=function(e){var t=e.substr(10).split(" "),n={};return n.id=t.shift(),n.type=t.shift(),"trr-int"===n.type?n.value=t.shift():n.subtype=t.shift()||"",n.parameters=t,n},n.candidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:t[3],ip:t[4],port:t[5],type:t[7],generation:"0"},r=8;r<t.length;r+=2)"raddr"===t[r]?n.relAddr=t[r+1]:"rport"===t[r]?n.relPort=t[r+1]:"generation"===t[r]?n.generation=t[r+1]:"tcptype"===t[r]&&(n.tcpType=t[r+1]);return n.network="1",n},n.sourceGroups=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].substr(13).split(" ");t.push({semantics:r.shift(),sources:r})}return t},n.sources=function(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r].substr(7).split(" "),i=a.shift();if(!n[i]){var o={ssrc:i,parameters:[]};t.push(o),n[i]=o}a=a.join(" ").split(":");var s=a.shift(),c=a.join(":")||null;n[i].parameters.push({key:s,value:c})}return t},n.groups=function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r].substr(8).split(" "),n.push({semantics:t.shift(),contents:t});return n},n.bandwidth=function(e){var t=e.substr(2).split(":"),n={};return n.type=t.shift(),n.bandwidth=t.shift(),n},n.msid=function(e){var t=e.substr(7),n=t.split(" ");return{msid:t,mslabel:n[0],label:n[1]}}},{}],56:[function(e,t){t.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},{}],57:[function(e,t,n){var r=e("./senders"),a=e("./parsers"),i=Math.random();n._setIdCounter=function(e){i=e},n.toSessionJSON=function(e,t){var r,i=t.creators||[],o=t.role||"initiator",s=t.direction||"outgoing",c=e.split("\r\nm=");for(r=1;r<c.length;r++)c[r]="m="+c[r],r!==c.length-1&&(c[r]+="\r\n");var l=c.shift()+"\r\n",u=a.lines(l),d={},p=[];for(r=0;r<c.length;r++)p.push(n.toMediaJSON(c[r],l,{role:o,direction:s,creator:i[r]||"initiator"}));d.contents=p;var f=a.findLines("a=group:",u);return f.length&&(d.groups=a.groups(f)),d},n.toMediaJSON=function(e,t,i){var o=i.creator||"initiator",s=i.role||"initiator",c=i.direction||"outgoing",l=a.lines(e),u=a.lines(t),d=a.mline(l[0]),p={creator:o,name:d.media,application:{applicationType:"rtp",media:d.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==d.media&&(p.application={applicationType:"datachannel"},p.transport.sctp=[]);var f=p.application,m=p.transport,h=a.findLine("a=mid:",l);if(h&&(p.name=h.substr(6)),a.findLine("a=sendrecv",l,u)?p.senders="both":a.findLine("a=sendonly",l,u)?p.senders=r[s][c].sendonly:a.findLine("a=recvonly",l,u)?p.senders=r[s][c].recvonly:a.findLine("a=inactive",l,u)&&(p.senders="none"),"rtp"==f.applicationType){var y=a.findLine("b=",l);y&&(f.bandwidth=a.bandwidth(y));var v=a.findLine("a=ssrc:",l);v&&(f.ssrc=v.substr(7).split(" ")[0]);a.findLines("a=rtpmap:",l).forEach(function(e){var t=a.rtpmap(e);t.parameters=[],t.feedback=[],a.findLines("a=fmtp:"+t.id,l).forEach(function(e){t.parameters=a.fmtp(e)}),a.findLines("a=rtcp-fb:"+t.id,l).forEach(function(e){t.feedback.push(a.rtcpfb(e))}),f.payloads.push(t)});a.findLines("a=crypto:",l,u).forEach(function(e){f.encryption.push(a.crypto(e))}),a.findLine("a=rtcp-mux",l)&&(f.mux=!0);a.findLines("a=rtcp-fb:*",l).forEach(function(e){f.feedback.push(a.rtcpfb(e))});a.findLines("a=extmap:",l).forEach(function(e){var t=a.extmap(e);t.senders=r[s][c][t.senders],f.headerExtensions.push(t)});var g=a.findLines("a=ssrc-group:",l);f.sourceGroups=a.sourceGroups(g||[]);var b=a.findLines("a=ssrc:",l),E=f.sources=a.sources(b||[]),w=a.findLine("a=msid:",l);if(w){var R=a.msid(w);["msid","mslabel","label"].forEach(function(e){for(var t=0;t<E.length;t++){for(var n=!1,r=0;r<E[t].parameters.length;r++)E[t].parameters[r].key===e&&(n=!0);n||E[t].parameters.push({key:e,value:R[e]})}})}a.findLine("a=x-google-flag:conference",l,u)&&(f.googConferenceFlag=!0)}var _=a.findLines("a=fingerprint:",l,u),k=a.findLine("a=setup:",l,u);_.forEach(function(e){var t=a.fingerprint(e);k&&(t.setup=k.substr(8)),m.fingerprints.push(t)});var C=a.findLine("a=ice-ufrag:",l,u),x=a.findLine("a=ice-pwd:",l,u);if(C&&x){m.ufrag=C.substr(12),m.pwd=x.substr(10),m.candidates=[];a.findLines("a=candidate:",l,u).forEach(function(e){m.candidates.push(n.toCandidateJSON(e))})}if("datachannel"==f.applicationType){a.findLines("a=sctpmap:",l).forEach(function(e){var t=a.sctpmap(e);m.sctp.push(t)})}return p},n.toCandidateJSON=function(e){var t=a.candidate(e.split("\r\n")[0]);return t.id=(i++).toString(36).substr(0,12),t}},{"./parsers":55,"./senders":56}],58:[function(e,t,n){var r=e("./senders");n.toSessionSDP=function(e,t){var r=(t.role,t.direction,t.sid||e.sid||Date.now()),a=t.time||Date.now(),i=["v=0","o=- "+r+" "+a+" IN IP4 0.0.0.0","s=-","t=0 0"],o=e.contents||[],s=!1;return o.forEach(function(e){e.application.sources&&e.application.sources.length&&(s=!0)}),s&&i.push("a=msid-semantic: WMS *"),(e.groups||[]).forEach(function(e){i.push("a=group:"+e.semantics+" "+e.contents.join(" "))}),o.forEach(function(e){i.push(n.toMediaSDP(e,t))}),i.join("\r\n")+"\r\n"},n.toMediaSDP=function(e,t){var a=[],i=t.role||"initiator",o=t.direction||"outgoing",s=e.application,c=e.transport,l=s.payloads||[],u=c&&c.fingerprints||[],d=[];if("datachannel"==s.applicationType?(d.push("application"),d.push("1"),d.push("DTLS/SCTP"),c.sctp&&c.sctp.forEach(function(e){d.push(e.number)})):(d.push(s.media),d.push("1"),u.length>0?d.push("UDP/TLS/RTP/SAVPF"):s.encryption&&s.encryption.length>0?d.push("RTP/SAVPF"):d.push("RTP/AVPF"),l.forEach(function(e){d.push(e.id)})),a.push("m="+d.join(" ")),a.push("c=IN IP4 0.0.0.0"),s.bandwidth&&s.bandwidth.type&&s.bandwidth.bandwidth&&a.push("b="+s.bandwidth.type+":"+s.bandwidth.bandwidth),"rtp"==s.applicationType&&a.push("a=rtcp:1 IN IP4 0.0.0.0"),c){c.ufrag&&a.push("a=ice-ufrag:"+c.ufrag),c.pwd&&a.push("a=ice-pwd:"+c.pwd);u.forEach(function(e){a.push("a=fingerprint:"+e.hash+" "+e.value),e.setup&&!!1&&a.push("a=setup:"+e.setup)}),c.sctp&&c.sctp.forEach(function(e){a.push("a=sctpmap:"+e.number+" "+e.protocol+" "+e.streams)})}return"rtp"==s.applicationType&&a.push("a="+(r[i][o][e.senders]||"sendrecv")),a.push("a=mid:"+e.name),s.sources&&s.sources.length&&(s.sources[0].parameters||[]).forEach(function(e){"msid"===e.key&&a.push("a=msid:"+e.value)}),s.mux&&a.push("a=rtcp-mux"),(s.encryption||[]).forEach(function(e){a.push("a=crypto:"+e.tag+" "+e.cipherSuite+" "+e.keyParams+(e.sessionParams?" "+e.sessionParams:""))}),s.googConferenceFlag&&a.push("a=x-google-flag:conference"),l.forEach(function(e){var t="a=rtpmap:"+e.id+" "+e.name+"/"+e.clockrate;if(e.channels&&"1"!=e.channels&&(t+="/"+e.channels),a.push(t),e.parameters&&e.parameters.length){var n=["a=fmtp:"+e.id],r=[];e.parameters.forEach(function(e){r.push((e.key?e.key+"=":"")+e.value)}),n.push(r.join(";")),a.push(n.join(" "))}e.feedback&&e.feedback.forEach(function(t){"trr-int"===t.type?a.push("a=rtcp-fb:"+e.id+" trr-int "+(t.value?t.value:"0")):a.push("a=rtcp-fb:"+e.id+" "+t.type+(t.subtype?" "+t.subtype:""))})}),s.feedback&&s.feedback.forEach(function(e){"trr-int"===e.type?a.push("a=rtcp-fb:* trr-int "+(e.value?e.value:"0")):a.push("a=rtcp-fb:* "+e.type+(e.subtype?" "+e.subtype:""))}),(s.headerExtensions||[]).forEach(function(e){a.push("a=extmap:"+e.id+(e.senders?"/"+r[i][o][e.senders]:"")+" "+e.uri)}),(s.sourceGroups||[]).forEach(function(e){a.push("a=ssrc-group:"+e.semantics+" "+e.sources.join(" "))}),(s.sources||[]).forEach(function(e){for(var t=0;t<e.parameters.length;t++){var n=e.parameters[t];a.push("a=ssrc:"+(e.ssrc||s.ssrc)+" "+n.key+(n.value?":"+n.value:""))}}),(c.candidates||[]).forEach(function(e){a.push(n.toCandidateSDP(e))}),a.join("\r\n")},n.toCandidateSDP=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"srflx"!==n&&"prflx"!==n&&"relay"!==n||e.relAddr&&e.relPort&&(t.push("raddr"),t.push(e.relAddr),t.push("rport"),t.push(e.relPort)),e.tcpType&&"TCP"==e.protocol.toUpperCase()&&(t.push("tcptype"),t.push(e.tcpType)),t.push("generation"),t.push(e.generation||"0"),"a=candidate:"+t.join(" ")}},{"./senders":56}],59:[function(e,t){"use strict";var n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;default:n[t[r]]=t[r+1]}return n},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},n.writeRtpMap=function(e){var t=e.payloadType;return e.preferredPayloadType!==undefined&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),a=0;a<r.length;a++)t=r[a].trim().split("="),n[t[0].trim()]=t[1];return n},n.writeFmtp=function(e){var t="",n=e.payloadType;if(e.preferredPayloadType!==undefined&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",n=e.payloadType;return e.preferredPayloadType!==undefined&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},n.getIceParameters=function(e,t){var r=n.splitLines(e);return r=r.concat(n.splitLines(t)),{usernameFragment:r.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e),a=r[0].split(" "),i=3;i<a.length;i++){var o=a[i],s=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var c=n.parseRtpMap(s),l=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(c.parameters=l.length?n.parseFmtp(l[0]):{},c.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(e){return e.preferredPayloadType!==undefined?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)});var a=0;return t.codecs.forEach(function(e){e.maxptime>a&&(a=e.maxptime)}),a>0&&(r+="a=maxptime:"+a+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions.forEach(function(e){r+=n.writeExtmap(e)}),r},n.parseRtpEncodingParameters=function(e){var t,r=[],a=n.parseRtpParameters(e),i=-1!==a.fecMechanisms.indexOf("RED"),o=-1!==a.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,l=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),a.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};r.push(n),i&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:t,mechanism:o?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&c&&r.push({ssrc:c});var u=n.matchPrefix(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),r.forEach(function(e){e.maxBitrate=u})),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var a=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=a.length>0,t.compound=0===a.length;var i=n.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var a=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return a.length>0?(t=a[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},n.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,a){var i=n.writeRtpDescription(e.kind,t);if(i+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var o="msid:"+a.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+o,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),i},n.getDirection=function(e,t){for(var r=n.splitLines(e),a=0;a<r.length;a++)switch(r[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[a].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.exports=n},{}],60:[function(e,t){t.exports=e("./lib/")},{"./lib/":61}],61:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r=a(e),i=r.source,l=r.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(s("ignoring socket cache for %s",i),n=o(i,t)):(c[l]||(s("new io instance for %s",i),c[l]=o(i,t)),n=c[l]),n.socket(r.path)}var a=e("./url"),i=e("socket.io-parser"),o=e("./manager"),s=e("debug")("socket.io-client");t.exports=n=r;var c=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":62,"./socket":64,"./url":65,debug:19,"socket.io-parser":67}],62:[function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);e&&"object"==typeof e&&(t=e,e=undefined),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new o.Encoder,this.decoder=new o.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var r=(e("./url"),e("engine.io-client")),a=e("./socket"),i=e("component-emitter"),o=e("socket.io-parser"),s=e("./on"),c=e("component-bind"),l=(e("object-component"),e("debug")("socket.io-client:manager")),u=e("indexof"),d=e("backo2");t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},n.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},i(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var a=s(t,"open",function(){n.onopen(),e&&e()}),i=s(t,"error",function(t){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;l("connect attempt will timeout after %d",o);var c=setTimeout(function(){l("connect attempt timed out after %d",o),a.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(a),this.subs.push(i),this},n.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose")))},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},n.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new a(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~u(n.connected,t)||n.connected.push(t)})}return t},n.prototype.destroy=function(e){var t=u(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},n.prototype.packet=function(e){l("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){l("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},n.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":63,"./socket":64,"./url":65,backo2:13,"component-bind":16,"component-emitter":17,debug:19,"engine.io-client":20,indexof:41,"object-component":48,"socket.io-parser":67}],63:[function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=n},{}],64:[function(e,t){function n(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=e("socket.io-parser"),a=e("component-emitter"),i=e("to-array"),o=e("./on"),s=e("component-bind"),c=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=n;var u={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},d=a.prototype.emit;a(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){
return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},n.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=i(arguments),n=r.EVENT;l(t)&&(n=r.BINARY_EVENT);var a={type:n,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),a.id=this.ids++),this.connected?this.packet(a):this.sendBuffer.push(a),this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},n.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var a=i(arguments);c("sending ack %j",a);var o=l(a)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:a})}}},n.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data),this.acks[e.id].apply(this,e.data),delete this.acks[e.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":63,"component-bind":16,"component-emitter":17,debug:19,"has-binary":39,"socket.io-parser":67,"to-array":69}],65:[function(e,t){(function(n){function r(e,t){var r=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=a(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(t&&t.port==r.port?"":":"+r.port),r}var a=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:19,parseuri:51}],66:[function(e,t,n){(function(t){var r=e("isarray"),a=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(a(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=t(e[s]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var c in e)o[c]=t(e[c]);return o}return e}var n=[],i=e.data,o=e;return o.data=t(i),o.attachments=n.length,{packet:o,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){return t[e.num]}if(r(e)){for(var a=0;a<e.length;a++)e[a]=n(e[a]);return e}if(e&&"object"==typeof e){for(var i in e)e[i]=n(e[i]);return e}return e}return e.data=n(e.data),e.attachments=undefined,e},n.removeBlobs=function(e,n){function i(e,c,l){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:s=this.result,--o||n(s)},u.readAsArrayBuffer(e)}else if(r(e))for(var d=0;d<e.length;d++)i(e[d],d,e);else if(e&&"object"==typeof e&&!a(e))for(var p in e)i(e[p],p,e)}var o=0,s=e;i(s),o||n(s)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":68,isarray:42}],67:[function(e,t,n){function r(){}function a(e){var t="",r=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=f.deconstructPacket(e),r=a(n.packet),i=n.buffers;i.unshift(r),t(i)}f.removeBlobs(e,n)}function o(){this.reconstructor=null}function s(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return l();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var a="";"-"!=e.charAt(++r)&&(a+=e.charAt(r),r!=e.length););if(a!=Number(a)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(a)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,r==e.length)break}else t.nsp="/";var o=e.charAt(r+1);if(""!==o&&Number(o)==o){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=d.parse(e.substr(r))}catch(e){return l()}return u("decoded %s as %j",e,t),t}function c(e){this.reconPack=e,this.buffers=[]}function l(){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),f=e("./binary"),m=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=o,r.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{t([a(e)])}},p(o.prototype),o.prototype.add=function(e){var t;if("string"==typeof e)t=s(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":66,"./is-buffer":68,"component-emitter":17,debug:19,isarray:42,json3:43}],68:[function(e,t){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=n},{}],70:[function(t,n,r){(function(t){!function(a){function i(e){for(var t,n,r=[],a=0,i=e.length;a<i;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<i?(n=e.charCodeAt(a++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--)):r.push(t);return r}function o(e){for(var t,n=e.length,r=-1,a="";++r<n;)t=e[r],t>65535&&(t-=65536,a+=E(t>>>10&1023|55296),t=56320|1023&t),a+=E(t);return a}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function c(e,t){return E(e>>t&63|128)}function l(e){if(0==(4294967168&e))return E(e);var t="";return 0==(4294965248&e)?t=E(e>>6&31|192):0==(4294901760&e)?(s(e),t=E(e>>12&15|224),t+=c(e,6)):0==(4292870144&e)&&(t=E(e>>18&7|240),t+=c(e,12),t+=c(e,6)),t+=E(63&e|128)}function u(e){for(var t,n=i(e),r=n.length,a=-1,o="";++a<r;)t=n[a],o+=l(t);return o}function d(){if(b>=g)throw Error("Invalid byte index");var e=255&v[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,r,a;if(b>g)throw Error("Invalid byte index");if(b==g)return!1;if(e=255&v[b],b++,0==(128&e))return e;if(192==(224&e)){var t=d();if((a=(31&e)<<6|t)>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=d(),n=d(),(a=(15&e)<<12|t<<6|n)>=2048)return s(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=d(),n=d(),r=d(),(a=(15&e)<<18|t<<12|n<<6|r)>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}function f(e){v=i(e),g=v.length,b=0;for(var t,n=[];!1!==(t=p());)n.push(t);return o(n)}var m="object"==typeof r&&r,h="object"==typeof n&&n&&n.exports==m&&n,y="object"==typeof t&&t;y.global!==y&&y.window!==y||(a=y);var v,g,b,E=String.fromCharCode,w={version:"2.0.0",encode:u,decode:f};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return w});else if(m&&!m.nodeType)if(h)h.exports=w;else{var R={},_=R.hasOwnProperty;for(var k in w)_.call(w,k)&&(m[k]=w[k])}else a.utf8=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],72:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],73:[function(e,t,n){(function(t,r){function a(e,t){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,e,r.depth)}function i(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function o(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(r,e);return b(a)||(a=c(e,a,r)),a}var i=l(e,t);if(i)return i;var o=Object.keys(t),h=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),C(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if(x(t)){var y=t.name?": "+t.name:"";return e.stylize("[Function"+y+"]","special")}if(R(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return u(t)}var v="",g=!1,E=["{","}"];if(m(t)&&(g=!0,E=["[","]"]),x(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(R(t)&&(v=" "+RegExp.prototype.toString.call(t)),k(t)&&(v=" "+Date.prototype.toUTCString.call(t)),C(t)&&(v=" "+u(t)),0===o.length&&(!g||0==t.length))return E[0]+v+E[1];if(r<0)return R(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w;return w=g?d(e,t,r,h,o):o.map(function(n){return p(e,t,r,h,n,g)}),e.seen.pop(),f(w,v,E)}function l(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)P(t,String(o))?i.push(p(e,t,n,r,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(p(e,t,n,r,a,!0))}),i}function p(e,t,n,r,a,i){var o,s,l;if(l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),P(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=y(n)?c(e,l.value,null):c(e,l.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(o)){if(i&&a.match(/^\d+$/))return s;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return null==e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function w(e){return void 0===e}function R(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function k(e){return _(e)&&"[object Date]"===S(e)}function C(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var j=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(j,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])y(s)||!_(s)?o+=" "+s:o+=" "+a(s);return o},n.deprecate=function(e,a){function i(){if(!o){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),o=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,a).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return i};var M,D={};n.debuglog=function(e){if(w(M)&&(M=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(M)){var r=t.pid;D[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else D[e]=function(){};return D[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=h,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=g,n.isString=b,n.isSymbol=E,n.isUndefined=w,n.isRegExp=R,n.isObject=_,n.isDate=k,n.isError=C,n.isFunction=x,n.isPrimitive=O,n.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":72,_process:52,inherits:71}],74:[function(e,t){var n,r;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(n="moz",r=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(n="webkit",r=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var a=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=window.mozRTCIceCandidate||window.RTCIceCandidate,o=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,c="https:"===window.location.protocol&&("webkit"===n&&r>=26||"moz"===n&&r>=33),l=window.AudioContext||window.webkitAudioContext,u=document.createElement("video"),d=u&&u.canPlayType&&"probably"===u.canPlayType('video/webm; codecs="vp8", vorbis'),p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:n,browserVersion:r,support:!!a&&!!p,supportRTCPeerConnection:!!a,supportVp8:d,supportGetUserMedia:!!p,supportDataChannel:!!(a&&a.prototype&&a.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!c,AudioContext:l,PeerConnection:a,SessionDescription:o,IceCandidate:i,MediaStream:s,getUserMedia:p}},{}],75:[function(e,t){function n(){}t.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e){this.callbacks=this.callbacks||{};var t=3===arguments.length,n=t?arguments[1]:undefined,r=t?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[e]=this.callbacks[e]||[]).push(r),this},t.once=function(e){function t(){n.off(e,t),i.apply(this,arguments)}var n=this,r=3===arguments.length,a=r?arguments[1]:undefined,i=r?arguments[2]:arguments[1];return this.on(e,a,t),this},t.releaseGroup=function(e){this.callbacks=this.callbacks||{};var t,n,r,a;for(t in this.callbacks)for(a=this.callbacks[t],n=0,r=a.length;n<r;n++)a[n]._groupName===e&&(a.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(n=r.indexOf(t),r.splice(n,1),0===r.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,a=[].slice.call(arguments,1),i=this.callbacks[e],o=this.getWildcardCallbacks(e);if(i)for(r=i.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,a);if(o)for(n=o.length,r=o.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,[e].concat(a));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},n.mixin(n)},{}],76:[function(e,t){function n(e,t){return t?new a(e,t):new a(e)}var r=function(){return this}(),a=r.WebSocket||r.MozWebSocket;t.exports=a?n:null,a&&(n.prototype=a.prototype)},{}],77:[function(e,t){function n(e){var t=!0;return e.getTracks().forEach(function(e){t="ended"===e.readyState&&t}),t}function r(e){var t=this;s.call(this),this.id=e.id,this.parent=e.parent,this.type=e.type||"video",this.oneway=e.oneway||!1,this.sharemyscreen=e.sharemyscreen||!1,this.browserPrefix=e.prefix,this.stream=e.stream,this.enableDataChannels=e.enableDataChannels===undefined?this.parent.config.enableDataChannels:e.enableDataChannels,this.receiveMedia=e.receiveMedia||this.parent.config.receiveMedia,this.channels={},this.sid=e.sid||Date.now().toString(),this.pc=new o(this.parent.config.peerConnectionConfig,this.parent.config.peerConnectionConstraints),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("endOfCandidates",function(e){t.send("endOfCandidates",e)}),this.pc.on("offer",function(e){t.parent.config.nick&&(e.nick=t.parent.config.nick),t.send("offer",e)}),this.pc.on("answer",function(e){t.parent.config.nick&&(e.nick=t.parent.config.nick),t.send("answer",e)}),this.pc.on("addStream",this.handleRemoteStreamAdded.bind(this)),this.pc.on("addChannel",this.handleDataChannelAdded.bind(this)),this.pc.on("removeStream",this.handleStreamRemoved.bind(this)),this.pc.on("negotiationNeeded",this.emit.bind(this,"negotiationNeeded")),this.pc.on("iceConnectionStateChange",this.emit.bind(this,"iceConnectionStateChange")),this.pc.on("iceConnectionStateChange",function(){switch(t.pc.iceConnectionState){case"failed":"offer"===t.pc.pc.localDescription.type&&(t.parent.emit("iceFailed",t),t.send("connectivityError"))}}),this.pc.on("signalingStateChange",this.emit.bind(this,"signalingStateChange")),this.logger=this.parent.logger,"screen"===e.type?this.parent.localScreens&&this.parent.localScreens[0]&&this.sharemyscreen&&(this.logger.log("adding local screen stream to peer connection"),this.pc.addStream(this.parent.localScreens[0]),this.broadcaster=e.broadcaster):this.parent.localStreams.forEach(function(e){t.pc.addStream(e)}),this.on("channelOpen",function(e){e.protocol===l&&(e.onmessage=function(n){var r=JSON.parse(n.data),a=new c.Receiver;a.receive(r,e),t.emit("fileTransfer",r,a),a.on("receivedFile",function(){a.channel.close()})})}),this.on("*",function(){t.parent.emit.apply(t.parent,arguments)})}var a=e("util"),i=e("webrtcsupport"),o=e("rtcpeerconnection"),s=e("wildemitter"),c=e("filetransfer"),l="https://simplewebrtc.com/protocol/filetransfer#inband-v1";a.inherits(r,s),r.prototype.handleMessage=function(e){var t=this;if(this.logger.log("getting",e.type,e),e.prefix&&(this.browserPrefix=e.prefix),"offer"===e.type)this.nick||(this.nick=e.payload.nick),delete e.payload.nick,this.pc.handleOffer(e.payload,function(e){e||t.pc.answer(function(){})});else if("answer"===e.type)this.nick||(this.nick=e.payload.nick),delete e.payload.nick,this.pc.handleAnswer(e.payload);else if("candidate"===e.type)this.pc.processIce(e.payload);else if("connectivityError"===e.type)this.parent.emit("connectivityError",t);else if("mute"===e.type)this.parent.emit("mute",{id:e.from,name:e.payload.name});else if("unmute"===e.type)this.parent.emit("unmute",{id:e.from,name:e.payload.name});else if("endOfCandidates"===e.type){var n=this.pc.pc.transceivers||[];n.forEach(function(e){e.iceTransport&&e.iceTransport.addRemoteCandidate({})})}},r.prototype.send=function(e,t){var n={to:this.id,sid:this.sid,broadcaster:this.broadcaster,roomType:this.type,type:e,payload:t,prefix:i.prefix};this.logger.log("sending",e,n),this.parent.emit("message",n)},r.prototype.sendDirectly=function(e,t,n){var r={type:t,payload:n};this.logger.log("sending via datachannel",e,t,r);var a=this.getDataChannel(e);return"open"==a.readyState&&(a.send(JSON.stringify(r)),!0)},r.prototype._observeDataChannel=function(e){var t=this;e.onclose=this.emit.bind(this,"channelClose",e),e.onerror=this.emit.bind(this,"channelError",e),e.onmessage=function(n){t.emit("channelMessage",t,e.label,JSON.parse(n.data),e,n)},e.onopen=this.emit.bind(this,"channelOpen",e)},r.prototype.getDataChannel=function(e,t){if(!i.supportDataChannel)return this.emit("error",new Error("createDataChannel not supported"));var n=this.channels[e];return t||(t={}),n||(n=this.channels[e]=this.pc.createDataChannel(e,t),this._observeDataChannel(n),n)},r.prototype.onIceCandidate=function(e){if(!this.closed)if(e){var t=this.parent.config.peerConnectionConfig;"moz"===i.prefix&&t&&t.iceTransports&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.indexOf(t.iceTransports)<0?this.logger.log("Ignoring ice candidate not matching pcConfig iceTransports type: ",t.iceTransports):this.send("candidate",e)}else this.logger.log("End of candidates.")},r.prototype.start=function(){this.enableDataChannels&&this.getDataChannel("simplewebrtc"),this.pc.offer(this.receiveMedia,function(){})},r.prototype.icerestart=function(){var e=this.receiveMedia;e.mandatory.IceRestart=!0,this.pc.offer(e,function(){})},r.prototype.end=function(){this.closed||(this.pc.close(),this.handleStreamRemoved())},r.prototype.handleRemoteStreamAdded=function(e){var t=this;this.stream?this.logger.warn("Already have a remote stream"):(this.stream=e.stream,this.stream.getTracks().forEach(function(e){e.addEventListener("ended",function(){n(t.stream)&&t.end()})}),this.parent.emit("peerStreamAdded",this))},r.prototype.handleStreamRemoved=function(){var e=this.parent.peers.indexOf(this);e>-1&&(this.parent.peers.splice(e,1),this.closed=!0,this.parent.emit("peerStreamRemoved",this))},r.prototype.handleDataChannelAdded=function(e){this.channels[e.label]=e,this._observeDataChannel(e)},r.prototype.sendFile=function(e){var t=new c.Sender,n=this.getDataChannel("filetransfer"+(new Date).getTime(),{protocol:l});return n.onopen=function(){n.send(JSON.stringify({size:e.size,name:e.name})),t.send(e,n)},n.onclose=function(){console.log("sender received transfer"),t.emit("complete")},t},t.exports=r},{filetransfer:35,rtcpeerconnection:53,util:73,webrtcsupport:74,wildemitter:75}],78:[function(e,t){function n(e){var t,n,l=this,u=e||{},d=this.config={url:"https://sandbox.simplewebrtc.com:443/",socketio:{},connection:null,debug:!1,localVideoEl:"",remoteVideosEl:"",enableDataChannels:!0,autoRequestMedia:!1,autoRemoveVideos:!0,adjustPeerVolume:!1,peerVolumeWhenSpeaking:.25,media:{video:!0,audio:!0},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},localVideo:{autoplay:!0,mirror:!0,muted:!0}};this.logger=function(){return e.debug?e.logger||console:e.logger||s}();for(t in u)u.hasOwnProperty(t)&&(this.config[t]=u[t]);this.capabilities=i,a.call(this),n=null===this.config.connection?this.connection=new c(this.config):this.connection=this.config.connection,n.on("connect",function(){l.emit("connectionReady",n.getSessionid()),l.sessionReady=!0,l.testReadiness()}),n.on("message",function(e){var t,n=l.webrtc.getPeers(e.from,e.roomType);"offer"===e.type?(n.length&&n.forEach(function(n){n.sid==e.sid&&(t=n)}),t||(t=l.webrtc.createPeer({id:e.from,sid:e.sid,type:e.roomType,enableDataChannels:l.config.enableDataChannels&&"screen"!==e.roomType,sharemyscreen:"screen"===e.roomType&&!e.broadcaster,broadcaster:"screen"!==e.roomType||e.broadcaster?null:l.connection.getSessionid()}),l.emit("createdPeer",t)),t.handleMessage(e)):n.length&&n.forEach(function(t){e.sid?t.sid===e.sid&&t.handleMessage(e):t.handleMessage(e)})}),n.on("remove",function(e){e.id!==l.connection.getSessionid()&&l.webrtc.removePeers(e.id,e.type)}),e.logger=this.logger,e.debug=!1,this.webrtc=new r(e),["mute","unmute","pauseVideo","resumeVideo","pause","resume","sendToAll","sendDirectlyToAll","getPeers"].forEach(function(e){l[e]=l.webrtc[e].bind(l.webrtc)}),this.webrtc.on("*",function(){l.emit.apply(l,arguments)}),d.debug&&this.on("*",this.logger.log.bind(this.logger,"SimpleWebRTC event:")),this.webrtc.on("localStream",function(){l.testReadiness()}),this.webrtc.on("message",function(e){l.connection.emit("message",e)}),this.webrtc.on("peerStreamAdded",this.handlePeerStreamAdded.bind(this)),this.webrtc.on("peerStreamRemoved",this.handlePeerStreamRemoved.bind(this)),this.config.adjustPeerVolume&&(this.webrtc.on("speaking",this.setVolumeForAll.bind(this,this.config.peerVolumeWhenSpeaking)),this.webrtc.on("stoppedSpeaking",this.setVolumeForAll.bind(this,1))),n.on("stunservers",function(e){l.webrtc.config.peerConnectionConfig.iceServers=e,l.emit("stunservers",e)}),n.on("turnservers",function(e){l.webrtc.config.peerConnectionConfig.iceServers=l.webrtc.config.peerConnectionConfig.iceServers.concat(e),l.emit("turnservers",e)}),this.webrtc.on("iceFailed",function(){}),this.webrtc.on("connectivityError",function(){}),this.webrtc.on("audioOn",function(){l.webrtc.sendToAll("unmute",{name:"audio"})}),this.webrtc.on("audioOff",function(){l.webrtc.sendToAll("mute",{name:"audio"})}),this.webrtc.on("videoOn",function(){l.webrtc.sendToAll("unmute",{name:"video"})}),this.webrtc.on("videoOff",function(){l.webrtc.sendToAll("mute",{name:"video"})}),this.webrtc.on("localScreen",function(e){var t=document.createElement("video"),n=l.getRemoteVideoContainer();t.oncontextmenu=function(){return!1},t.id="localScreen",o(e,t),n&&n.appendChild(t),l.emit("localScreenAdded",t),l.connection.emit("shareScreen"),l.webrtc.peers.forEach(function(e){var t;"video"===e.type&&(t=l.webrtc.createPeer({id:e.id,type:"screen",sharemyscreen:!0,enableDataChannels:!1,receiveMedia:{offerToReceiveAudio:0,offerToReceiveVideo:0},broadcaster:l.connection.getSessionid()}),l.emit("createdPeer",t),t.start())})}),this.webrtc.on("localScreenStopped",function(){l.getLocalScreen()&&l.stopScreenShare()}),this.webrtc.on("channelMessage",function(e,t,n){"volume"==n.type&&l.emit("remoteVolumeChange",e,n.volume)}),this.config.autoRequestMedia&&this.startLocalVideo()}var r=e("./webrtc"),a=e("wildemitter"),i=e("webrtcsupport"),o=e("attachmediastream"),s=e("mockconsole"),c=e("./socketioconnection");n.prototype=Object.create(a.prototype,{constructor:{value:n}}),n.prototype.leaveRoom=function(){if(this.roomName){for(this.connection.emit("leave");this.webrtc.peers.length;)this.webrtc.peers[0].end();this.getLocalScreen()&&this.stopScreenShare(),this.emit("leftRoom",this.roomName),this.roomName=undefined}},n.prototype.disconnect=function(){this.connection.disconnect(),delete this.connection},n.prototype.handlePeerStreamAdded=function(e){var t=this,n=this.getRemoteVideoContainer(),r=o(e.stream);e.videoEl=r,r.id=this.getDomId(e),n&&n.appendChild(r),this.emit("videoAdded",r,e),window.setTimeout(function(){t.webrtc.isAudioEnabled()||e.send("mute",{name:"audio"}),t.webrtc.isVideoEnabled()||e.send("mute",{name:"video"})},250)},n.prototype.handlePeerStreamRemoved=function(e){var t=this.getRemoteVideoContainer(),n=e.videoEl;this.config.autoRemoveVideos&&t&&n&&t.removeChild(n),n&&this.emit("videoRemoved",n,e)},n.prototype.getDomId=function(e){return[e.id,e.type,e.broadcaster?"broadcasting":"incoming"].join("_")},n.prototype.setVolumeForAll=function(e){this.webrtc.peers.forEach(function(t){t.videoEl&&(t.videoEl.volume=e)})},n.prototype.joinRoom=function(e,t){var n=this;this.roomName=e,this.connection.emit("join",e,function(r,a){if(console.log("join CB",r,a),r)n.emit("error",r);else{var i,o,s,c;for(i in a.clients){o=a.clients[i];for(s in o)o[s]&&(c=n.webrtc.createPeer({id:i,type:s,enableDataChannels:n.config.enableDataChannels&&"screen"!==s,receiveMedia:{offerToReceiveAudio:"screen"!==s&&n.config.receiveMedia.offerToReceiveAudio?1:0,offerToReceiveVideo:n.config.receiveMedia.offerToReceiveVideo}}),n.emit("createdPeer",c),c.start())}}t&&t(r,a),n.emit("joinedRoom",e)})},n.prototype.getEl=function(e){return"string"==typeof e?document.getElementById(e):e},n.prototype.startLocalVideo=function(){var e=this;this.webrtc.start(this.config.media,function(t,n){t?e.emit("localMediaError",t):o(n,e.getLocalVideoContainer(),e.config.localVideo)})},n.prototype.stopLocalVideo=function(){this.webrtc.stop()},n.prototype.getLocalVideoContainer=function(){var e=this.getEl(this.config.localVideoEl);if(e&&"VIDEO"===e.tagName)return e.oncontextmenu=function(){return!1},e;if(e){var t=document.createElement("video");return t.oncontextmenu=function(){return!1},e.appendChild(t),t}},n.prototype.getRemoteVideoContainer=function(){return this.getEl(this.config.remoteVideosEl)},n.prototype.shareScreen=function(e){this.webrtc.startScreenShare(e)},n.prototype.getLocalScreen=function(){return this.webrtc.localScreens&&this.webrtc.localScreens[0]},n.prototype.stopScreenShare=function(){this.connection.emit("unshareScreen");var e=document.getElementById("localScreen"),t=this.getRemoteVideoContainer();this.config.autoRemoveVideos&&t&&e&&t.removeChild(e),e&&this.emit("videoRemoved",e),this.getLocalScreen()&&this.webrtc.stopScreenShare(),this.webrtc.peers.forEach(function(e){e.broadcaster&&e.end()})},n.prototype.testReadiness=function(){var e=this;this.sessionReady&&(this.config.media.video||this.config.media.audio?this.webrtc.localStreams.length>0&&e.emit("readyToCall",e.connection.getSessionid()):e.emit("readyToCall",e.connection.getSessionid()))},n.prototype.createRoom=function(e,t){this.roomName=e,2===arguments.length?this.connection.emit("create",e,t):this.connection.emit("create",e)},n.prototype.sendFile=function(){
if(!i.dataChannel)return this.emit("error",new Error("DataChannelNotSupported"))},t.exports=n},{"./socketioconnection":79,"./webrtc":80,attachmediastream:3,mockconsole:46,webrtcsupport:74,wildemitter:75}],79:[function(e,t){function n(e){this.connection=r.connect(e.url,e.socketio)}var r=e("socket.io-client");n.prototype.on=function(e,t){this.connection.on(e,t)},n.prototype.emit=function(){this.connection.emit.apply(this.connection,arguments)},n.prototype.getSessionid=function(){return this.connection.id},n.prototype.disconnect=function(){return this.connection.disconnect()},t.exports=n},{"socket.io-client":60}],80:[function(e,t){function n(e){var t,n=this,r=e||{};this.config={debug:!1,peerConnectionConfig:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[]},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},enableDataChannels:!0};this.logger=function(){return e.debug?e.logger||console:e.logger||i}();for(t in r)r.hasOwnProperty(t)&&(this.config[t]=r[t]);a.support||this.logger.error("Your browser doesn't seem to support WebRTC"),this.peers=[],o.call(this,this.config),this.on("speaking",function(){n.hardMuted||n.peers.forEach(function(e){if(e.enableDataChannels){var t=e.getDataChannel("hark");if("open"!=t.readyState)return;t.send(JSON.stringify({type:"speaking"}))}})}),this.on("stoppedSpeaking",function(){n.hardMuted||n.peers.forEach(function(e){if(e.enableDataChannels){var t=e.getDataChannel("hark");if("open"!=t.readyState)return;t.send(JSON.stringify({type:"stoppedSpeaking"}))}})}),this.on("volumeChange",function(e){n.hardMuted||n.peers.forEach(function(t){if(t.enableDataChannels){var n=t.getDataChannel("hark");if("open"!=n.readyState)return;n.send(JSON.stringify({type:"volume",volume:e}))}})}),this.config.debug&&this.on("*",function(e,t,r){var a;a=n.config.logger===i?console:n.logger,a.log("event:",e,t,r)})}var r=e("util"),a=e("webrtcsupport"),i=e("mockconsole"),o=e("localmedia"),s=e("./peer");r.inherits(n,o),n.prototype.createPeer=function(e){var t;return e.parent=this,t=new s(e),this.peers.push(t),t},n.prototype.removePeers=function(e,t){this.getPeers(e,t).forEach(function(e){e.end()})},n.prototype.getPeers=function(e,t){return this.peers.filter(function(n){return!(e&&n.id!==e||t&&n.type!==t)})},n.prototype.sendToAll=function(e,t){this.peers.forEach(function(n){n.send(e,t)})},n.prototype.sendDirectlyToAll=function(e,t,n){this.peers.forEach(function(r){r.enableDataChannels&&r.sendDirectly(e,t,n)})},t.exports=n},{"./peer":77,localmedia:44,mockconsole:46,util:73,webrtcsupport:74}]},{},[78])(78)});